# E2E Scrape/Load Tracker

Objetivo: **una sola lista** de trabajo operativo para completar el extremo a extremo (extract -> transform -> load -> publish) por tipo de dato.

Reglas:
- Marcar `DONE` solo con evidencia (comando/SQL/snapshot) y `records_loaded > 0` en red real (cuando aplique).
- No duplicar este backlog en otros docs (para planificación: `docs/roadmap.md` y `docs/roadmap-tecnico.md`).
- Foco operativo vigente: priorizar lanes `Derechos` (restricciones de libertad) y no abrir nuevos lanes fuera de ese bloque mientras no se cumpla el gate de cobertura definido en la fila `Gate de foco: libertad ciudadana primero`.
- Excepción operativa: trabajo en lanes no-`Derechos` solo para mantenimiento crítico (rotura de pipeline, corrupción de datos o incumplimiento de integridad).

Actualización de prioridad vigente (`2026-02-26`):

- **Prioridad activa**: terminar y estabilizar el bloque `Derechos` (restricciones de libertad) end-to-end.
- **No tocar en bloque**: `PLACSP`, `AEMET`, `BDE`, `UE` y otros lanes no-`Derechos` salvo mantenimiento crítico.
- **P0 de estabilización**: resolver continuidad de release de `liberty atlas` y drift de heartbeat (`AI-OPS-217` -> `AI-OPS-218`) antes de abrir nuevas prioridades no críticas.

Próximo arranque recomendado (derechos):

```bash
DB=etl/data/staging/politicos-es.db
SNAPSHOT_DATE=2026-02-26
set -e

DB_PATH="$DB" SNAPSHOT_DATE="$SNAPSHOT_DATE" just parl-liberty-restrictions-pipeline
DB_PATH="$DB" SNAPSHOT_DATE="$SNAPSHOT_DATE" just parl-report-liberty-restrictions-status
DB_PATH="$DB" SNAPSHOT_DATE="$SNAPSHOT_DATE" just parl-report-liberty-direct-accountability-scores
DB_PATH="$DB" SNAPSHOT_DATE="$SNAPSHOT_DATE" just parl-report-liberty-indirect-accountability-status
DB_PATH="$DB" SNAPSHOT_DATE="$SNAPSHOT_DATE" just parl-report-liberty-personal-accountability-scores
DB_PATH="$DB" SNAPSHOT_DATE="$SNAPSHOT_DATE" just parl-export-liberty-restrictions-snapshot
DB_PATH="$DB" SNAPSHOT_DATE="$SNAPSHOT_DATE" just parl-publish-liberty-atlas-artifacts
DB_PATH="$DB" SNAPSHOT_DATE="$SNAPSHOT_DATE" just etl-publish-hf-dry-run
DB_PATH="$DB" SNAPSHOT_DATE="$SNAPSHOT_DATE" just parl-report-liberty-atlas-release-heartbeat
DB_PATH="$DB" SNAPSHOT_DATE="$SNAPSHOT_DATE" just parl-check-liberty-atlas-release-heartbeat-window
```

Control de cierre mínimo:

```bash
sqlite3 "$DB" "SELECT 'liberty_restriction_assessments' AS table, COUNT(*) FROM liberty_restriction_assessments;"
sqlite3 "$DB" "SELECT 'liberty_right_categories' AS table, COUNT(*) FROM liberty_right_categories;"
sqlite3 "$DB" "SELECT 'liberty_proportionality_reviews' AS table, COUNT(*) FROM liberty_proportionality_reviews;"
sqlite3 "$DB" "SELECT 'liberty_enforcement_observations' AS table, COUNT(*) FROM liberty_enforcement_observations;"
sqlite3 "$DB" "SELECT 'liberty_indirect_responsibility_edges' AS table, COUNT(*) FROM liberty_indirect_responsibility_edges;"
sqlite3 "$DB" "SELECT 'responsibility_score' AS table, COUNT(*) FROM responsibility_score;"
```

Atajos:
- Estado (SQL vs tracker): `just etl-tracker-status`
- Gate default estricto (usa `docs/etl/mismatch-waivers.json`; falla por `mismatch` no waived, waiver `expired`, o `DONE` sin red real): `just etl-tracker-gate`
- Gate legacy (compatibilidad histórica; ignora política de mismatches y solo valida `DONE` sin red real): `just etl-tracker-gate-legacy`

Próximo bloque operativo recomendado (histórico; revisar solo tras cerrar `Derechos`):

- Contratación pública (PLACSP): detalle y documentación -> `python3 scripts/ingestar_politicos_es.py backfill-placsp-contract-details ...` -> `python3 scripts/ingestar_politicos_es.py backfill-money-contract-records ...` -> `just etl-tracker-status`.
- Al terminar, validar cierre con SQL de cobertura:
  - `sqlite3 etl/data/staging/politicos-es.db "select source_id, count(*) from placsp_contract_detail_records group by source_id;"`
  - `sqlite3 etl/data/staging/politicos-es.db "select source_id, count(*) from placsp_contract_detail_documents group by source_id;"`
  - `sqlite3 etl/data/staging/politicos-es.db "select source_id, count(*) from money_contract_records where source_id in ('placsp_sindicacion','placsp_autonomico') group by source_id;"`
  - `sqlite3 etl/data/staging/politicos-es.db "select source_id, count(*) from policy_events where source_id in ('placsp_sindicacion','placsp_autonomico') and source_record_pk is not null group by source_id;"`

Runbook rápido (histórico; ejecutar solo en cola no-`Derechos`):

```bash
DB=etl/data/staging/politicos-es.db

python3 scripts/ingestar_politicos_es.py backfill-placsp-contract-details \
  --db "$DB" --source-ids placsp_sindicacion placsp_autonomico \
  --strict-network --only-missing

python3 scripts/ingestar_politicos_es.py backfill-money-contract-records \
  --db "$DB" --source-ids placsp_sindicacion placsp_autonomico

SNAPSHOT_DATE=2026-02-12 DB_PATH="$DB" just etl-tracker-status

# Criterio mínimo de cierre (ambos source_id con al menos 1 fila)
sqlite3 "$DB" "SELECT COUNT(*) FROM placsp_contract_detail_records WHERE source_id='placsp_sindicacion';"
sqlite3 "$DB" "SELECT COUNT(*) FROM placsp_contract_detail_records WHERE source_id='placsp_autonomico';"
sqlite3 "$DB" "SELECT COUNT(*) FROM placsp_contract_detail_documents WHERE source_id='placsp_sindicacion';"
sqlite3 "$DB" "SELECT COUNT(*) FROM placsp_contract_detail_documents WHERE source_id='placsp_autonomico';"
sqlite3 "$DB" "SELECT COUNT(*) FROM money_contract_records WHERE source_id='placsp_sindicacion';"
sqlite3 "$DB" "SELECT COUNT(*) FROM money_contract_records WHERE source_id='placsp_autonomico';"
sqlite3 "$DB" "SELECT COUNT(*) FROM policy_events WHERE source_id='placsp_sindicacion' AND source_record_pk IS NOT NULL;"
sqlite3 "$DB" "SELECT COUNT(*) FROM policy_events WHERE source_id='placsp_autonomico' AND source_record_pk IS NOT NULL;"
```

Prioridad operativa inmediata (histórica; no activa en este arranque):

- P1: cerrar `Contratacion detalle y documentacion de licitaciones (PLACSP)` (script de detalle + mapping money + `policy_events`) -> `SNAPSHOT_DATE=2026-02-12 just etl-tracker-status`.
- P2: terminar contratos de indicadores con bloqueos técnicos: `Indicadores (confusores): AEMET` y `BDE` (requiere token/endpoint/infra) y avanzar `ESIOS/REE` para completar `Outcomes`.
- P3: completar `UE: contratacion publica` + `UE: legislacion y documentos` una vez estabilizado el canal de red/credentials (siguiente unidad funcional para salir de deuda externa).

Runbook de arranque recomendado (P1→P3):

```bash
# P2 (siempre antes de avanzar deuda de Outcomes):
AEMET_API_KEY=<token> python3 scripts/ingestar_politicos_es.py ingest \
  --db etl/data/staging/politicos-es.db \
  --source aemet_opendata_series \
  --url https://opendata.aemet.es/opendata/api/observacion/convencional/todas \
  --snapshot-date 2026-02-17 \
  --strict-network --timeout 30

python3 scripts/ingestar_politicos_es.py ingest \
  --db etl/data/staging/politicos-es.db \
  --source bde_series_api \
  --url https://api.bde.es/datos/series/PARO.TASA.ES.M \
  --snapshot-date 2026-02-17 \
  --strict-network --timeout 30
```

```bash
# P3 (cuando el conector esté definido y con credenciales):
echo "Pendiente: definir `source_id`/endpoint concreto de ESIOS/REE y preparar conector de cuotas/series horarias."
```

Roadmap ejecutable de scraping/processing para el bloque pendiente (histórico):

1. Prioridad 1: completar `Contratacion detalle y documentacion de licitaciones (PLACSP)` con detalle + documentos y verificar trazabilidad de `money_contract_records` + `policy_events`. Comando de arranque: `python3 scripts/ingestar_politicos_es.py backfill-placsp-contract-details --db etl/data/staging/politicos-es.db --source-ids placsp_sindicacion placsp_autonomico --strict-network --only-missing`.
2. Prioridad 2: cerrar cobertura de campos de outcomes técnicos (`Indicadores (confusores): AEMET` y `Banco de Espana`), y mapear a estado/indicadores operativos cuando existan credenciales válidas. Comando de arranque: `python3 scripts/ingestar_politicos_es.py ingest --db etl/data/staging/politicos-es.db --source aemet_opendata_series --url https://opendata.aemet.es/opendata/api/observacion/convencional/todas --snapshot-date 2026-02-17 --strict-network --timeout 30`.
3. Prioridad 3: avanzar `UE: contratacion publica`/`UE: legislacion y documentos` solo cuando el canal UE esté estable y reproducible con source_id definidos. Comando provisional: `DB_PATH=etl/data/staging/politicos-es.db just etl-tracker-gate --focus gate`.

Arranque por prioridad (sin mezcla de bloques):

```bash
# P1 SOLO (siempre primero)
python3 scripts/ingestar_politicos_es.py backfill-placsp-contract-details --db etl/data/staging/politicos-es.db --source-ids placsp_sindicacion placsp_autonomico --strict-network --only-missing
python3 scripts/ingestar_politicos_es.py backfill-money-contract-records --db etl/data/staging/politicos-es.db --source-ids placsp_sindicacion placsp_autonomico
```

```bash
# P2 SOLO (si P1 ya quedó limpio)
AEMET_API_KEY="<token>" python3 scripts/ingestar_politicos_es.py ingest --db etl/data/staging/politicos-es.db --source aemet_opendata_series --url https://opendata.aemet.es/opendata/api/observacion/convencional/todas --snapshot-date 2026-02-17 --strict-network --timeout 30
python3 scripts/ingestar_politicos_es.py ingest --db etl/data/staging/politicos-es.db --source bde_series_api --url https://api.bde.es/datos/series/PARO.TASA.ES.M --snapshot-date 2026-02-17 --strict-network --timeout 30
```

```bash
# P3 SOLO (cuando exista conector)
echo "Sin comando único definido: documentar source_id y endpoint primero en tracker."
```

Checklist de verificación para la fila de contratos (mínimo de cierre):

```bash
DB=etl/data/staging/politicos-es.db
sqlite3 "$DB" "SELECT source_id, count(*) AS detail_rows FROM placsp_contract_detail_records WHERE source_id IN ('placsp_sindicacion', 'placsp_autonomico') GROUP BY source_id;"
sqlite3 "$DB" "SELECT source_id, count(*) AS detail_docs FROM placsp_contract_detail_documents WHERE source_id IN ('placsp_sindicacion', 'placsp_autonomico') GROUP BY source_id;"
sqlite3 "$DB" "SELECT source_id, count(*) AS money_rows FROM money_contract_records WHERE source_id IN ('placsp_sindicacion', 'placsp_autonomico') GROUP BY source_id;"
sqlite3 "$DB" "SELECT source_id, count(*) AS policy_events_linked FROM policy_events WHERE source_id IN ('placsp_sindicacion', 'placsp_autonomico') AND source_record_pk IS NOT NULL GROUP BY source_id;"
```

Cheat sheet de calidad mínima para la fase de limpieza:

```bash
DB=etl/data/staging/politicos-es.db
sqlite3 "$DB" "SELECT source_id, count(*) AS no_null_source_record FROM placsp_contract_detail_records WHERE source_id IN ('placsp_sindicacion','placsp_autonomico') AND source_record_pk IS NULL GROUP BY source_id;"
sqlite3 "$DB" "SELECT source_id, count(*) AS dup_detail_rows FROM placsp_contract_detail_records GROUP BY source_id, source_record_id HAVING COUNT(*)>1;"
sqlite3 "$DB" "SELECT source_id, count(*) AS orphan_money_rows FROM money_contract_records WHERE source_id IN ('placsp_sindicacion','placsp_autonomico') AND source_record_pk IS NULL;"
sqlite3 "$DB" "SELECT 'policy_events' AS tabla, source_id, count(*) AS orphan_policy_rows FROM policy_events WHERE source_id IN ('placsp_sindicacion','placsp_autonomico') AND source_record_pk IS NULL GROUP BY source_id;"
```

Criterio de salida de limpieza: todos los cuatro checks anteriores deben devolver `0` en ambas entidades (`placsp_sindicacion`, `placsp_autonomico`) salvo casos esperados documentados en notas de tracker.

Flujo operativo recomendado (extract → process → clean → structure) para el bloque próximo:

Scrape: `backfill-placsp-contract-details` completa `placsp_contract_detail_records` + `placsp_contract_detail_documents` para ambos source_id.
Process: `backfill-money-contract-records` materializa `money_contract_records` y empuja trazabilidad a `policy_events.source_record_pk`.
Clean: `just etl-tracker-status` confirma `records_loaded > 0`, y validación manual de outliers en `placsp_contract_detail_records`/`placsp_contract_detail_documents` por `source_record_pk` nulo o duplicados.
Structure: export final de `policy_events` + `money_contract_records` entra en el mismo DB path; siguiente control es `just etl-tracker-gate` y evidencias en JSON/snapshots cuando aplique.

Próximo arranque único recomendado (copy/paste):

```bash
DB=etl/data/staging/politicos-es.db
SNAPSHOT_DATE=2026-02-17
set -e

python3 scripts/ingestar_politicos_es.py backfill-placsp-contract-details --db "$DB" --source-ids placsp_sindicacion placsp_autonomico --strict-network --only-missing
python3 scripts/ingestar_politicos_es.py backfill-money-contract-records --db "$DB" --source-ids placsp_sindicacion placsp_autonomico
AEMET_API_KEY=<token> python3 scripts/ingestar_politicos_es.py ingest --db "$DB" --source aemet_opendata_series --url https://opendata.aemet.es/opendata/api/observacion/convencional/todas --snapshot-date "$SNAPSHOT_DATE" --strict-network --timeout 30
python3 scripts/ingestar_politicos_es.py ingest --db "$DB" --source bde_series_api --url https://api.bde.es/datos/series/PARO.TASA.ES.M --snapshot-date "$SNAPSHOT_DATE" --strict-network --timeout 30
SNAPSHOT_DATE="$SNAPSHOT_DATE" DB_PATH="$DB" just etl-tracker-status
```

Esquema de control por etapa de corrida:

```text
1) Extract
   - Éxito esperado: run_id/row-count > 0 para cada comando (salvo AEMET/BDE si persiste token/endpoint issue).
2) Process
   - Éxito esperado: SQL de cobertura devuelve al menos 1 por `source_id` y `policy_events.source_record_pk` linkeados.
3) Clean
   - Éxito esperado: checklist de limpieza = 0 fuera de excepciones documentadas.
4) Structure
   - Éxito esperado: `just etl-tracker-status` y luego `just etl-tracker-gate` sin mismatch no-waive.
```

Semáforo y ruta de decisión (por lane/comando):

```text
Comando
- backfill-placsp-contract-details
- backfill-money-contract-records
- ingest aemet_opendata_series
- ingest bde_series_api
```

Regla de estado:
- `OK`: no hay acción adicional y sigues el siguiente comando del bloque.
- `REINTENTAR` (máx. 1 vez): error transitorio de red/timeout; volver a correr el mismo comando.
- `BLOQUEADO`: 401/403 persistente, payload invalido en strict, o dos intentos sin avance; parar esa lane y escalar.

Fallback por lane:
- `PLACSP`:
  - Si falla `backfill-placsp-contract-details` por red/transitorio, reintenta igual una vez.
  - Si persiste: ejecutar por un solo `source_id` (`placsp_sindicacion` o `placsp_autonomico`).
  - Si vuelve a fallar: registrar evidencia y pasar a la siguiente prioridad.
- `AEMET`:
  - Reintentar 1 vez sólo si se confirma token/endpoint.
  - Si persiste auth/403 o payload inválido en strict: marcar `BLOQUEADO` y registrar blocker.
- `BDE`:
  - Reintentar 1 vez si hubo timeout intermitente.
  - Si persiste 403/SSL/endpoint error, marcar `BLOQUEADO` y no avanzar ese lane a `DONE`.

Ruta de decisión final de bloque:
- Si todo en `OK` → `just etl-tracker-status` y `just etl-tracker-gate`, y si pasan: cerrar bloque como `DONE`.
- Si hay `REINTENTAR` → ejecutar los reintentos definidos y volver a evaluar.
- Si hay `BLOQUEADO` → evidencia en sprint + blocker si aplica, y mover estado a `PARTIAL/TODO` para continuar en la siguiente prioridad controlable.
- Anti-loop: máximo 1 reintento estricto por fuente bloqueada por sprint.

Cierre reproducible del bloque (copy/paste, fin de arranque):

```bash
set -euo pipefail
DB=etl/data/staging/politicos-es.db
SNAPSHOT_DATE=2026-02-17

python3 scripts/ingestar_politicos_es.py backfill-placsp-contract-details \
  --db "$DB" --source-ids placsp_sindicacion placsp_autonomico --strict-network --only-missing

python3 scripts/ingestar_politicos_es.py backfill-money-contract-records \
  --db "$DB" --source-ids placsp_sindicacion placsp_autonomico

AEMET_API_KEY="<token>" python3 scripts/ingestar_politicos_es.py ingest \
  --db "$DB" --source aemet_opendata_series \
  --url https://opendata.aemet.es/opendata/api/observacion/convencional/todas \
  --snapshot-date "$SNAPSHOT_DATE" --strict-network --timeout 30

python3 scripts/ingestar_politicos_es.py ingest \
  --db "$DB" --source bde_series_api \
  --url https://api.bde.es/datos/series/PARO.TASA.ES.M \
  --snapshot-date "$SNAPSHOT_DATE" --strict-network --timeout 30

SNAPSHOT_DATE="$SNAPSHOT_DATE" DB_PATH="$DB" just etl-tracker-status
SNAPSHOT_DATE="$SNAPSHOT_DATE" DB_PATH="$DB" just etl-tracker-gate
```

Resultado esperado:
- `etl-tracker-status` muestra `records_loaded > 0` en comandos ejecutados y sin regresión de filas.
- `etl-tracker-gate` no devuelve mismatches no-waived ni reglas de calidad rotas.

Ejecución reciente (2026-02-26 UTC):

- Ejecutado: `AI-OPS-217` (`liberty_restrictions_focus_gate_20260226T085323Z.json`, `liberty_restrictions_status_20260226T085323Z.json`, `liberty_restrictions_snapshot_20260226T085323Z.json`) para el bloque `Derechos`.
  - Cobertura: `assessments_total=11`, `rights_with_data_total=6/6`, `accountability_edges_total=15`, `indirect_edges_total=12`, `delegated_links_total=8`, `norms_with_irlc_total=8`, `fragments_with_irlc_total=8`.
  - Gates al cierre: `focus_gate.passed=true`, `rights_with_data_gate.passed=true`, `right_categories_with_data_pct=1.0`, `gate.passed=true`.
  - También completados en paralelo (sin nuevos cambios de esquema): `liberty_direct_accountability_scores_latest.json`, `liberty_indirect_status_latest.json`, `liberty_enforcement_status_latest.json`, `liberty_proportionality_status_latest.json`, `liberty_personal_accountability_scores_latest.json`, `liberty_focus_scope_status.json`.
- Ejecutado: bloques de control adicional de `AI-OPS-217`:
  - `parl-report-liberty-focus-scope` / `parl-check-liberty-focus-scope` (semáforo `ok`).
  - `parl-report-liberty-atlas-release-heartbeat` (strict: `published_gh_pages_drift_detected`) y `parl-check-liberty-atlas-release-heartbeat-window` (strict: ventana degradada en `failed/degraded/drift`), con evidencia en `AI-OPS-217/evidence/liberty_restrictions_heartbeat_20260226T085323Z.json` y `AI-OPS-217/evidence/liberty_restrictions_heartbeat_window_20260226T085323Z.json`.
- Ejecutado: mantenimiento técnico de `PLACSP` (sin cambios de fila en detalle por `--only-missing`) para conservar trazabilidad operacional.
- Ejecutado: corrida adicional de continuidad `AI-OPS-217` (`docs/etl/sprints/AI-OPS-217/evidence/liberty_atlas_release_heartbeat_20260226T090709Z.json`, `docs/etl/sprints/AI-OPS-217/evidence/liberty_atlas_changelog_continuity_20260226T090709Z.json`) detecta `published_gh_pages_drift_detected`, `snapshot_date_mismatch` y bloqueo de HF por resolución DNS en contexto local (`hf_unavailable`), confirmando que no hay cierre reproducible todavía.
- Pendiente en esta corrida:
  - AI-OPS-218: cerrar `AI-OPS-217` como cierre reproducible con secuencia publish + checks de continuidad estrictos, resolviendo primero la incoherencia de snapshot (`2026-02-26` vs continuidad `2026-03-05`) y luego verificar ventana de heartbeat sin drift.
  - extender cobertura territorial/temporal con fuente no semilla (fuera de seed) para `Derechos`.
- Cierre de secuencia recomendada para este mismo sprint (reproducible, single-pass):
  - `DB_PATH=etl/data/staging/politicos-es.db SNAPSHOT_DATE=2026-02-26 just parl-export-liberty-restrictions-snapshot &&`
  - `DB_PATH=etl/data/staging/politicos-es.db just parl-publish-liberty-atlas-artifacts &&`
  - `DB_PATH=etl/data/staging/politicos-es.db just etl-publish-hf-dry-run &&`
  - `DB_PATH=etl/data/staging/politicos-es.db SNAPSHOT_DATE=2026-02-26 just parl-report-liberty-atlas-release-heartbeat --allow-hf-unavailable &&`
  - `DB_PATH=etl/data/staging/politicos-es.db just parl-check-liberty-atlas-release-heartbeat-window`.
  - Alternativa (si se quiere priorizar alineación GH Pages al histórico): repetir con `SNAPSHOT_DATE=2026-03-05` y snapshot/ publish + checks para que `continuity_latest_snapshot` y `published_snapshot_date` queden en la misma marca.
- Limpieza/estructura local ejecutada:
  - `PRAGMA foreign_key_check` sin filas.
  - controles de nulidad/duplicados en filas clave en 0.
- Evidencias guardadas:
  - `docs/etl/sprints/AI-OPS-217/evidence/liberty_restrictions_status_20260226T085323Z.json`
  - `docs/etl/sprints/AI-OPS-217/evidence/liberty_restrictions_focus_gate_20260226T085323Z.json`
  - `docs/etl/sprints/AI-OPS-217/evidence/liberty_restrictions_snapshot_20260226T085323Z.json`
  - `docs/etl/sprints/AI-OPS-217/evidence/liberty_atlas_release_heartbeat_20260226T090709Z.json`
  - `docs/etl/sprints/AI-OPS-217/evidence/liberty_atlas_changelog_continuity_20260226T090709Z.json`
  - `docs/etl/sprints/AI-OPS-217/exports/liberty_restrictions_snapshot_20260226.json`
  - `docs/etl/sprints/AI-OPS-217/evidence/liberty_direct_accountability_status_20260226T085323Z.json`
  - `docs/etl/sprints/AI-OPS-217/evidence/liberty_indirect_status_20260226T085323Z.json`
  - `docs/etl/sprints/AI-OPS-217/evidence/liberty_enforcement_status_20260226T085323Z.json`
  - `docs/etl/sprints/AI-OPS-217/evidence/liberty_proportionality_status_20260226T085323Z.json`
  - `docs/etl/sprints/AI-OPS-217/evidence/liberty_personal_accountability_status_20260226T085323Z.json`
  - `docs/etl/sprints/AI-OPS-129/evidence/liberty_focus_scope_latest.json`
  - `docs/etl/sprints/AI-OPS-217/evidence/liberty_restrictions_heartbeat_20260226T085323Z.json`
  - `docs/etl/sprints/AI-OPS-217/evidence/liberty_restrictions_heartbeat_window_20260226T085323Z.json`
  - `docs/etl/runs/liberty_focus_changed_paths.txt`
  - `docs/etl/sprints/AI-OPS-126/evidence/liberty_atlas_release_heartbeat_latest.json`
  - `docs/etl/sprints/AI-OPS-126/evidence/liberty_atlas_release_heartbeat_window_latest.json`
  - `docs/etl/sprints/AI-OPS-TMP/tracker_status_20260226T085021Z.log` (estado de tracker al cierre).
  - `docs/etl/sprints/AI-OPS-152/evidence/tracker_status_after_placsp_money_policy_events.log` (tracker al cierre tras política de contratos).
  - `docs/etl/sprints/AI-OPS-152/evidence/placsp_linkage_checks.log` (checks de detalle/documentos/money/policy_events).

Evidencia mínima al final del bloque:

- Carpeta de corrida del sprint:
  - `docs/etl/sprints/<sprint>/evidence/`
  - `docs/etl/sprints/<sprint>/exports/` (si aplica)
- Capturas de comandos y salidas:
  - logs stdout/stderr de cada comando (al menos uno por fuente/lane).
- Estado del tracker:
  - snapshot de `just etl-tracker-status` (si cambia estado).
  - resultado de `just etl-tracker-gate`.
- Base de datos objetivo:
  - anotar `run_id` en DB para trazabilidad (`source_id`, `run_records_loaded`, `run_status`).
- Cierre de fila:
  - sólo `DONE` si hay evidencia de red real + no bloqueos y semáforo limpio.

Plantilla de evidencia (checklist por corrida, copy/paste):

```text
- [ ] Sprint:
  - [ ] ID: AI-OPS-XXX
  - [ ] Fecha:
  - [ ] DB: etl/data/staging/politicos-es.db
  - [ ] Snapshot:
- [ ] Comandos ejecutados:
  - [ ] backfill-placsp-contract-details (source_ids: placsp_sindicacion, placsp_autonomico)
  - [ ] backfill-money-contract-records (source_ids: placsp_sindicacion, placsp_autonomico)
  - [ ] ingest aemet_opendata_series
  - [ ] ingest bde_series_api
- [ ] Resultados por comando:
  - [ ] run_id:
  - [ ] records_loaded:
  - [ ] semáforo final (OK/REINTENTAR/BLOQUEADO):
- [ ] Estado de control:
  - [ ] etl-tracker-status:
  - [ ] etl-tracker-gate:
- [ ] Evidencia adjunta:
  - [ ] evidencias de corrida en `docs/etl/sprints/<sprint>/evidence/`
  - [ ] exports en `docs/etl/sprints/<sprint>/exports/` (si aplica)
- [ ] Cierre:
  - [ ] Evidencia bloqueante: (enlace ruta sprint) [si aplica]
  - [ ] Siguiente acción: (retry lane / blocker / DONE)
```

Reanudación rápida tras interrupción:

```bash
DB=etl/data/staging/politicos-es.db
SNAPSHOT_DATE=2026-02-17

# 1) Estado último por fuente (sin tocar red)
sqlite3 "$DB" "SELECT run_id, source_id, run_status, run_records_loaded, run_started_at FROM ingestion_runs WHERE source_id IN ('placsp_sindicacion','placsp_autonomico','aemet_opendata_series','bde_series_api') ORDER BY run_id DESC LIMIT 20;"

# 2) Últimos fetches del snapshot objetivo
sqlite3 "$DB" "SELECT source_id, records_loaded, status, started_at FROM run_fetches WHERE snapshot_date='$SNAPSHOT_DATE' ORDER BY started_at DESC LIMIT 50;"

# 3) Retomar únicamente el siguiente comando del semáforo (no relanzar todo el bloque)
echo "Reanudar con el primer comando con estado REINTENTAR o BLOQUEADO."
```

Si esas consultas fallan por esquema, registrar y aplicar compatibilidad del esquema antes de continuar.

Checks SQL de control rápido (mínimos) antes de marcar estado:

```bash
DB=etl/data/staging/politicos-es.db

# P1 - cobertura base de contrataciones
sqlite3 "$DB" "SELECT source_id, count(*) AS rows FROM placsp_contract_detail_records WHERE source_id IN ('placsp_sindicacion','placsp_autonomico') GROUP BY source_id;"
sqlite3 "$DB" "SELECT source_id, count(*) AS rows FROM placsp_contract_detail_documents WHERE source_id IN ('placsp_sindicacion','placsp_autonomico') GROUP BY source_id;"
sqlite3 "$DB" "SELECT source_id, count(*) AS rows FROM money_contract_records WHERE source_id IN ('placsp_sindicacion','placsp_autonomico') GROUP BY source_id;"
sqlite3 "$DB" "SELECT source_id, count(*) AS linked FROM policy_events WHERE source_id IN ('placsp_sindicacion','placsp_autonomico') AND source_record_pk IS NOT NULL GROUP BY source_id;"

# Limpieza mínima (sin excepciones pendientes)
sqlite3 "$DB" "SELECT source_id, count(*) AS no_source_record FROM placsp_contract_detail_records WHERE source_id IN ('placsp_sindicacion','placsp_autonomico') AND source_record_pk IS NULL GROUP BY source_id;"
sqlite3 "$DB" "SELECT source_id, count(*) AS orphan_money FROM money_contract_records WHERE source_id IN ('placsp_sindicacion','placsp_autonomico') AND source_record_pk IS NULL GROUP BY source_id;"
sqlite3 "$DB" "SELECT 'policy_events' AS table_name, source_id, count(*) AS orphan_rows FROM policy_events WHERE source_id IN ('placsp_sindicacion','placsp_autonomico') AND source_record_pk IS NULL GROUP BY source_id;"
```

Regla de cierre operativo de SQL:
- Cada SELECT de cobertura debe reportar > 0 en ambos `source_id` (a menos que exista excepción documental justificada).
- Cada SELECT de limpieza debe reportar `0` salvo excepción documentada.

Estado objetivo por bloque (lectura rápida):

- Bloque D1 (`Derechos`): activo
  - `liberty_restriction_assessments` con `source_record_pk` resuelta donde aplique.
- `focus_gate` y reportes clave de `liberty_restrictions` en `status=ok` sin degradaciones de contrato.
  - `responsibility_score` y `liberty_indirect_responsibility_edges` con evidencia primaria trazada (`evidence_source_record_pk`).
  - `PRAGMA foreign_key_check` en 0, nulos/duplicados de tablas core `rights` controlados.
  - `parl-liberty-atlas-release-heartbeat` en `ok` y `parl-check-liberty-atlas-release-heartbeat-window` sin `failed/degraded/drift`; bloqueo actual pendiente: `hf_unavailable`/`published_gh_pages_drift_detected`.
- Bloque P1 (`PLACSP`): HOLD
  - No se abre en este arranque salvo incidente de integridad.
  - Criterio de salida: mantener trazabilidad de la corrida previa y validar sin regresión.
- Bloque P2 (`AEMET`/`BDE`): HOLD
  - Bloqueo técnico repetido por resolución DNS/red en este entorno (`run_id=1777`, `1778` en estado bloqueado).
- Bloque P3 (`UE`/futuros): HOLD
  - abrir solo tras cierre de `Derechos` y definición de conectores reproducibles.

Validación técnica mínima (copiable al final de corrida):

```bash
DB=etl/data/staging/politicos-es.db

# Integridad relacional base
sqlite3 "$DB" "PRAGMA foreign_key_check;"

# Evidencia de no-duplicados de IDs principales (para filas recién cargadas)
sqlite3 "$DB" "SELECT source_id, COUNT(*) AS total, COUNT(DISTINCT source_record_id) AS distinct_records FROM placsp_contract_detail_records GROUP BY source_id HAVING total <> distinct_records;"
sqlite3 "$DB" "SELECT source_id, COUNT(*) AS total, COUNT(DISTINCT source_record_id) AS distinct_records FROM money_contract_records GROUP BY source_id HAVING total <> distinct_records;"
```

Regla práctica:
- `PRAGMA foreign_key_check` debe devolver 0 filas.
- Los checks de duplicados deben quedar sin filas (salvo que exista motivo documentado en backlog).

Verificación rápida diaria (estado / salud sin escribir):

```bash
DB=etl/data/staging/politicos-es.db
sqlite3 "$DB" "SELECT 'source_records' AS table, COUNT(*) FROM source_records;"
sqlite3 "$DB" "SELECT 'run_fetches' AS table, COUNT(*) FROM run_fetches;"
sqlite3 "$DB" "SELECT 'raw_fetches' AS table, COUNT(*) FROM raw_fetches;"
sqlite3 "$DB" "SELECT 'placsp_contract_detail_records' AS table, COUNT(*) FROM placsp_contract_detail_records;"
sqlite3 "$DB" "SELECT 'policy_events' AS table, COUNT(*) FROM policy_events;"
sqlite3 "$DB" "SELECT 'liberty_restriction_assessments' AS table, COUNT(*) FROM liberty_restriction_assessments;"
sqlite3 "$DB" "SELECT 'liberty_right_categories' AS table, COUNT(*) FROM liberty_right_categories;"
sqlite3 "$DB" "SELECT 'liberty_proportionality_reviews' AS table, COUNT(*) FROM liberty_proportionality_reviews;"
sqlite3 "$DB" "SELECT 'liberty_indirect_responsibility_edges' AS table, COUNT(*) FROM liberty_indirect_responsibility_edges;"
sqlite3 "$DB" "SELECT 'liberty_enforcement_observations' AS table, COUNT(*) FROM liberty_enforcement_observations;"
```

Si cualquiera de estas medidas cae abruptamente sin run reciente asociado, revisar tracker antes de continuar.

Qué datos scrapearemos a continuación (decisión operativa):

- Derechos (bloque principal, sprint actual): `liberty_*`  
  - Objetivo: terminar capa de ingestión + reporte + atribución de responsabilidad para que la fila `Gate de foco: libertad ciudadana primero` sea operacional.
  - Comando: `just parl-liberty-restrictions-pipeline` -> `just parl-report-liberty-restrictions-status` -> `just parl-export-liberty-restrictions-snapshot` -> `just parl-publish-liberty-atlas-artifacts` -> `just etl-publish-hf-dry-run` -> `just parl-report-liberty-atlas-release-heartbeat` -> `just parl-check-liberty-atlas-release-heartbeat-window`.
  - Salida esperada: `status=ok` en reportes de `focus_gate`, `rights_with_data_gate`, `liberty_restrictions_gate`; cobertura > 0 en tablas `liberty_restriction_assessments`, `liberty_direct_accountability_scores`, `liberty_indirect_responsibility_edges`, `responsibility_score`.
- Derechos (completar): `liberty_enforcement_methodologies`, `liberty_proportionality_methodologies`, `liberty_direct_accountability_scores`, `liberty_indirect_accountability_scores`
  - Objetivo: sustituir partes semilla por ingesta continua y cobertura territorial incremental.
  - Comando: ejecución por dominio (`just parl-report-liberty-proportionality-status`, `just parl-report-liberty-enforcement-variation-status`, `just parl-report-liberty-direct-accountability-scores`, `just parl-report-liberty-indirect-accountability-status`, `just parl-report-liberty-personal-accountability-scores`).
  - Salida esperada: mejoras de `*_total` con trazabilidad en `source_records`/`source_record_pk`.
- Derechos (calidad continua): `liberty_*`  
  - Objetivo: publicar evidencia diaria y mantener `AI-OPS-TMP`/sprints como historial de cierre.
  - Comando: `just etl-tracker-gate --focus gate`, `just parl-check-*` correspondientes tras cada corrida.
  - Salida esperada: `run_records_loaded` coherentes, gates sin mismatches nuevos y semáforo sin `BLOQUEADO`.
- Bloques no-`Derechos` (sólo mantenimiento): `placsp_*`, `aemet_*`, `bde_*`
  - Objetivo: no abrir nuevos subproyectos hasta que cierre el gate de Derechos.
  - Criterio de pausa: mantener `state=HOLD` salvo incidentes de corrupción.

## Definition of Done (por fila)

- Fuente oficial documentada (`source_url`) y contrato real (formatos/IDs).
- Ingesta reproducible (ideal: `--strict-network`; fallback `--from-file` solo si está documentado y con muestras).
- Normalización a esquema canónico con PKs/FKs navegables en Explorer cuando aplique.
- Carga idempotente (upsert) con `source_record_id` estable.
- Validaciones mínimas (incluye `PRAGMA foreign_key_check` sin filas).
- Artefacto publicado o endpoint/UI consumible (según tipo de dato).

## Tracker por tipo de dato

Leyenda:
- `DONE`: listo E2E.
- `PARTIAL`: hay piezas, falta DoD/quality/publish.
- `TODO`: no implementado.

| Tipo de dato | Dominio | Fuentes objetivo | Estado | Bloque principal |
|---|---|---|---|---|
| Representantes y mandatos (Congreso) | Nacional | Congreso OpenData Diputados | DONE | Mejorar calidad de campos opcionales |
| Representantes y mandatos (Cortes de Aragon) | Autonomico | Cortes de Aragon: diputados (XI) | DONE | Hardening de parsing y umbral minimo |
| Representantes y mandatos (Senado) | Nacional | Senado OpenData XML (grupos + fichas) | DONE | Hardening de aliases y umbral minimo |
| Representantes y mandatos (Europarl) | Europeo | Europarl MEP XML | DONE | Mejorar completitud de fechas/metadatos |
| Representantes y cargos locales | Municipal | RED SARA Concejales | DONE | Definir umbral minimo y criterio de cobertura |
| Representantes y mandatos (Asamblea de Madrid) | Autonomico | Asamblea de Madrid OpenData Ocupaciones | DONE | Definir umbral minimo y aclarar semantica de `is_active` |
| Representantes y mandatos (Asamblea de Ceuta) | Autonomico | Asamblea de Ceuta: miembros (2023/2027) | DONE | Hardening de parsing y umbral minimo |
| Representantes y mandatos (Asamblea de Melilla) | Autonomico | Asamblea de Melilla: diputados (2023/2027) | DONE | Hardening de parsing y umbral minimo |
| Representantes y mandatos (Asamblea de Extremadura) | Autonomico | Asamblea de Extremadura (dipslegis + paginacion) | DONE | Hardening de parsing y umbral minimo |
| Representantes y mandatos (Asamblea Murcia) | Autonomico | Asamblea Regional de Murcia: diputados (listado + fichas) | DONE | Hardening de parsing y umbral minimo |
| Representantes y mandatos (JGPA Asturias) | Autonomico | Junta General del Principado de Asturias (diputados) | DONE | Hardening de parsing y umbral minimo |
| Representantes y mandatos (Parlamento de Canarias) | Autonomico | Parlamento de Canarias: diputados + grupos (API oficial) | DONE | Hardening de parsing y umbral minimo |
| Representantes y mandatos (Parlamento de Cantabria) | Autonomico | Parlamento de Cantabria | DONE | Hardening de parsing y umbral minimo |
| Representantes y mandatos (Parlamento de Galicia) | Autonomico | Parlamento de Galicia: deputados (fichas HTML) | PARTIAL | Done now: NO. Blocker: `parlamento_galicia_deputados` en `strict-network` sigue bloqueado con HTTP 403 (`run_id=265`, `run_records_loaded=0`), por lo que la fila permanece `PARTIAL`. Evidencia: `docs/etl/sprints/AI-OPS-14/evidence/blocker-probe-refresh.log`, `docs/etl/sprints/AI-OPS-14/evidence/unblock-execution.log`, `docs/etl/sprints/AI-OPS-14/exports/unblock_feasibility_matrix.csv`. Siguiente comando: `python3 scripts/ingestar_politicos_es.py ingest --db etl/data/staging/politicos-es.db --source parlamento_galicia_deputados --snapshot-date 2026-02-17 --strict-network --timeout 30`. |
| Representantes y mandatos (Parlament IB) | Autonomico | Parlament de les Illes Balears: diputats (listado + fichas via webGTP) | DONE | Hardening de parsing y umbral minimo |
| Representantes y mandatos (Parlamento de La Rioja) | Autonomico | Parlamento de La Rioja: diputados (listado + fichas) | DONE | Hardening de parsing y umbral minimo |
| Representantes y mandatos (Parlament de Catalunya) | Autonomico | Parlament de Catalunya (composicio actual + fichas) | DONE | Hardening de parsing y umbral minimo |
| Representantes y mandatos (Corts Valencianes) | Autonomico | Corts Valencianes (listado + fichas) | DONE | Hardening de parsing y umbral minimo |
| Representantes y mandatos (Cortes CLM) | Autonomico | Cortes de Castilla-La Mancha (listado + fichas) | DONE | Hardening de parsing y umbral minimo |
| Representantes y mandatos (Cortes CyL) | Autonomico | Cortes de Castilla y Leon (PlenoAlfabetico) | DONE | Hardening de parsing y umbral minimo |
| Representantes y mandatos (Parlamento de Andalucia) | Autonomico | Parlamento de Andalucia (listado + fichas) | DONE | Hardening de parsing y umbral minimo |
| Representantes y mandatos (Parlamento de Navarra) | Autonomico | Parlamento de Navarra: parlamentarios forales (fichas HTML) | DONE | Done now: YES. Reconcilia `parlamento_navarra_parlamentarios_forales` en `from-file` con `50/50 registros validos` en `run_id=595` (snapshot `2026-02-12`, origen `etl/data/raw/manual/navarra_persona_profiles_20260212T144911Z/pages`). Evidencia: `docs/etl/sprints/AI-OPS-14/evidence/blocker-probe-refresh.log`, `docs/etl/sprints/AI-OPS-14/evidence/unblock-execution.log`, `docs/etl/sprints/AI-OPS-14/exports/unblock_feasibility_matrix.csv`. |
| Representantes y mandatos (Parlamento Vasco) | Autonomico | Parlamento Vasco (listado ACT) | DONE | Hardening de parsing y umbral minimo |
| Normativa autonómica (piloto 3 CCAA) | Legal | BOCM (Madrid) + DOGC (Catalunya) + BOJA (Andalucía) | TODO | Falta conector y modelo canónico de normas autonómicas (con efectos) con trazabilidad y dedupe por versión |
| Contratación autonómica (piloto 3 CCAA) | Dinero | PLACSP (filtrado por órganos autonómicos) | DONE | Done now: YES. `placsp_autonomico` recuperó `strict-network` con red real (`run_id=248`, `run_status=ok`, `run_records_loaded=106`) y el mismatch restante era solo desfase tracker/SQL, por lo que se reconcilia la fila a `DONE` sin waiver. Evidencia: `docs/etl/sprints/AI-OPS-11/evidence/placsp-strict-refresh.log`, `docs/etl/sprints/AI-OPS-11/evidence/post-strict-status.log`, `docs/etl/sprints/AI-OPS-11/evidence/post-strict-gate.log`, `docs/etl/sprints/AI-OPS-11/exports/placsp_waiver_decision.csv`. Siguiente comando: `just etl-tracker-gate`. |
| Subvenciones autonómicas (piloto 3 CCAA) | Dinero | BDNS/SNPSAP (filtrado por órgano convocante/territorio) | DONE | Done now: YES. `bdns_autonomico` recuperó `strict-network` con endpoint JSON (`/bdnstrans/api/convocatorias/busqueda`) y red real (`run_id=257`, `run_status=ok`, `run_records_loaded=50`), por lo que se reconcilia la fila a `DONE` sin waiver. Evidencia: `docs/etl/sprints/AI-OPS-13/evidence/unblock-execution.log`, `docs/etl/sprints/AI-OPS-13/evidence/bdns-api-discovery.log`, `docs/etl/sprints/AI-OPS-13/exports/unblock_feasibility_matrix.csv`. Siguiente comando: `just etl-tracker-gate`. |
| Presupuesto + ejecución autonómica (piloto 3 CCAA) | Dinero | Portales presupuestarios autonómicos / IGAE cuando aplique | TODO | Falta conector y crosswalk de clasificaciones; preferir ejecución cuando exista |
| Procesos electorales y resultados | Electoral | Infoelectoral descargas/procesos | DONE | Hardening de parsing de campos opcionales en procesos/resultados |
| Publicacion abierta de snapshots ETL | Operaciones | Hugging Face Datasets (dataset publico) | DONE | Done now: YES. Snapshot público reproducible disponible en HF con paquete por fecha (`snapshots/<snapshot_date>/`) que incluye `published/*`, `manifest.json`, `checksums.sha256`, `latest.json` y Parquet navegable; por privacidad se excluyen por defecto `raw_fetches,run_fetches,source_records,lost_and_found` y `politicos-es.sqlite.gz` queda desactivado salvo override explícito. Slice AI-OPS-28: el empaquetador ahora propaga `quality_report` (desde `votaciones-kpis`) a `manifest.json`, `latest.json` y `README.md`; publicación real ejecutada el 2026-02-22 con verificación remota en `docs/etl/sprints/AI-OPS-28/evidence/hf_remote_latest_post_publish_20260222T184735Z.json`, `docs/etl/sprints/AI-OPS-28/evidence/hf_remote_manifest_post_publish_20260222T184743Z.json`, `docs/etl/sprints/AI-OPS-28/evidence/hf_remote_readme_post_publish_20260222T184749Z.md`. Hardening adicional: gate remoto reproducible `just etl-verify-hf-quality` (script `scripts/verify_hf_snapshot_quality.py`) valida consistencia de `quality_report` y deja JSON de evidencia (`docs/etl/sprints/AI-OPS-28/evidence/hf_remote_quality_verify_20260222T185350Z.json`); además `just etl-publish-hf*` exige `quality_report` por defecto (`HF_REQUIRE_QUALITY_REPORT=1`, flag `--require-quality-report`) con evidencia de dry-run `docs/etl/sprints/AI-OPS-28/evidence/hf_publish_dryrun_require_quality_20260222T185920Z.txt`. CI hook: `.github/workflows/etl-tracker-gate.yml` añade job `hf-quality-contract` (push `main`) que ejecuta verificación remota y sube artifact JSON. Comando: `just etl-publish-hf` (dry-run: `just etl-publish-hf-dry-run`, verify: `just etl-verify-hf-quality`). Siguiente comando: `SNAPSHOT_DATE=2026-02-12 just etl-publish-hf-verify`. |
| Convocatorias y estado electoral | Electoral | Junta Electoral Central | TODO | Falta scraper y normalizacion |
| Marco legal electoral | Legal | BOE API | DONE | Done now: YES. Ingesta BOE (`boe_api_legal`) y mapping a `policy_events` están reproducibles (`records_loaded=298`, `policy_events_boe=298`) y reconciliados con SQL `DONE`. Evidencia: `docs/etl/sprints/AI-OPS-08/reports/waiver-burndown-apply-recompute.md`, `docs/etl/sprints/AI-OPS-08/evidence/waiver-burndown-apply-recompute-boe-ingest-replay.log`, `docs/etl/sprints/AI-OPS-08/evidence/waiver-burndown-apply-recompute-boe-policy-events-backfill.log` y `docs/etl/sprints/AI-OPS-08/reports/boe-tracker-mapping-hardening.md`. Siguiente comando: `just etl-tracker-gate`. |
| Normativa por fragmento (articulo/disposicion/anexo) | Legal | BOE (texto consolidado + versiones) | PARTIAL | Done now: PARTIAL. Slice AI-OPS-115 creó la base reproducible `legal_norms` + `legal_norm_fragments` (`8` normas, `8` fragmentos). Slice AI-OPS-155 añade lineage normativo por versión/fecha con `legal_norm_lineage_edges` (`lineage_hints_total=8`, `lineage_edges_total=8`, `norms_with_lineage=8/8`, `lineage_primary_evidence_coverage_pct=1.0`), incluyendo alta automática de `4` normas relacionadas referenciadas (`legal_norms_total=12`) en DB real (`status=ok`, `fk_violations_total=0`). Evidencia: `docs/etl/sprints/AI-OPS-155/reports/sanction-norms-lineage-seed-lane.md`, `docs/etl/sprints/AI-OPS-155/evidence/sanction_norms_seed_import_20260224T000517Z.json`, `docs/etl/sprints/AI-OPS-155/evidence/sanction_norms_seed_status_20260224T000517Z.json`, `docs/etl/sprints/AI-OPS-155/evidence/sqlite_fk_check_20260224T000533Z.json`. Falta backfill BOE continuo a cobertura completa por `articulo/disposicion/anexo` y lineage histórico multi-versión (sin dependencia de semilla cerrada). Siguiente comando: `DB_PATH=<db> SNAPSHOT_DATE=2026-02-24 just parl-sanction-norms-seed-pipeline`. |
| Responsabilidad por fragmento normativo | Legal | Congreso/Senado (iniciativas+enmiendas+votos) + BOE (firma/promulgacion) | PARTIAL | Done now: PARTIAL. Cadena base por fragmento activada (`15` responsabilidades/`8` fragmentos), migración documental `seed->non-seed` cerrada (`queue_rows_total=0`) y evidencia multipista operativa (`boe_publicacion`, `senado_diario`, `congreso_vote`, `senado_vote`, `other`). AI-OPS-167 cerró ejecución al `100%` (`responsibilities_with_execution_evidence_total=15/15`). AI-OPS-168/169/170 elevaron cobertura parlamentaria-voto hasta `13/15`; AI-OPS-171 añadió fallback conservador de título LISOS (`title_rule:lisos_orden_social`) en `scripts/backfill_sanction_norms_parliamentary_evidence.py` y cerró cobertura parlamentaria a `15/15`, manteniendo voto en `13/15` (`responsibility_parliamentary_coverage_pct=1.0`, `responsibility_parliamentary_vote_coverage_pct=0.866667`, `responsibility_evidence_items_total=99`) con `execution=15/15`, `queue_rows_total=0` y `fk_violations_total=0`. Evidencia: `docs/etl/sprints/AI-OPS-170/reports/sanction-norms-vote-lineage-mixed-bridge-closure.md`, `docs/etl/sprints/AI-OPS-171/reports/sanction-norms-parliamentary-title-rule-closure.md`, `docs/etl/sprints/AI-OPS-171/evidence/sanction_norms_parliamentary_evidence_backfill_20260224T094041Z.json`, `docs/etl/sprints/AI-OPS-171/evidence/sanction_norms_vote_evidence_backfill_20260224T094041Z.json`, `docs/etl/sprints/AI-OPS-171/evidence/sanction_norms_seed_status_20260224T094041Z.json`, `docs/etl/sprints/AI-OPS-171/evidence/responsibility_parliamentary_vote_gap_20260224T094041Z.csv`, `docs/etl/sprints/AI-OPS-171/evidence/sqlite_fk_check_20260224T094041Z.txt`, `docs/etl/sprints/AI-OPS-171/evidence/just_parl_test_sanction_norms_seed_20260224T094041Z.txt`, `docs/etl/sprints/AI-OPS-171/evidence/just_parl_test_liberty_restrictions_20260224T094041Z.txt`. Gap residual: voto en `2` responsabilidades (`BOE-A-2000-15060`: `approve/enforce`, con `has_parliamentary_any=1` y `has_vote=0`). Falta además escalar señales procedimentales desde piloto semilla a datos revisores oficiales (TEAR/TEAC/contencioso/defensores). Siguiente comando: `DB_PATH=<db> SANCTION_NORMS_VOTE_EVIDENCE_ROLES=approve,propose,enforce,delegate just parl-backfill-sanction-norms-vote-evidence && DB_PATH=<db> just parl-report-sanction-norms-seed-status`. |
| Regulacion delegada y enforcement de organismos (DGT y similares) | Ejecutivo | BOE habilitaciones + reglamentos/ordenes + actos de organismo | PARTIAL | Done now: PARTIAL. Slice AI-OPS-121 abre lane reproducible de regulación delegada con `liberty_delegated_enforcement_methodologies/liberty_delegated_enforcement_links` y reporte operativo `report_liberty_delegated_enforcement_status.py` (cadena `norma_habilitante -> organismo delegado -> cargo designado -> acto de enforcement`). Resultado actual: `links_total=8`, `fragments_with_links_total=8/8`, `fragments_with_designated_actor_total=6`, `links_with_enforcement_evidence_total=7`, `weak_links_total=2`, `gate.passed=true`. Evidencia: `docs/etl/sprints/AI-OPS-121/reports/liberty-delegated-enforcement-lane.md`, `docs/etl/sprints/AI-OPS-121/evidence/liberty_delegated_import_20260223T184315Z.json`, `docs/etl/sprints/AI-OPS-121/evidence/liberty_delegated_status_20260223T184315Z.json`, `docs/etl/sprints/AI-OPS-121/evidence/just_parl_liberty_restrictions_pipeline_20260223T184315Z.txt`. Falta sustituir placeholders institucionales por cadena persona/cargo con ventana temporal de nombramiento y evidencia primaria fechada de actos de enforcement. Siguiente comando: `DB_PATH=<db> just parl-report-liberty-delegated-enforcement-status`. |
| Carga regulatoria agraria (ranking impacto) | Legal | BOE + EUR-Lex + MAPA/MITECO + OPA (ASAJA/COAG/UPA) | TODO | Falta modelo reproducible para ranking `top_regulaciones_mas_gravosas` por agricultura/ganaderia (coste de cumplimiento, sanciones, horas administrativas, alcance territorial, litigios) con metodología y pesos explícitos |
| Dossiers de impacto regulatorio agrario (piloto) | Legal | SIEX/CUE + PAC + nitratos/suelos + planes hidrológicos + LESPRE lobo + medicamentos veterinarios | TODO | Falta publicar fichas comparables por norma (qué exige, a quién afecta, qué sanciona, qué alivios posteriores hubo, quién decidió cada cambio) con drill-down a evidencia primaria |
| Cuellos de botella regulatorios en vivienda nueva (suelo/licencias) | Vivienda | TRLSRU + leyes urbanísticas CCAA + ordenanzas municipales + Ley 21/2013 | TODO | Falta mapa reproducible de plazos y bloqueos por fase (`planeamiento -> urbanización -> licencia -> obra`) con evidencia normativa y administrativa por territorio |
| Regulación de alquiler y efecto en nueva oferta (build-to-rent/promoción) | Vivienda | Ley 12/2023 + normativa autonómica de zonas tensionadas + fiscalidad asociada | TODO | Falta evaluación trazable de impacto en oferta nueva (visados/inicios/terminadas por tipología y provincia) y cadena de decisión por norma/fragmento |
| Dossiers de normas que más frenan vivienda (piloto top-N) | Vivienda | Suelo/urbanismo + evaluación ambiental + CTE + reservas VPO + informes sectoriales | TODO | Falta publicar ranking `top_normas_cuello_botella_vivienda` con metodología explícita (plazo, coste, litigiosidad, incertidumbre) y drill-down a artículos concretos |
| Gasto sanitario: personal vs "gasto vistoso" (equipamiento/obras/consultoria/conciertos) | Sanidad | Presupuestos y liquidaciones CCAA + Ministerio de Sanidad + IGAE | TODO | Falta modelo comparable por CCAA y programa para medir sustitución de gasto asistencial de plantilla por capítulos de capital/externos, con series temporales y notas metodológicas |
| Contratacion sanitaria de alto importe y sobrecostes | Sanidad | PLACSP + portales autonómicos + OCEX/Tribunal de Cuentas | TODO | Falta pipeline para detectar expedientes sanitarios con modificados, prórrogas, revisiones de precio y retrasos, con trazabilidad `organo -> mesa -> adjudicatario -> ejecución` |
| Responsabilidad del gasto sanitario (decision vs ejecución) | Sanidad | Ley de presupuestos + acuerdos de gobierno CCAA + nombramientos + expedientes de gasto | TODO | Falta cadena reproducible `presupuesto -> centro gestor -> cargo designado -> expediente -> pago -> resultado asistencial` para atribuir quién propuso, aprobó, ejecutó y fiscalizó |
| Impacto asistencial del mix de gasto sanitario | Sanidad | Ministerio/CCAA (listas de espera, plantilla, AP/hospitalaria) + presupuestos | TODO | Falta unir decisiones de gasto con outcomes (`espera`, `cobertura de plantilla`, `actividad`) para separar mala gestión de shocks de demanda |
| Normas con más sanciones a ciudadanía (ranking top-N) | Ciudadania | DGT + ayuntamientos (movilidad/ORA/ZBE) + AEAT + TGSS + Interior (LO 4/2015) | PARTIAL | Done now: PARTIAL. Slice AI-OPS-117 publica ranking reproducible `top_normas_sancion_ciudadana` desde `sanction_volume_observations` con metodología explícita (`expediente_count` + `importe_total_eur`, proxy `incidence_per_1000_observed_cases`) y `status=ok` en reporte operativo. Evidencia: `docs/etl/sprints/AI-OPS-117/reports/sanction-volume-pilot-lane.md`, `docs/etl/sprints/AI-OPS-117/evidence/sanction_volume_pilot_import_20260223T180041Z.json`, `docs/etl/sprints/AI-OPS-117/evidence/sanction_volume_pilot_status_20260223T180041Z.json`, `docs/etl/sprints/AI-OPS-117/evidence/just_parl_sanction_citizen_pilot_pipeline_20260223T180041Z.txt`. Falta pasar de datos piloto a series reales por territorio y completar incidencia por `1.000 habitantes` (denominador poblacional). Siguiente comando: `DB_PATH=<db> SNAPSHOT_DATE=2026-02-23 just parl-sanction-volume-pilot-pipeline`. |
| Dossiers de normas sancionadoras de alta incidencia (piloto top-N) | Ciudadania | Tráfico/movilidad + tributario/SS + seguridad ciudadana + ordenanzas cívicas/residuos | PARTIAL | Done now: PARTIAL. Slice AI-OPS-117 publica `norm_dossiers` (`5` fichas) con `conducta` (tipologías), `volumen`, `importe`, `base legal` (`norma -> fragmentos`) y lanes de evidencia (`source_lanes`/enlaces municipales) en `report_sanction_volume_pilot_status.py`. Evidencia: `docs/etl/sprints/AI-OPS-117/reports/sanction-volume-pilot-lane.md`, `docs/etl/sprints/AI-OPS-117/evidence/sanction_volume_pilot_status_20260223T180041Z.json`, `docs/etl/sprints/AI-OPS-117/evidence/just_parl_sanction_citizen_pilot_pipeline_20260223T180041Z.txt`. Falta enriquecer perfil afectado y sustituir valores piloto por observaciones oficiales recurrentes por fuente/periodo. Siguiente comando: `DB_PATH=<db> just parl-report-sanction-volume-pilot-status`. |
| Catalogo v1 de marcos sancionadores frecuentes (base legal exacta) | Ciudadania | RDL 6/2015 (Tráfico) + RD 320/1994 + LGT 58/2003 + RD 2063/2004 + LGSS/LISOS + LO 4/2015 + ordenanzas municipales | PARTIAL | Done now: PARTIAL. Slice AI-OPS-115 publica catálogo operativo en `sanction_norm_catalog` + `sanction_norm_fragment_links` con `8` marcos iniciales (BOE IDs semilla), `organismo_competente`, hipótesis de incidencia y `evidence_required_json`; import reproducible y validado con tests. Evidencia: `docs/etl/sprints/AI-OPS-115/reports/sanction-norms-seed-lane.md`, `docs/etl/sprints/AI-OPS-115/evidence/sanction_norms_seed_import_20260223T173448Z.json`, `docs/etl/sprints/AI-OPS-115/evidence/just_parl_test_sanction_norms_seed_20260223T173633Z.txt`. Falta ampliar cobertura (ordenanzas municipales y fragmentación completa por norma/territorio). Siguiente comando: `DB_PATH=<db> just parl-import-sanction-norms-seed`. |
| Fuentes de volumen sancionador (piloto 5 organismos) | Ciudadania | DGT anuarios + AEAT memorias sancionadoras + TGSS/ITSS + Interior (LO 4/2015) + ayuntamientos open data | PARTIAL | Done now: PARTIAL. Slice AI-OPS-116 publica catálogo operativo de fuentes en `sanction_volume_sources` (5 lanes: DGT/AEAT/TGSS-ITSS/Interior/municipal piloto), junto con contrato común de métricas y tablas destino (`sanction_volume_observations`) para ingestas comparables. Evidencia: `docs/etl/sprints/AI-OPS-116/reports/sanction-data-catalog-lane.md`, `docs/etl/sprints/AI-OPS-116/evidence/sanction_data_catalog_import_20260223T174656Z.json`, `docs/etl/sprints/AI-OPS-116/evidence/sanction_data_catalog_status_20260223T174656Z.json`. Falta cargar observaciones reales por organismo/periodo (`expediente_count`, `importe_total`, `importe_medio`, `recurso_estado`). Siguiente comando: `DB_PATH=<db> SNAPSHOT_DATE=2026-02-23 just parl-sanction-data-catalog-pipeline`. |
| Semilla v1 de normas sancionadoras de alta frecuencia (lista cerrada inicial) | Ciudadania | BOE-A-2015-11722 + BOE-A-2003-23514 + BOE-A-1994-8985 + BOE-A-2003-23186 + BOE-A-2004-18398 + BOE-A-2015-11724 + BOE-A-2000-15060 + BOE-A-2015-3442 | DONE | Done now: YES. `etl/data/seeds/sanction_norms_seed_v1.json` publicado con contrato `schema_version=sanction_norms_seed_v1` y campos requeridos (`norm_id`, `boe_id`, `scope`, `organismo_competente`, `incidence_hypothesis`, `evidence_required`, `key_fragments`, `responsibility_hints`), con validación reproducible (`valid=true`, `norms_total=8`, `errors_count=0`) y pipeline `just` dedicado (`parl-validate/import/report-sanction-norms-seed*`). Evidencia: `docs/etl/sprints/AI-OPS-115/reports/sanction-norms-seed-lane.md`, `docs/etl/sprints/AI-OPS-115/evidence/sanction_norms_seed_validate_20260223T173448Z.json`, `docs/etl/sprints/AI-OPS-115/evidence/just_parl_sanction_norms_seed_pipeline_20260223T173646Z.txt`. Siguiente comando: `just parl-validate-sanction-norms-seed`. |
| Ordenanzas municipales sancionadoras (piloto 20 ciudades) | Ciudadania | BOP/portales municipales (movilidad, ORA/ZBE, civismo, residuos, ruido) | PARTIAL | Done now: PARTIAL. Slice AI-OPS-117 añade tablas `sanction_municipal_ordinances` + `sanction_municipal_ordinance_fragments` y carga piloto reproducible con `20` ordenanzas (`normalized=3`, `identified=17`) y `3` fragmentos normalizados (`mapped_fragment_total=2`). Evidencia: `docs/etl/sprints/AI-OPS-117/reports/sanction-volume-pilot-lane.md`, `docs/etl/sprints/AI-OPS-117/evidence/sanction_volume_pilot_import_20260223T180041Z.json`, `docs/etl/sprints/AI-OPS-117/evidence/sanction_volume_pilot_status_20260223T180041Z.json`, `docs/etl/sprints/AI-OPS-117/evidence/sqlite_fk_check_20260223T180041Z.txt`. Falta completar normalización `20/20` a unidad sancionable (`articulo/conducta/rango/organo/recurso`) y elevar mappings municipales a cobertura operativa. Siguiente comando: `DB_PATH=<db> SNAPSHOT_DATE=2026-02-23 just parl-sanction-volume-pilot-pipeline`. |
| Tipologías de infracción más sancionadas (catálogo ciudadano) | Ciudadania | DGT + AEAT + TGSS/ITSS + Interior + ayuntamientos | PARTIAL | Done now: PARTIAL. Slice AI-OPS-116 crea catálogo transversal en `sanction_infraction_types` (`10` tipologías) y mapeo inicial en `sanction_infraction_type_mappings` (`10` mappings, cobertura a `fragment_id=8/10`, incluyendo lanes municipales `source_only` en espera de ordenanzas normalizadas). Evidencia: `docs/etl/sprints/AI-OPS-116/reports/sanction-data-catalog-lane.md`, `docs/etl/sprints/AI-OPS-116/evidence/sanction_data_catalog_import_20260223T174656Z.json`, `docs/etl/sprints/AI-OPS-116/evidence/sanction_data_catalog_status_20260223T174656Z.json`. Falta completar mappings municipales a `norma_fragmento_id` y añadir métricas de volumen por tipología. Siguiente comando: `DB_PATH=<db> just parl-report-sanction-data-catalog-status`. |
| Accountability de la cadena sancionadora (multa/cargo) | Ciudadania | Norma habilitante + organismo instructor/resolutor + recaudación + recursos | PARTIAL | Done now: PARTIAL. Slice AI-OPS-115 abre trazabilidad `norma -> fragmento -> responsabilidad`; AI-OPS-156 añade evidencia multipista; AI-OPS-158/159/160/161 cierran cobertura documental y migración `seed -> non-seed` (`seed=0`, `non-seed=15`, cola vacía). Slice AI-OPS-162 incorpora primera señal parlamentaria reproducible (`senado_diario=2`) ligada a normas sancionadoras (`BOE-A-2003-23186`, `BOE-A-2015-3442`) con status lane `ok` y nuevos KPIs de cobertura parlamentaria (`responsibility_evidence_items_parliamentary_total=2`, `responsibility_parliamentary_coverage_pct=0.133333`). Evidencia: `docs/etl/sprints/AI-OPS-161/reports/sanction-norms-seed-source-record-upgrade-apply.md`, `docs/etl/sprints/AI-OPS-162/reports/sanction-norms-parliamentary-evidence-backfill.md`, `docs/etl/sprints/AI-OPS-162/evidence/sanction_norms_parliamentary_evidence_backfill_20260224T010415Z.json`, `docs/etl/sprints/AI-OPS-162/evidence/sanction_norms_seed_status_20260224T010415Z.json`, `docs/etl/sprints/AI-OPS-162/evidence/sanction_norms_seed_source_record_upgrade_queue_20260224T010415Z.json`. Falta integrar niveles `acto sancionador -> cobro -> recurso/resultado` por expediente y elevar cobertura parlamentaria por rol/acto (votos + enmiendas + ejecución). Siguiente comando: `DB_PATH=<db> just parl-report-sanction-norms-seed-status`. |
| Calidad garantista del sistema sancionador | Ciudadania | Órganos revisores (TEAR/TEAC, contencioso, defensores) + datos de estimación/anulación | PARTIAL | Done now: PARTIAL. Slice AI-OPS-116 publica contrato KPI de justicia procedimental en `sanction_procedural_kpi_definitions` (`3` KPIs: recurso estimado, anulación formal, retraso p90) y tabla operativa `sanction_procedural_metrics` para series observadas. Evidencia: `docs/etl/sprints/AI-OPS-116/reports/sanction-data-catalog-lane.md`, `docs/etl/sprints/AI-OPS-116/evidence/sanction_data_catalog_import_20260223T174656Z.json`, `docs/etl/sprints/AI-OPS-116/evidence/sanction_data_catalog_status_20260223T174656Z.json`. Falta ingesta de datos revisores (TEAR/TEAC/contencioso/defensores) para poblar métricas y pasar de contrato a resultados. Siguiente comando: `DB_PATH=<db> just parl-report-sanction-data-catalog-status`. |
| Coste regulado de energía doméstica (luz/gas) | Energia | BOE (peajes/cargos/PVPC/TUR) + CNMC + MITECO | TODO | Falta descomponer factura en componentes normativos y atribuir variaciones de coste por norma/fecha/territorio, separando energía de mercado vs parte regulada |
| Fiscalidad municipal de alta incidencia (IBI/IVTM/basura/plusvalía) | Fiscalidad | TRLRHL + ordenanzas fiscales municipales + catastros/ayuntamientos | TODO | Falta comparador reproducible por municipio y perfil de hogar con trazabilidad `ordenanza -> pleno/alcaldía -> liquidación` |
| Cargos financieros minoristas (hipoteca/cuenta/descubierto) | Consumo-Finanzas | Banco de España (reclamaciones/memorias) + BOE crédito inmobiliario/servicios de pago | TODO | Falta mapa normativo + dataset de costes/reclamaciones por entidad y tipología de cobro para detectar fricción masiva y accountability regulatoria |
| Fricción regulatoria en telecom/servicios esenciales (reclamaciones/cobros) | Consumo | CNMC + Consumo + CCAA (OMIC/Juntas Arbitrales) + operadores | TODO | Falta modelo unificado de reclamaciones/sanciones por cláusula/práctica para identificar qué marcos generan más conflicto ciudadano recurrente |
| Tarifas y cánones de agua/saneamiento (hogares) | Servicios esenciales | CCAA + entes locales + operadores públicos/mixtos + BOE/boletines autonómicos | TODO | Falta mapa regulatorio y comparador de factura de agua por municipio (`cuota fija`, `bloques`, `canon`, `depuración`) con trazabilidad de cambios normativos y órgano decisor |
| Tarifas y bonificaciones de transporte público | Movilidad | MITMA/Ministerio Transportes + CCAA + ayuntamientos/consorcios + operadores | TODO | Falta modelo reproducible por ciudad/área para medir impacto de reglas tarifarias/bonificaciones en coste mensual real por perfil de usuario |
| Copago farmacéutico y acceso a medicamentos | Sanidad | Ley/BOE + SNS/CCAA (cartera y aportación farmacéutica) + ministerio/servicios de salud | TODO | Falta vincular reglas de aportación y financiación a coste de bolsillo por perfil (renta, cronicidad, pensionista) y a variaciones territoriales |
| Precios públicos en educación infantil y servicios asociados | Educación | CCAA + ayuntamientos (escuelas infantiles, comedor, actividades) + convocatorias de becas | TODO | Falta comparador territorial de precios públicos y elegibilidad de ayudas (`umbrales`, `baremos`, `plazos`) con impacto neto por hogar |
| Carga administrativa digital obligatoria y recargos por incumplimiento | Administración | AEAT/TGSS/DGT/CCAA/ayuntamientos (sedes electrónicas y procedimientos) | TODO | Falta catálogo de obligaciones digitales por perfil ciudadano/pyme (`plazo`, `canal`, `sanción/recargo`) y medición de fricción por complejidad y tasa de error |
| Marcos de seguro obligatorio de alta incidencia (vehículo/vivienda ligada a hipoteca) | Consumo-Seguros | DGSFP + BOE (responsabilidad civil obligatoria y normativa de mediación/contrato) + supervisores | TODO | Falta mapa de obligaciones mínimas y costes recurrentes asociados por perfil de hogar, con trazabilidad normativa y vías de reclamación |
| Índice de Restricción de Libertad Ciudadana (IRLC) por norma/fragmento | Derechos | BOE + normativa CCAA + ordenanzas municipales + jurisprudencia relevante | PARTIAL | Done now: PARTIAL. Slice AI-OPS-118 publica metodología IRLC auditable (`irlc_v1`) con pesos explícitos (`reach/intensity/due_process_risk/reversibility_risk/discretionality/compliance_cost`) y scoring reproducible por `fragment_id` en `liberty_restriction_assessments`; Slice AI-OPS-130 amplía la semilla a `11` assessments manteniendo `8` fragmentos base, con gate de cobertura por derecho integrado en `focus_gate`. Evidencia: `docs/etl/sprints/AI-OPS-118/reports/liberty-restrictions-foundation-lane.md`, `docs/etl/sprints/AI-OPS-130/reports/liberty-right-map-coverage-gate.md`, `docs/etl/sprints/AI-OPS-130/evidence/liberty_restrictions_import_20260223T202028Z.json`, `docs/etl/sprints/AI-OPS-130/evidence/liberty_restrictions_status_20260223T202028Z.json`, `docs/etl/sprints/AI-OPS-130/evidence/just_parl_check_liberty_focus_gate_20260223T202028Z.txt`. Falta ampliar cobertura fuera del seed sancionador (CCAA/municipal/jurisprudencia) y pasar de semilla a ingesta continua. Siguiente comando: `DB_PATH=<db> SNAPSHOT_DATE=2026-02-23 just parl-liberty-restrictions-pipeline`. |
| Mapa de restricciones por derecho afectado | Derechos | BOE + CCAA + ordenanzas + resoluciones administrativas/judiciales públicas | PARTIAL | Done now: PARTIAL. Slice AI-OPS-118 añade taxonomía reproducible `liberty_right_categories` (`6` derechos) y mapa operativo `restriction_map_by_right`; Slice AI-OPS-130 cierra el gap de categorías vacías y deja cobertura `6/6` (`right_categories_with_data_total=6`, `right_categories_with_data_pct=1.0`) con guardrail explícito `rights_with_data_gate` en `report_liberty_restrictions_status.py` (`LIBERTY_RESTRICTIONS_RIGHTS_WITH_DATA_MIN`, default `1.0`). Evidencia: `docs/etl/sprints/AI-OPS-130/reports/liberty-right-map-coverage-gate.md`, `docs/etl/sprints/AI-OPS-130/evidence/liberty_restrictions_status_20260223T202028Z.json`, `docs/etl/sprints/AI-OPS-130/evidence/just_parl_check_liberty_focus_gate_20260223T202028Z.txt`, `docs/etl/sprints/AI-OPS-130/evidence/just_parl_check_liberty_focus_gate_fail_rc_20260223T202028Z.txt`. Falta extender alcance territorial (Estado+CCAA+municipal) y densidad de evidencia primaria multi-fuente. Siguiente comando: `DB_PATH=<db> just parl-report-liberty-restrictions-status`. |
| Test de proporcionalidad y necesidad regulatoria | Derechos | AIR/Memoria normativa + evaluaciones ex post + órganos consultivos + datos de outcomes | PARTIAL | Done now: PARTIAL. Slice AI-OPS-119 abre pipeline reproducible de proporcionalidad (`liberty_proportionality_methodologies/liberty_proportionality_reviews`) con semilla versionada `liberty_proportionality_seed_v1.json`, validación/import idempotente y gate ejecutable (`just parl-check-liberty-proportionality-gate`). Resultado actual: `reviews_total=8`, `target_fragments_coverage_pct=1.0`, `objective_defined_pct=1.0`, `indicator_defined_pct=0.75`, `alternatives_considered_pct=0.5`, `gate.passed=true` y `reviews_below_threshold_total=2` para priorización de revisión. Evidencia: `docs/etl/sprints/AI-OPS-119/reports/liberty-proportionality-direct-accountability-lane.md`, `docs/etl/sprints/AI-OPS-119/evidence/liberty_proportionality_import_20260223T182117Z.json`, `docs/etl/sprints/AI-OPS-119/evidence/liberty_proportionality_status_20260223T182117Z.json`, `docs/etl/sprints/AI-OPS-119/evidence/just_parl_liberty_restrictions_pipeline_20260223T182117Z.txt`. Falta sustituir semilla por ingesta continua AIR/ex-post y añadir evidencia de eficacia observada fuera del piloto. Siguiente comando: `DB_PATH=<db> just parl-report-liberty-proportionality-status`. |
| Variación territorial y arbitrariedad de enforcement | Derechos | CCAA/ayuntamientos + organismos sancionadores + recursos estimados/desestimados | PARTIAL | Done now: PARTIAL. Slice AI-OPS-120 abre lane reproducible de variación territorial con `liberty_enforcement_methodologies/liberty_enforcement_observations` y reporte operativo `report_liberty_enforcement_variation_status.py` (métricas por `fragment_id`: `sanction_rate_per_1000`, `annulment_rate`, `resolution_delay_p90_days`). Resultado actual: `observations_total=16`, `fragments_with_multi_territory_total=8/8`, `high_variation_fragments_total=3`, `target_fragment_coverage_pct=1.0`, `gate.passed=true`. Evidencia: `docs/etl/sprints/AI-OPS-120/reports/liberty-territorial-variation-indirect-accountability-lane.md`, `docs/etl/sprints/AI-OPS-120/evidence/liberty_enforcement_import_20260223T183508Z.json`, `docs/etl/sprints/AI-OPS-120/evidence/liberty_enforcement_status_20260223T183508Z.json`, `docs/etl/sprints/AI-OPS-120/evidence/just_parl_liberty_restrictions_pipeline_20260223T183508Z.txt`. Falta sustituir piloto semilla por ingesta territorial continua y ampliar cobertura fuera de territorios de arranque. Siguiente comando: `DB_PATH=<db> just parl-report-liberty-enforcement-variation-status`. |
| Censo integral de normas restrictivas (Estado + CCAA + municipal) | Derechos | BOE + boletines autonómicos + BOP/ordenanzas + reglamentos sectoriales | PARTIAL | Done now: PARTIAL. Slice AI-OPS-118 habilita censo base versionable para restricciones sobre el catálogo legal ya cargado (`legal_norms/legal_norm_fragments`) y lo enlaza con `liberty_restriction_assessments` (`norms_with_irlc_total=8`, `fragments_with_irlc_total=8`). Evidencia: `docs/etl/sprints/AI-OPS-118/evidence/liberty_restrictions_status_20260223T181035Z.json`, `docs/etl/sprints/AI-OPS-118/reports/liberty-restrictions-foundation-lane.md`. Falta cobertura integral Estado+CCAA+municipal y rutina de refresh por boletín/versiones. Siguiente comando: `DB_PATH=<db> SNAPSHOT_DATE=2026-02-23 just parl-liberty-restrictions-pipeline`. |
| Cadena de responsabilidad directa por restricción | Derechos | Congreso/Senado (votos y firmas) + BOE (promulgación) + resoluciones/actos de enforcement | PARTIAL | Done now: PARTIAL. Slice AI-OPS-119 activa cadena directa auditable por `fragment_id` mediante `report_liberty_direct_accountability_scores.py` (roles directos `propose/approve/enforce`) sobre responsabilidades legales cargadas. Slice AI-OPS-136 endurece ese contrato con quality-gate de evidencia primaria directa: métricas `direct_edges_with_primary_evidence_total/direct_edges_with_primary_evidence_pct` y gate `direct_primary_evidence_gate` (umbrales configurables en `justfile`: `LIBERTY_DIRECT_ACCOUNTABILITY_PRIMARY_EVIDENCE_MIN_PCT`, `LIBERTY_DIRECT_ACCOUNTABILITY_MIN_PRIMARY_EVIDENCE_EDGES`). Corrida AI-OPS-136 (`20260223T211623Z`): `fragments_with_direct_chain_total=8/8`, `direct_edges_total=19`, `direct_edges_with_primary_evidence_total=19`, `direct_edges_with_primary_evidence_pct=1.0`, `gate.passed=true`; fail-path con umbral imposible (`min_pct=1.1`, `min_edges=20`) devuelve `status=degraded`, `direct_primary_evidence_gate=false`, `exit=2`. Evidencia: `docs/etl/sprints/AI-OPS-136/reports/liberty-direct-accountability-primary-evidence-gate.md`, `docs/etl/sprints/AI-OPS-136/evidence/liberty_direct_accountability_scores_20260223T211623Z.json`, `docs/etl/sprints/AI-OPS-136/evidence/liberty_direct_accountability_gate_primary_evidence_fail_20260223T211623Z.json`, `docs/etl/sprints/AI-OPS-136/evidence/just_parl_check_liberty_direct_accountability_gate_primary_evidence_fail_rc_20260223T211623Z.txt`, `docs/etl/sprints/AI-OPS-136/evidence/just_parl_test_liberty_restrictions_20260223T211623Z.txt`. Falta enlazar actos directos de voto/firma/resolución con evidencia primaria multi-fuente fechada y validación temporal de cargo por persona. Siguiente comando: `DB_PATH=<db> SNAPSHOT_DATE=2026-02-23 just parl-report-liberty-direct-accountability-scores`. |
| Cadena de responsabilidad indirecta por restricción | Derechos | Nombramientos y estructura orgánica + reglamentos de delegación + disciplina de grupo/partido + órganos consultivos | PARTIAL | Done now: PARTIAL. Slice AI-OPS-120 activa modelo causal de segundo orden con `liberty_indirect_methodologies/liberty_indirect_responsibility_edges` (roles `delegate/appoint/instruct/design`) y filtros explícitos de atribución (`attributable_confidence_min`, `attributable_max_causal_distance`) en `report_liberty_indirect_accountability_status.py`. Slice AI-OPS-137 endurece este lane con contrato explícito persona/cargo + ventana temporal: `liberty_indirect_responsibility_edges` incorpora `actor_person_name`, `actor_role_title`, `appointment_start_date`, `appointment_end_date`; `validate_liberty_indirect_accountability_seed.py` exige coherencia de ventana (`appointment_end_date>=appointment_start_date`) y consistencia temporal con `evidence_date`; y `report_liberty_indirect_accountability_status.py` añade métricas `attributable_edges_with_actor_person_total`, `attributable_edges_with_valid_person_window_total`, `attributable_edges_with_valid_person_window_pct` y gate `indirect_person_window_gate` (umbrales configurables en `justfile`: `LIBERTY_INDIRECT_PERSON_WINDOW_MIN`, `LIBERTY_INDIRECT_MIN_PERSON_WINDOW_EDGES`). Corrida AI-OPS-137 (`20260223T212645Z`): `edges_total=12`, `attributable_edges_total=9`, `fragments_with_attributable_edges_total=7/8`, `attributable_edges_with_actor_person_total=9`, `attributable_edges_with_valid_person_window_total=9`, `attributable_edges_with_valid_person_window_pct=1.0`, `gate.passed=true`; fail-path contractual (`person_window_min=1.1`, `min_edges=20`) devuelve `status=degraded`, `indirect_person_window_gate=false`, `exit=2`. Evidencia: `docs/etl/sprints/AI-OPS-137/reports/liberty-indirect-accountability-person-window-gate.md`, `docs/etl/sprints/AI-OPS-137/evidence/liberty_indirect_import_20260223T212645Z.json`, `docs/etl/sprints/AI-OPS-137/evidence/liberty_indirect_status_20260223T212645Z.json`, `docs/etl/sprints/AI-OPS-137/evidence/liberty_indirect_gate_person_window_fail_20260223T212645Z.json`, `docs/etl/sprints/AI-OPS-137/evidence/liberty_indirect_gate_person_window_fail_rc_20260223T212645Z.txt`, `docs/etl/sprints/AI-OPS-137/evidence/liberty_restrictions_snapshot_20260223_ai_ops_137_20260223T212645Z.json`, `docs/etl/sprints/AI-OPS-137/evidence/just_parl_test_liberty_restrictions_20260223T212645Z.txt`. Falta sustituir seed por cobertura multi-fuente real (nombramientos/resoluciones oficiales) y resolver identidad persona/cargo fuera del piloto. Siguiente comando: `DB_PATH=<db> just parl-report-liberty-indirect-accountability-status`. |
| Evidencia y scoring de atribución personal | Derechos | Tablas de responsabilidades + nombramientos + trazas de expediente/recurso | PARTIAL | Done now: PARTIAL. Slice AI-OPS-119 publica score auditable institucional `responsibility_score` (normalizado 0-100) con pesos por rol. Slice AI-OPS-138 abre scoring personal reproducible con `scripts/report_liberty_personal_accountability_scores.py`, combinando edges directos con `person_id` y cadena indirecta atribuible con contexto persona/cargo+ventana temporal (`actor_person_name`, `actor_role_title`, `appointment_start_date/end_date`) y fuerza probatoria explícita (`edge_confidence * primary_evidence_factor`). Slice AI-OPS-139 endurece el contrato para eliminar sesgo por visualización (`top_n` no altera `persons_scored_total`). Slice AI-OPS-140 añade observabilidad/gate de resolución de identidad indirecta (`indirect_identity_resolution_pct`, `indirect_identity_resolution_gate`) con muestra de no resueltos (`indirect_identity_unresolved_sample`). Slice AI-OPS-141 convierte ese backlog en cola operativa reproducible (`report_liberty_person_identity_resolution_queue.py`). Slice AI-OPS-142 cierra el loop con aplicación reproducible de alias en DB (`person_name_aliases`) vía seed validado/importado. Slice AI-OPS-143 añade contrato explícito de procedencia (`source_kind`, `evidence_date`, `evidence_quote`) y separa alias `manual_seed` vs `official_*` en scoring/queue. Slice AI-OPS-144 añade backlog accionable de migración `manual -> official` (manual-upgrade queue + CSV), gate de `manual_alias_share` en la cola, y guardrail de no-downgrade de procedencia en import. Slice AI-OPS-145 endurece el guardrail para impedir retarget manual sobre alias ya `official_*` (`aliases_retarget_downgrade_prevented`) y alinea scoring personal con la cola añadiendo métricas/gate de `manual_alias_share`. Slice AI-OPS-146 añade gate explícito de evidencia oficial para alias `official_*` en scoring/queue (`official_alias_rows_with_evidence_total`, `official_alias_rows_missing_evidence_total`, `official_alias_evidence_coverage_pct`, `official_alias_evidence_gate`) con umbrales dedicados en `justfile`. Slice AI-OPS-147 añade gate explícito de cuota oficial (`official_alias_share_pct`, `official_alias_share_gate`) para hacer exigible la migración `manual_seed -> official_*` en ambas lanes. Slice AI-OPS-148 añade trazabilidad de `official_*` a `source_records` (`source_record_pk`) en schema/import y gate explícito en scoring/queue (`official_alias_source_record_coverage_pct`, `official_alias_source_record_gate`). Slice AI-OPS-149 operacionaliza la remediación de gaps `official_*` con colas accionables dedicadas (`official_alias_evidence_upgrade_queue_rows`, `official_alias_source_record_upgrade_queue_rows`) y checks de visibilidad de backlog (`official_alias_evidence_backlog_visible`, `official_alias_source_record_backlog_visible`) exportables a CSV desde `justfile`. Slice AI-OPS-150 cierra el loop review/apply con `scripts/export_liberty_person_identity_official_upgrade_review_queue.py` y `scripts/apply_liberty_person_identity_official_upgrade_reviews.py` (CSV de decisiones reproducible + guardrail anti-downgrade). Slice AI-OPS-151 endurece el apply con autoresolución de `source_record_pk` vía lookup en `source_records` usando `--db`, métricas explícitas de resolución (`source_record_pk_auto_resolved`, `source_record_pk_auto_resolve_missed`) y wiring en `justfile`. Corrida AI-OPS-149 (`20260223T231638Z`): pass observabilidad (`official_alias_rows_total=0`, colas `0/0`) y fail-path contractual (`official_alias_rows_total=1`, `official_alias_rows_missing_evidence_total=1`, `official_alias_rows_missing_source_record_total=1`) con colas `1/1`, checks de visibilidad `true` y `exit=2`; suites en verde (`Ran 8`, `Ran 89`). Corrida AI-OPS-150 (`20260223T232635Z`): loop review/apply operativo con `rows_total=9`, `approved_rows=1`, `updated_rows=1`, reducción de cola manual `9 -> 8`, `official_alias_rows_total=1`, `official_alias_rows_missing_source_record_total=1`; suites en verde (`Ran 3`, `Ran 92`). Corrida AI-OPS-151 (`20260223T232954Z`): dry-run contractual de autoresolución con lookup real (`source_record_lookup.rows_total=173070`, `source_record_pk_auto_resolved=1`, `validation.valid=true`); suites en verde (`Ran 4`, `Ran 93`). Evidencia: `docs/etl/sprints/AI-OPS-138/reports/liberty-personal-accountability-scoring-lane.md`, `docs/etl/sprints/AI-OPS-139/reports/liberty-personal-accountability-topn-contract.md`, `docs/etl/sprints/AI-OPS-140/reports/liberty-personal-identity-resolution-gate.md`, `docs/etl/sprints/AI-OPS-141/reports/liberty-person-identity-resolution-queue-lane.md`, `docs/etl/sprints/AI-OPS-142/reports/liberty-person-identity-apply-lane.md`, `docs/etl/sprints/AI-OPS-143/reports/liberty-person-identity-provenance-gate.md`, `docs/etl/sprints/AI-OPS-144/reports/liberty-person-identity-manual-upgrade-backlog-gate.md`, `docs/etl/sprints/AI-OPS-145/reports/liberty-person-identity-source-guard-personal-gate.md`, `docs/etl/sprints/AI-OPS-146/reports/liberty-person-identity-official-evidence-gate.md`, `docs/etl/sprints/AI-OPS-147/reports/liberty-person-identity-official-alias-share-gate.md`, `docs/etl/sprints/AI-OPS-148/reports/liberty-person-identity-official-source-record-gate.md`, `docs/etl/sprints/AI-OPS-149/reports/liberty-person-identity-official-gap-actionable-queues.md`, `docs/etl/sprints/AI-OPS-150/reports/liberty-person-identity-official-upgrade-review-apply-loop.md`, `docs/etl/sprints/AI-OPS-151/reports/liberty-person-identity-source-record-autoresolve.md`, `docs/etl/sprints/AI-OPS-149/evidence/liberty_person_identity_resolution_queue_20260223T231638Z.json`, `docs/etl/sprints/AI-OPS-149/evidence/liberty_person_identity_resolution_queue_official_gap_fail_20260223T231638Z.json`, `docs/etl/sprints/AI-OPS-149/evidence/liberty_person_identity_official_gap_queue_contract_summary_20260223T231638Z.json`, `docs/etl/sprints/AI-OPS-149/evidence/liberty_person_identity_resolution_queue_official_gap_fail_rc_20260223T231638Z.txt`, `docs/etl/sprints/AI-OPS-149/evidence/unittest_liberty_person_identity_resolution_queue_20260223T231638Z.txt`, `docs/etl/sprints/AI-OPS-149/evidence/just_parl_test_liberty_restrictions_20260223T231638Z.txt`, `docs/etl/sprints/AI-OPS-149/exports/liberty_person_identity_official_alias_evidence_upgrade_queue_20260223T231638Z.csv`, `docs/etl/sprints/AI-OPS-149/exports/liberty_person_identity_official_alias_source_record_upgrade_queue_20260223T231638Z.csv`, `docs/etl/sprints/AI-OPS-150/evidence/liberty_person_identity_official_upgrade_review_apply_contract_summary_20260223T232635Z.json`, `docs/etl/sprints/AI-OPS-151/evidence/liberty_person_identity_official_upgrade_apply_autoresolve_20260223T232954Z.json`, `docs/etl/sprints/AI-OPS-151/evidence/liberty_person_identity_official_upgrade_source_record_autoresolve_contract_summary_20260223T232954Z.json`. Falta reemplazar progresivamente alias `manual_seed` por alias `official_*` (nombramientos/resoluciones/expedientes) y ampliar cobertura fuera del piloto. Siguiente comando: `DB_PATH=<db> just parl-export-liberty-person-identity-official-upgrade-review-queue && DB_PATH=<db> LIBERTY_PERSON_IDENTITY_OFFICIAL_UPGRADE_REVIEWS_IN=<review_csv> LIBERTY_PERSON_IDENTITY_SEED_REVIEW_OUT=<seed_out_json> just parl-apply-liberty-person-identity-official-upgrade-reviews && DB_PATH=<db> LIBERTY_PERSONAL_MANUAL_ALIAS_SHARE_MAX=<target> LIBERTY_PERSONAL_INDIRECT_NON_MANUAL_ALIAS_RESOLUTION_MIN_PCT=<target> LIBERTY_PERSONAL_OFFICIAL_ALIAS_SHARE_MIN_PCT=<target> LIBERTY_PERSONAL_MIN_ALIAS_ROWS_FOR_OFFICIAL_SHARE_GATE=<target> LIBERTY_PERSONAL_OFFICIAL_ALIAS_EVIDENCE_MIN_PCT=<target> LIBERTY_PERSONAL_MIN_OFFICIAL_ALIAS_ROWS_FOR_EVIDENCE_GATE=<target> LIBERTY_PERSONAL_OFFICIAL_ALIAS_SOURCE_RECORD_MIN_PCT=<target> LIBERTY_PERSONAL_MIN_OFFICIAL_ALIAS_ROWS_FOR_SOURCE_RECORD_GATE=<target> just parl-check-liberty-personal-accountability-gate && DB_PATH=<db> LIBERTY_PERSON_IDENTITY_MANUAL_ALIAS_SHARE_MAX=<target> LIBERTY_PERSON_IDENTITY_NON_MANUAL_ALIAS_RESOLUTION_MIN_PCT=<target> LIBERTY_PERSON_IDENTITY_OFFICIAL_ALIAS_SHARE_MIN_PCT=<target> LIBERTY_PERSON_IDENTITY_MIN_ALIAS_ROWS_FOR_OFFICIAL_SHARE_GATE=<target> LIBERTY_PERSON_IDENTITY_OFFICIAL_ALIAS_EVIDENCE_MIN_PCT=<target> LIBERTY_PERSON_IDENTITY_MIN_OFFICIAL_ALIAS_ROWS_FOR_EVIDENCE_GATE=<target> LIBERTY_PERSON_IDENTITY_OFFICIAL_ALIAS_SOURCE_RECORD_MIN_PCT=<target> LIBERTY_PERSON_IDENTITY_MIN_OFFICIAL_ALIAS_ROWS_FOR_SOURCE_RECORD_GATE=<target> just parl-check-liberty-person-identity-resolution-gate`. |
| Cobertura y calidad del censo de restricciones | Derechos | Censo normativo + metadatos de publicación + control de versiones | PARTIAL | Done now: PARTIAL. Slice AI-OPS-118 publicó KPIs base y Slice AI-OPS-123 activó heartbeat append-only + ventana strict; Slice AI-OPS-131 añadió `rights_with_data`; Slice AI-OPS-132 añadió representatividad fuente/scope; Slice AI-OPS-133 añadió doble cobertura (`IRLC + accountability`) por fuente/scope; Slice AI-OPS-134 añadió quality-gate de evidencia primaria en accountability (`source_url + evidence_date + evidence_quote`) en status/heartbeat/window. Slice AI-OPS-135 cierra el hueco operativo del seed sancionador: `sanction_norms_seed_v1` exige y carga evidencia primaria por `responsibility_hint` (`source_url`, `evidence_date`, `evidence_quote`) en `legal_fragment_responsibilities`, se endurece el contrato default del foco (`LIBERTY_RESTRICTIONS_ACCOUNTABILITY_PRIMARY_EVIDENCE_MIN_PCT=1.0`, `LIBERTY_RESTRICTIONS_MIN_ACCOUNTABILITY_PRIMARY_EVIDENCE_EDGES=1`) y se extiende la observabilidad de estado sancionador con cobertura de evidencia primaria (`responsibility_primary_evidence_coverage_pct`). Corrida AI-OPS-135 (`20260223T210908Z`): `sanction_norms_seed_status` `ok` con `responsibilities_with_primary_evidence_total=15/15` y `responsibility_primary_evidence_coverage_pct=1.0`; `liberty_restrictions_status` `ok` con `accountability_edges_with_primary_evidence_total=15/15`, `accountability_edges_with_primary_evidence_pct=1.0`, `focus_gate.passed=true`; ventana strict pass `ok`; fail-path de foco con umbral imposible (`min_pct=1.1`, `min_edges=20`) devuelve `status=degraded` y `exit=2`. Evidencia: `docs/etl/sprints/AI-OPS-135/reports/liberty-accountability-primary-evidence-seed-hardening.md`, `docs/etl/sprints/AI-OPS-135/evidence/sanction_norms_seed_status_20260223T210908Z.json`, `docs/etl/sprints/AI-OPS-135/evidence/liberty_restrictions_status_20260223T210908Z.json`, `docs/etl/sprints/AI-OPS-135/evidence/liberty_restrictions_focus_gate_accountability_primary_evidence_fail_20260223T210908Z.json`, `docs/etl/sprints/AI-OPS-135/evidence/just_parl_check_liberty_focus_gate_accountability_primary_evidence_fail_rc_20260223T210908Z.txt`, `docs/etl/sprints/AI-OPS-135/evidence/liberty_restrictions_status_heartbeat_window_20260223T210908Z.json`, `docs/etl/sprints/AI-OPS-135/evidence/just_parl_test_sanction_norms_seed_20260223T210908Z.txt`, `docs/etl/sprints/AI-OPS-135/evidence/just_parl_test_liberty_restrictions_20260223T210908Z.txt`. Falta cobertura real fuera de seed inicial (State+CCAA+municipal) y sustitución progresiva de hints por evidencia primaria multi-fuente fuera del seed. Siguiente comando: `DB_PATH=<db> SNAPSHOT_DATE=2026-02-23 just parl-liberty-restrictions-pipeline`. |
| Publicación periódica del Atlas de Restricciones Ciudadanas | Derechos | Artefactos snapshot (`restrictions.json`, `irlc_by_fragment.parquet`, `accountability_edges.parquet`) | PARTIAL | Done now: PARTIAL. Slice AI-OPS-124+127 cierran el contrato de publicación y export, con snapshot/changelog/hf alias estable; ejecución `AI-OPS-126` validó heartbeat en `ok` bajo condiciones previas. En `AI-OPS-217` re-ejecución, `parl-report-liberty-atlas-release-heartbeat` vuelve `degraded` con evidencia de `published_gh_pages_drift_detected` y `hf_unavailable`, y la verificación ventana permanece bloqueada mientras persista `max_hf_unavailable>0`. Evidencia: `docs/etl/sprints/AI-OPS-124/reports/liberty-atlas-publication-contract.md`, `docs/etl/sprints/AI-OPS-125/reports/liberty-atlas-public-distribution-continuity.md`, `docs/etl/sprints/AI-OPS-126/reports/liberty-atlas-release-freshness-heartbeat.md`, `docs/etl/sprints/AI-OPS-127/reports/liberty-atlas-hf-release-alias-contract.md`, `docs/etl/sprints/AI-OPS-126/evidence/liberty_atlas_release_heartbeat_20260223T194348Z.json`, `docs/etl/sprints/AI-OPS-126/evidence/liberty_atlas_release_heartbeat_window_20260223T194348Z.json`, `docs/etl/sprints/AI-OPS-217/evidence/liberty_atlas_release_heartbeat_20260226T090709Z.json`, `docs/etl/sprints/AI-OPS-217/evidence/liberty_atlas_changelog_continuity_20260226T090709Z.json`, `docs/etl/sprints/AI-OPS-126/evidence/liberty_atlas_release_heartbeat_window_latest.json`, `docs/etl/sprints/AI-OPS-217/evidence/liberty_restrictions_heartbeat_window_20260226T085323Z.json`. Siguiente comando: `DB_PATH=etl/data/staging/politicos-es.db SNAPSHOT_DATE=2026-02-26 just parl-export-liberty-restrictions-snapshot && just parl-publish-liberty-atlas-artifacts && just etl-publish-hf-dry-run && just parl-report-liberty-atlas-release-heartbeat --allow-hf-unavailable && just parl-check-liberty-atlas-release-heartbeat-window`; alternativa de continuidad si se decide alinear histórico: repetir `SNAPSHOT_DATE=2026-03-05` para resolver `snapshot_date_mismatch:continuity`. |
| Gate de foco: libertad ciudadana primero | Derechos | Tracker + roadmap técnico + quality gates | DONE | Done now: YES. Slice AI-OPS-122 conecta el gate de foco a política de bloqueo en CI con job dedicado `liberty-focus-gate-contract` en `.github/workflows/etl-tracker-gate.yml`: valida fail-path (`--enforce-gate` con umbral imposible -> `exit=2`) y exige pass-path (`--enforce-gate` con umbrales operativos) antes de merge. Slice AI-OPS-129 endurece el alcance del foco en ese mismo job con `scripts/report_liberty_focus_scope_guard.py`: cuando `focus_gate` está degradado, cualquier cambio fuera de `Derechos` falla en estricto (`exit=4`), manteniendo el bloqueo global de `--enforce-gate` como red de seguridad. Evidencia: `docs/etl/sprints/AI-OPS-122/reports/liberty-focus-gate-ci-policy.md`, `docs/etl/sprints/AI-OPS-122/evidence/liberty_focus_gate_fail_20260223T184906Z.json`, `docs/etl/sprints/AI-OPS-122/evidence/liberty_focus_gate_fail_rc_20260223T184906Z.txt`, `docs/etl/sprints/AI-OPS-122/evidence/liberty_focus_gate_pass_20260223T184906Z.json`, `docs/etl/sprints/AI-OPS-122/evidence/just_parl_check_liberty_focus_gate_20260223T184906Z.txt`, `docs/etl/sprints/AI-OPS-122/evidence/workflow_yaml_parse_20260223T184906Z.txt`, `docs/etl/sprints/AI-OPS-129/reports/liberty-focus-scope-guard-ci-policy.md`, `docs/etl/sprints/AI-OPS-129/evidence/liberty_focus_scope_fail_20260223T201430Z.json`, `docs/etl/sprints/AI-OPS-129/evidence/liberty_focus_scope_fail_rc_20260223T201430Z.txt`, `docs/etl/sprints/AI-OPS-129/evidence/liberty_focus_scope_pass_20260223T201430Z.json`, `docs/etl/sprints/AI-OPS-129/evidence/just_parl_check_liberty_focus_scope_20260223T201430Z.txt`. Siguiente comando: `DB_PATH=<db> just parl-check-liberty-focus-gate`. |
| Accion ejecutiva (Consejo de Ministros) | Ejecutivo | La Moncloa: referencias + RSS | DONE | Done now: YES. Ingesta Moncloa y mapping a `policy_events` reproducibles (`moncloa_referencias=20`, `moncloa_rss_referencias=8`, total `28`) y reconciliadas con SQL `DONE` sin waiver activa para Moncloa. Evidencia: `docs/etl/sprints/AI-OPS-07/reports/dual-entry-apply-recompute.md`, `docs/etl/sprints/AI-OPS-07/reports/boe-policy-events-mapping.md` y `docs/etl/sprints/AI-OPS-07/evidence/post_apply_waiveraware_checker_final.log`. Siguiente comando: `just etl-tracker-gate`. |
| Contratacion publica (Espana) | Dinero | PLACSP: sindicación/ATOM (CODICE) | DONE | Done now: YES. `placsp_sindicacion` recuperó `strict-network` con red real (`run_id=249`, `run_status=ok`, `run_records_loaded=106`) y el mismatch restante era solo desfase tracker/SQL, por lo que se reconcilia la fila a `DONE` sin waiver. Evidencia: `docs/etl/sprints/AI-OPS-11/evidence/placsp-strict-refresh.log`, `docs/etl/sprints/AI-OPS-11/evidence/post-strict-status.log`, `docs/etl/sprints/AI-OPS-11/evidence/post-strict-gate.log`, `docs/etl/sprints/AI-OPS-11/exports/placsp_waiver_decision.csv`. Siguiente comando: `just etl-tracker-gate`. |
| Contratacion detalle y documentacion de licitaciones (PLACSP) | Dinero | PLACSP: `url_detalle` desde `placsp_sindicacion`/`placsp_autonomico` | DONE | Done now: YES. Paso 1 sigue estable sin nuevos faltantes (`backfill-placsp-contract-details` `source_records_seen=0`). Paso 2 y 2.5 completados: `backfill-money-contract-records` (`1985` contratos mapeados/actualizados) y `backfill-policy-events-money` (`1985` `policy_events` upserted en `placsp_contratacion`, todos con `source_record_pk`; totals `policy_events_by_source['placsp_contratacion']=1985`). Cierres SQL reproducibles: `placsp_contract_detail_records` `992`+`993`, `placsp_contract_detail_documents` `8144`+`8144`, `money_contract_records` `992`+`993`, `policy_events` `placsp_contratacion=1985`; evidencia en `docs/etl/sprints/AI-OPS-152/evidence/placsp_linkage_checks.log` y `docs/etl/sprints/AI-OPS-152/evidence/tracker_status_after_placsp_money_policy_events.log`. |
| Subvenciones y ayudas (Espana) | Dinero | BDNS/SNPSAP: API | DONE | Done now: YES. `bdns_api_subvenciones` recuperó `strict-network` con endpoint JSON (`/bdnstrans/api/convocatorias/ultimas`) y red real (`run_id=256`, `run_status=ok`, `run_records_loaded=50`), por lo que se reconcilia la fila a `DONE` sin waiver. Evidencia: `docs/etl/sprints/AI-OPS-13/evidence/unblock-execution.log`, `docs/etl/sprints/AI-OPS-13/evidence/bdns-api-discovery.log`, `docs/etl/sprints/AI-OPS-13/exports/unblock_feasibility_matrix.csv`. Siguiente comando: `just etl-tracker-gate`. |
| Indicadores (outcomes): Eurostat | Outcomes | Eurostat (API/SDMX) | DONE | Done now: YES. `eurostat_sdmx` tiene `strict-network` exitoso (`run_records_loaded=2394`) y replay no-cero (`run_records_loaded=2`), por lo que el mismatch actual era desfase tracker/SQL y se reconcilia a `DONE`. Evidencia: `docs/etl/sprints/AI-OPS-10/evidence/eurostat-sql/eurostat_sdmx__strict-network_run_snapshot.csv`, `docs/etl/sprints/AI-OPS-10/evidence/eurostat-sql/eurostat_sdmx__replay_run_snapshot.csv`, `docs/etl/sprints/AI-OPS-10/reports/eurostat-apply.md`, `docs/etl/sprints/AI-OPS-10/evidence/tracker-gate-postrun.log`, `docs/etl/sprints/AI-OPS-10/evidence/status-postrun.json`. Siguiente comando: `just etl-tracker-gate`. |
| Indicadores (confusores): Banco de Espana | Outcomes | Banco de Espana (API series) | PARTIAL | Done now: NO. Blocker: `bde_series_api` en `strict-network` sigue fallando por DNS (`Errno 8`, `run_id=264`, `run_records_loaded=0`), por lo que la fila permanece `PARTIAL`. Evidencia: `docs/etl/sprints/AI-OPS-14/evidence/blocker-probe-refresh.log`, `docs/etl/sprints/AI-OPS-14/evidence/unblock-execution.log`, `docs/etl/sprints/AI-OPS-14/exports/unblock_feasibility_matrix.csv`. Siguiente comando: `python3 scripts/ingestar_politicos_es.py ingest --db etl/data/staging/politicos-es.db --source bde_series_api --url https://api.bde.es/datos/series/PARO.TASA.ES.M --snapshot-date 2026-02-17 --strict-network --timeout 30`. |
| Indicadores (confusores): AEMET | Outcomes | AEMET OpenData | PARTIAL | Done now: NO. Blocker: `aemet_opendata_series` en `strict-network` sigue bloqueado por contrato (`aemet_blocker=contract`, JSON invalido con payload vacío `payload_sig=e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855`, `run_id=263`, `run_records_loaded=0`), por lo que la fila permanece `PARTIAL`. Evidencia: `docs/etl/sprints/AI-OPS-14/evidence/blocker-probe-refresh.log`, `docs/etl/sprints/AI-OPS-14/evidence/unblock-execution.log`, `docs/etl/sprints/AI-OPS-14/exports/unblock_feasibility_matrix.csv`. Siguiente comando: `AEMET_API_KEY=<token> python3 scripts/ingestar_politicos_es.py ingest --db etl/data/staging/politicos-es.db --source aemet_opendata_series --url https://opendata.aemet.es/opendata/api/observacion/convencional/todas --snapshot-date 2026-02-17 --strict-network --timeout 30`. |
| Indicadores (confusores): ESIOS/REE | Outcomes | ESIOS/REE API (token) | TODO | Falta conector; gestión de token/cuotas; almacenamiento eficiente para series horarias |
| UE: legislacion y documentos | UE | EUR-Lex / Cellar (SPARQL/REST) | TODO | Falta conector UE legal; linking a expedientes y textos vigentes |
| UE: votaciones (roll-call) | UE | Parlamento Europeo: votes XML/PDF + Open Data Portal | TODO | Falta ingesta de votos + mapeo a MEPs; KPI: % con actor resuelto |
| UE: contratacion publica | UE | TED API (notices) | TODO | Falta ingesta; KPI: cobertura y trazabilidad por notice |
| UE: lobbying/influencia | UE | EU Transparency Register | TODO | Falta ingesta y modelo de entidades; linking cuando existan meetings/agendas publicas |
| Posiciones declaradas (programas) | Editorial | Webs/programas de partidos | PARTIAL | Done now: YES (MVP reproducible). Nuevo source `programas_partidos` (manifest-driven) ingesta `source_records` + `text_documents` + `topic_evidence` (`declared:programa`) con topics basados en `ui/citizen/concerns_v1.json` (topic_set por `election_cycle`). Stance auto: support=4, oppose=1, unclear=6; posiciones declaradas: positions_total=5 (`topic_set_id=11`, `as_of_date=2026-02-17`). Slices AI-OPS-29 y AI-OPS-32 estabilizan reruns/gate declarado; AI-OPS-33+34+35 mejoran publicación en `/citizen`; AI-OPS-37 y posteriores endurecen contratos de evidencia. Queda parte como PARTIAL por remanente de cola manual y hardening pendiente por `programas_partidos`. Evidencia clave: `docs/etl/sprints/AI-OPS-29/reports/programas-review-stability-20260222.md`, `docs/etl/sprints/AI-OPS-29/evidence/programas_status_pipeline_20260222T193242Z.json`, `docs/etl/sprints/AI-OPS-33/evidence/citizen_quality_meta_summary_20260222T195715Z.json`, `docs/etl/sprints/AI-OPS-37/evidence/citizen_concerns_validate_20260222T202800Z.json`. Siguiente comando: `DECLARED_QUALITY_SOURCE_IDS=programas_partidos DECLARED_QUALITY_SKIP_VOTE_GATE=1 DECLARED_QUALITY_OUT=docs/etl/sprints/<SPRINT>/evidence/quality_declared.json just parl-quality-report-declared-enforce` + `SNAPSHOT_DATE=<YYYY-MM-DD> PROGRAMAS_MANIFEST=<manifest.csv> just parl-programas-pipeline` + `PROGRAMAS_STATUS_OUT=docs/etl/sprints/<SPRINT>/evidence/programas_status.json just parl-programas-status`. |
| Taxonomia de temas (alto impacto por scope) | Analitica | Definicion de temas + stake scoring por institucion/territorio/mandato | DONE | Seed/versionado: `etl/data/seeds/topic_taxonomy_es.json`. Build: `python3 scripts/ingestar_parlamentario_es.py backfill-topic-analytics --db <db> --as-of-date <YYYY-MM-DD> --taxonomy-seed etl/data/seeds/topic_taxonomy_es.json` |
| Evidencia textual (para posiciones declaradas) | Analitica | Diarios de sesiones, intervenciones, preguntas, notas oficiales | DONE | Modelo canónico: `text_documents` (metadata + excerpt) enlazado por `source_record_pk` de `topic_evidence`. Backfill: `python3 scripts/ingestar_parlamentario_es.py backfill-text-documents --db <db> --source-id congreso_intervenciones --only-missing` (o `just parl-backfill-text-documents`). Además, copia un snippet a `topic_evidence.excerpt` para que `/explorer-temas` sea auditable sin joins. Nota: stance classification sigue siendo otro paso (ver filas de “Intervenciones”/“Posiciones”). |
| Textos de iniciativas (qué se votó) | Parlamentario | BOCG + Diario de Sesiones (vía links en iniciativas Congreso/Senado) | PARTIAL | Modelo: `parl_initiative_documents` (initiative->doc_url->source_record_pk) + `text_documents` con `source_id='parl_initiative_docs'` (bytes en `etl/data/raw/text_documents/parl_initiative_docs/`). Backfills: `python3 scripts/ingestar_parlamentario_es.py backfill-initiative-links --db <db>` y `python3 scripts/ingestar_parlamentario_es.py backfill-initiative-documents --db <db> --limit-initiatives 200 --max-docs-per-initiative 3` (por defecto solo iniciativas linkeadas a votaciones). Estado real (DB `etl/data/staging/politicos-es.db`, 2026-02-22): Congreso `104/104 (100%)` iniciativas linkeadas a votos con docs descargados; missing URLs `0` y trazabilidad `document_fetches` de iniciativas descargadas en `812/812 (100%)` tras backfill histórico. Senado: objetivo linkeado cerrado (`647/647 = 100%`) y avance total actual `8204/8323` doc links descargados (`98.57%`), con desglose `BOCG 3885/4004` y `DS 4319/4319` tras ampliar links desde XML detalle (incremento neto del sprint: `+50` links, `+50` docs descargados). Delta controlable del sprint: excerpt coverage en docs descargados subió de `3887/8883` a `9016/9016` (missing excerpts `4996 -> 0`) con `scripts/backfill_initiative_doc_excerpts.py`; además, fetch-status coverage en docs ya descargados subió de `8761/8966` a `8966/8966` (missing `205 -> 0`) con `scripts/backfill_initiative_doc_fetch_status.py` (157 URLs únicas, 205 referencias). Observabilidad nueva: `scripts/report_initiative_doc_status.py` consolida KPIs de links/descargas/fetch/excerpts y buckets HTTP por fuente en una salida operativa; y `quality-report --include-initiatives` ahora expone esos KPIs de doc-link (`downloaded_doc_links_pct`, `fetch_status_coverage_pct`, `excerpt_coverage_pct`, `missing_doc_links_status_buckets`, `missing_doc_links_likely_not_expected`, `missing_doc_links_actionable`, `effective_downloaded_doc_links_pct`) incluyendo `by_source.senado_iniciativas.global_enmiendas_vetos_analysis` como parte del artefacto canónico (`docs/etl/sprints/AI-OPS-27/evidence/quality_initiatives_actionable_kpis_20260222T143924Z.json`). Nueva palanca reproducible: `--archive-fallback` en `backfill-initiative-documents` intenta snapshots públicos (Wayback) para tails `404` sin reintentar ciegamente la URL original; checkpoint AI-OPS-27: `119` lookups, `0` hits, `0` recuperados (`docs/etl/sprints/AI-OPS-27/evidence/initdoc_archive_sweep_20260222T135005Z.json`). Triage adicional AI-OPS-27 (late): downloader deriva/prioriza `INI-3` para `global_enmiendas_vetos`, luego marca como no accionable la cola redundante cuando ya existen alternativas BOCG descargadas. Estado actual del tail Senado: `119 = 119 likely_not_expected_redundant_global_url + 0 actionable` (`docs/etl/sprints/AI-OPS-27/reports/senado-tail-triage-20260222.md`, evidencia `docs/etl/sprints/AI-OPS-27/evidence/initiative_doc_status_redundant_global_triage_20260222T142835Z.json`, `docs/etl/sprints/AI-OPS-27/evidence/senado_redundant_global_skip_run_20260222T142846Z.json`). Slice adicional controlable: `scripts/backfill_senado_publication_links_from_detail_docs.py` añadió URLs oficiales BOCG/DS desde `tipoFich=3` en `7` iniciativas de cola (`+50` links) y `backfill-initiative-documents` descargó `49` payloads nuevos (`docs/etl/sprints/AI-OPS-27/reports/senado-detail-publication-links-backfill-20260222.md`). Evidencia: `docs/etl/sprints/AI-OPS-27/reports/initiative-doc-excerpt-backfill-20260222.md` + `docs/etl/sprints/AI-OPS-27/reports/initiative-doc-fetch-status-backfill-20260222.md` + `docs/etl/sprints/AI-OPS-27/reports/initiative-doc-status-report-20260222.md` + `docs/etl/sprints/AI-OPS-27/reports/initiative-quality-kpis-extension-20260222.md` + `docs/etl/sprints/AI-OPS-27/reports/initiative-doc-archive-fallback-20260222.md` + `docs/etl/sprints/AI-OPS-27/reports/senado-tail-triage-20260222.md` + `docs/etl/sprints/AI-OPS-27/reports/senado-detail-publication-links-backfill-20260222.md`. Evidencia de estado/tail: `docs/etl/sprints/AI-OPS-27/reports/senado-tail-status-20260222.md` + runs `docs/etl/runs/senado_postfix_bounded12_20260221T133419Z/`, `docs/etl/runs/senado_postfix_bounded17_20260221T183415Z/`, `docs/etl/sprints/AI-OPS-27/evidence/senado_tail_retry_post_fetchstatus_20260222T102357Z.json`, `docs/etl/sprints/AI-OPS-27/evidence/initiative_doc_status_20260222T103042Z.json`, `docs/etl/sprints/AI-OPS-27/evidence/senado_tail_daemon_real_20260222T103548Z/_stop_summary.json`, `docs/etl/sprints/AI-OPS-27/evidence/quality_initiatives_doclink_kpis_20260222T133754Z.json`, `docs/etl/sprints/AI-OPS-27/evidence/quality_initiatives_actionable_kpis_20260222T143924Z.json`, `docs/etl/sprints/AI-OPS-27/evidence/initiative_doc_status_after_archive_20260222T135622Z.json`, `docs/etl/sprints/AI-OPS-27/evidence/initiative_doc_status_enhanced_detailfallback_20260222T140646Z.json`, `docs/etl/sprints/AI-OPS-27/evidence/senado_detail_publication_links_backfill_20260222T141811Z.json`, `docs/etl/sprints/AI-OPS-27/evidence/senado_detail_publication_download_20260222T141857Z.json`, `docs/etl/sprints/AI-OPS-27/evidence/initiative_doc_status_post_detail_publication_excerpt_20260222T142006Z.json`, `docs/etl/sprints/AI-OPS-27/evidence/initiative_doc_status_redundant_global_triage_20260222T142835Z.json`, `docs/etl/sprints/AI-OPS-27/evidence/senado_redundant_global_skip_run_20260222T142846Z.json`. Tail actual: `119` URLs en cluster `HTTP 404` persistente (principalmente `legis10 ... global_enmiendas_vetos_...xml`) pero ahora clasificadas como cola redundante no accionable en la descarga por defecto; conservar incidente OPEN con evidencia y reintento acotado solo con nuevas palancas. Slice AI-OPS-61: `scripts/export_missing_initiative_doc_urls.py` añade `--only-actionable-missing` (shortcut de cola accionable) y `--strict-empty` (exit `4` con cola abierta) para contratos reproducibles de vaciado de cola Senado en runbooks/CI, con atajos `just parl-export-missing-initdoc-urls-actionable` y `just parl-check-missing-initdoc-urls-actionable-empty`. Slice controlable AI-OPS-28 (arranque): `scripts/export_text_extraction_queue.py` materializa cola determinista dedupe por `content_sha256` sobre `text_documents`; baseline real `9549` filas inspeccionadas, `8975` items de cola (`9539` referencias), y cola missing-excerpt en `0` (`docs/etl/sprints/AI-OPS-28/evidence/text_extraction_queue_full_summary_20260222T1600Z.json`, `docs/etl/sprints/AI-OPS-28/evidence/text_extraction_queue_missing_summary_20260222T1600Z.json`). Slice controlable AI-OPS-28 (semántica+review loop): `scripts/backfill_initiative_doc_extractions.py` persiste extracción heurística en `parl_initiative_doc_extractions` (`8932` docs; `needs_review=4094` docs únicos), `scripts/report_initiative_doc_status.py` añade KPIs de extracción (`downloaded_with_extraction=9016`, `extraction_coverage_pct=100.0`, `extraction_needs_review=4096` doc-links), y se cierra loop operativo con `scripts/export_initdoc_extraction_review_queue.py` + `scripts/apply_initdoc_extraction_reviews.py` (round-trip CSV con columnas de decisión). Evidencia: `docs/etl/sprints/AI-OPS-28/evidence/initdoc_extractions_backfill_20260222T1625Z.json`, `docs/etl/sprints/AI-OPS-28/evidence/initdoc_extractions_backfill_missing_post_20260222T1628Z.json`, `docs/etl/sprints/AI-OPS-28/evidence/initiative_doc_status_with_extraction_20260222T1635Z.json`, `docs/etl/sprints/AI-OPS-28/exports/initdoc_extraction_review_queue.csv`, `docs/etl/sprints/AI-OPS-28/exports/initdoc_extraction_review_batch_0001_20260222T1640Z.csv`, `docs/etl/sprints/AI-OPS-28/evidence/initdoc_extraction_review_apply_dryrun_20260222T1640Z.json`. Slice controlable AI-OPS-28 (reducción de debt): `heuristic_subject_v2` añade `title_hint_strong` en `scripts/backfill_initiative_doc_extractions.py`; rerun real sin red redujo `extraction_needs_review` de `4096` a `592` doc-links (`45.43% -> 6.57%`) y dejó cola de revisión en `590` documentos únicos. Evidencia: `docs/etl/sprints/AI-OPS-28/reports/initiative-doc-extractions-title-hint-strong-20260222.md`, `docs/etl/sprints/AI-OPS-28/evidence/initdoc_extractions_backfill_title_hint_strong_20260222T151026Z.json`, `docs/etl/sprints/AI-OPS-28/evidence/initiative_doc_status_with_extraction_before_title_hint_strong_20260222T151026Z.json`, `docs/etl/sprints/AI-OPS-28/evidence/initiative_doc_status_with_extraction_after_title_hint_strong_20260222T151026Z.json`, `docs/etl/sprints/AI-OPS-28/evidence/initdoc_extraction_review_queue_after_title_hint_strong_20260222T151026Z.json`, `docs/etl/sprints/AI-OPS-28/exports/initdoc_extraction_review_queue_after_title_hint_strong_20260222T151026Z.csv`. Preparación operativa AI-OPS-28: exportador de cola ahora soporta `--offset` y columna `subject_method`; packet listo en `3` batches (`200/200/190`) para subagentes: `docs/etl/sprints/AI-OPS-28/exports/initdoc_extraction_review_batch_0001_of_0003_20260222T151410Z.csv`, `docs/etl/sprints/AI-OPS-28/exports/initdoc_extraction_review_batch_0002_of_0003_20260222T151410Z.csv`, `docs/etl/sprints/AI-OPS-28/exports/initdoc_extraction_review_batch_0003_of_0003_20260222T151410Z.csv` y resumen `docs/etl/sprints/AI-OPS-28/evidence/initdoc_extraction_review_batches_queued_latest.json`. Refinamiento adicional `title_hint_strong` (patterns + umbrales) redujo deuda a `374` doc-links (`4.15%`) y deja cola residual en `372` docs (`keyword_window` puro). Evidencia: `docs/etl/sprints/AI-OPS-28/reports/initiative-doc-extractions-title-hint-strong-v2d-20260222.md`, `docs/etl/sprints/AI-OPS-28/evidence/initiative_doc_status_with_extraction_after_title_hint_strong_v2d_20260222T152006Z.json`, `docs/etl/sprints/AI-OPS-28/evidence/initdoc_extraction_review_queue_after_title_hint_strong_v2d_20260222T152006Z.json`, batch pack `docs/etl/sprints/AI-OPS-28/exports/initdoc_extraction_review_batch_0001_of_0002_20260222T152034Z.csv` + `docs/etl/sprints/AI-OPS-28/exports/initdoc_extraction_review_batch_0002_of_0002_20260222T152034Z.csv` y resumen `docs/etl/sprints/AI-OPS-28/evidence/initdoc_extraction_review_batches_queued_after_title_hint_strong_v2d_latest.json`. Cierre AI-OPS-28: mejora `title_hint_strong_from_short_window` redujo la cola a `1` y se cerró el último caso vía `apply_initdoc_extraction_reviews` (1 fila), dejando `extraction_needs_review=0` (`0.0%`) y queue en `0` filas. Evidencia: `docs/etl/sprints/AI-OPS-28/reports/initiative-doc-extraction-zero-queue-20260222.md`, `docs/etl/sprints/AI-OPS-28/evidence/initdoc_extraction_review_apply_autoresolve_singleton_20260222T152337Z.json`, `docs/etl/sprints/AI-OPS-28/evidence/initiative_doc_status_with_extraction_post_singleton_apply_20260222T152337Z.json`, `docs/etl/sprints/AI-OPS-28/exports/initdoc_extraction_review_queue_post_singleton_apply_20260222T152337Z.csv`. Slice controlable AI-OPS-28 (gate canónico): `etl/parlamentario_es/quality.py` incorpora KPIs de extracción (`downloaded_doc_links_with_extraction`, `downloaded_doc_links_missing_extraction`, `extraction_needs_review_doc_links`, `extraction_coverage_pct`, `extraction_needs_review_pct`, `extraction_review_closed_pct`) y umbrales por defecto de gate en iniciativas (`extraction_coverage_pct>=0.95`, `extraction_review_closed_pct>=0.95`); corrida real `quality-report --include-initiatives` queda `initiatives.gate.passed=true` con extracción `9016/9016`, `needs_review=0`. Evidencia: `docs/etl/sprints/AI-OPS-28/reports/initiative-quality-extraction-gate-20260222.md`, `docs/etl/sprints/AI-OPS-28/evidence/quality_initiatives_extraction_kpis_20260222T152859Z.json`. Hardening adicional AI-OPS-28: tests CLI cubren fail/pass de `--include-initiatives --enforce-gate` (falla cuando `extraction_review_closed_pct`<umbral y pasa en cierre), y `parl-quality-pipeline` ahora incluye gate de iniciativas por defecto; corrida real enforce `exit=0` en `etl/data/staging/politicos-es.db`. Evidencia: `docs/etl/sprints/AI-OPS-28/evidence/quality_initiatives_extraction_gate_enforce_20260222T153541Z.json`, `docs/etl/sprints/AI-OPS-28/reports/initiative-quality-extraction-gate-20260222.md`. Cierre accionable AI-OPS-28: `quality-report --include-initiatives --enforce-gate` incorpora y cumple `actionable_doc_links_closed_pct>=1.0` (`missing_doc_links_actionable=0`), con evidencia `docs/etl/sprints/AI-OPS-28/evidence/quality_initiatives_actionable_gate_enforce_20260222T190825Z.json` + `docs/etl/sprints/AI-OPS-28/evidence/quality_initiatives_actionable_gate_enforce_20260222T191055Z.json` y reporte `docs/etl/sprints/AI-OPS-28/reports/initiative-quality-actionable-gate-20260222.md`. |
| Clasificacion evidencia -> tema (trazable) | Analitica | Reglas deterministas + señales ML opcionales (siempre auditables) | DONE | MVP (votos + intervenciones): evidencia se etiqueta a `topic_id` (votos via `parl_vote_event_initiatives`; intervenciones via `initiative_id`/expediente). KPIs en `/explorer-sources`: `topic_evidence_with_topic_pct` + breakdown por `topic_method`/`stance_method`. |
| Posiciones por tema (politico x scope) | Analitica | Agregacion reproducible + drill-down a evidencia | DONE | Done now: YES. `backfill-topic-analytics` en `as_of_date=2026-02-16` dejó ambos sets en latest alineado y cerró el blocker de cobertura en Congreso: `topic_set_id=1` pasó de `12/60 (20.0%)` a `60/60 (100.0%)`, mientras `topic_set_id=2` quedó en `23/24 (95.83%)` con latest también en `2026-02-16`; además, `topic_positions_total` subió de `137379` a `205907` y `computed_method_votes` de `68528` a `137056` (`combined=68612`, `declared=239`). Evidencia: `docs/etl/sprints/AI-OPS-15/exports/topic_positions_kpi_baseline.csv`, `docs/etl/sprints/AI-OPS-15/exports/topic_positions_kpi_post.csv`, `docs/etl/sprints/AI-OPS-15/evidence/topic_positions_baseline.log`, `docs/etl/sprints/AI-OPS-15/evidence/topic_positions_recompute.log`, `docs/etl/sprints/AI-OPS-15/reports/topic_positions_reconciliation.md`. Siguiente comando: `just etl-tracker-gate`. |

Actualización operativa (2026-02-23, AI-OPS-62..AI-OPS-103):
- CI ahora valida explícitamente el contrato de cola accionable de iniciativas Senado (`--only-actionable-missing` + `--strict-empty`) en `.github/workflows/etl-tracker-gate.yml` (job `initdoc-actionable-tail-contract`) con fixture determinista y artifacts de fail/pass.
- AI-OPS-63 añade `scripts/report_initdoc_actionable_tail_contract.py` (JSON machine-readable + `--strict`) y lo integra en el mismo job CI para validar fail/pass también sobre el reporte canónico (`actionable_missing`), no solo sobre export CSV.
- AI-OPS-64 añade `scripts/report_initdoc_actionable_tail_digest.py` (digest compacto `ok|degraded|failed` con `thresholds/checks/strict_fail_reasons`) y extiende el mismo job CI para validar fail/pass también sobre ese digest (`--strict`) con artifacts dedicados (`*_nonempty_digest*`, `*_empty_digest*`).
- AI-OPS-65 integra ese digest directamente en `build_sources_status_payload` (`initdoc_actionable_tail.contract` + `initdoc_actionable_tail.digest`) para que `/api/sources/status` y `docs/gh-pages/explorer-sources/data/status.json` compartan el mismo contrato; `/explorer-sources` añade card "Iniciativas Senado (tail)" consumiendo ese bloque.
- AI-OPS-66 añade tendencia operativa para ese bloque con `scripts/report_initdoc_actionable_tail_digest_heartbeat.py` (append JSONL dedupe) + `scripts/report_initdoc_actionable_tail_digest_heartbeat_window.py` (resumen `last N` con checks estrictos), integra `initdoc_actionable_tail.heartbeat_window` en `build_sources_status_payload`, extiende la card de `/explorer-sources` para mostrar trend (`failed/degraded/latest`) y amplía el job CI `initdoc-actionable-tail-contract` con fail/pass de heartbeat y window. Evidencia: `docs/etl/sprints/AI-OPS-66/evidence/initdoc_actionable_tail_digest_heartbeat_20260223T081121Z.json`, `docs/etl/sprints/AI-OPS-66/evidence/initdoc_actionable_tail_digest_heartbeat_window_20260223T081121Z.json`, `docs/etl/sprints/AI-OPS-66/evidence/explorer_sources_initdoc_tail_summary_20260223T081139Z.json`, `docs/etl/sprints/AI-OPS-66/evidence/ci_workflow_initdoc_tail_heartbeat_markers_20260223T081315Z.txt`.
- AI-OPS-67 añade retención acotada + paridad para esa tendencia con `scripts/report_initdoc_actionable_tail_digest_heartbeat_compaction.py` (compactación con preservación de incidentes) y `scripts/report_initdoc_actionable_tail_digest_heartbeat_compaction_window.py` (paridad `raw vs compacted` en `last N`), integra `initdoc_actionable_tail.heartbeat_compaction_window` en `build_sources_status_payload`, extiende la card de `/explorer-sources` con estado `compact`, y amplía el mismo job CI con fail/pass estrictos de compaction/compaction-window. Evidencia: `docs/etl/sprints/AI-OPS-67/evidence/initdoc_actionable_tail_digest_heartbeat_compaction_20260223T082401Z.json`, `docs/etl/sprints/AI-OPS-67/evidence/initdoc_actionable_tail_digest_heartbeat_compaction_window_20260223T082401Z.json`, `docs/etl/sprints/AI-OPS-67/evidence/explorer_sources_initdoc_tail_summary_20260223T082429Z.json`, `docs/etl/sprints/AI-OPS-67/evidence/ci_workflow_initdoc_tail_compaction_markers_20260223T082535Z.txt`.
- AI-OPS-68 añade digest compacto de paridad (`scripts/report_initdoc_actionable_tail_digest_heartbeat_compaction_window_digest.py`) para polling/alerting (`status`, `risk_level`, `risk_reasons`, `strict_fail_reasons`), integra `initdoc_actionable_tail.heartbeat_compaction_window_digest` en `build_sources_status_payload` y en la card de `/explorer-sources`, añade atajos `just parl-report/check-initdoc-actionable-tail-digest-heartbeat-compact-window-digest`, y extiende el job CI `initdoc-actionable-tail-contract` con fail/pass estrictos del nuevo digest. Evidencia: `docs/etl/sprints/AI-OPS-68/evidence/initdoc_actionable_tail_digest_heartbeat_compaction_window_digest_20260223T083524Z.json`, `docs/etl/sprints/AI-OPS-68/evidence/explorer_sources_initdoc_tail_compact_window_digest_summary_20260223T083535Z.json`, `docs/etl/sprints/AI-OPS-68/evidence/initdoc_tail_compact_window_digest_markers_20260223T083607Z.txt`.
- AI-OPS-69 añade la tendencia del digest compacto con `scripts/report_initdoc_actionable_tail_digest_heartbeat_compaction_window_digest_heartbeat.py` (append NDJSON dedupe) y `scripts/report_initdoc_actionable_tail_digest_heartbeat_compaction_window_digest_heartbeat_window.py` (resumen `last N` con checks estrictos), integra `initdoc_actionable_tail.heartbeat_compaction_window_digest_heartbeat_window` en `build_sources_status_payload`, extiende la card de `/explorer-sources` con estado `cd-trend`, y amplía el job CI `initdoc-actionable-tail-contract` con fail/pass estrictos de digest-heartbeat y digest-heartbeat-window. Evidencia: `docs/etl/sprints/AI-OPS-69/evidence/initdoc_actionable_tail_digest_heartbeat_compaction_window_digest_heartbeat_20260223T084436Z.json`, `docs/etl/sprints/AI-OPS-69/evidence/initdoc_actionable_tail_digest_heartbeat_compaction_window_digest_heartbeat_window_20260223T084436Z.json`, `docs/etl/sprints/AI-OPS-69/evidence/explorer_sources_initdoc_tail_compact_window_digest_heartbeat_summary_20260223T084446Z.json`, `docs/etl/sprints/AI-OPS-69/evidence/initdoc_tail_compact_window_digest_heartbeat_markers_20260223T084503Z.txt`.
- AI-OPS-70 añade hardening del lane `cd-trend` con `scripts/report_initdoc_actionable_tail_digest_heartbeat_compaction_window_digest_heartbeat_compaction.py` (retención/compaction preservando incidentes) y `scripts/report_initdoc_actionable_tail_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window.py` (paridad estricta `raw vs compacted` en `last N`), integra `initdoc_actionable_tail.heartbeat_compaction_window_digest_heartbeat_compaction_window` en `build_sources_status_payload`, extiende la card de `/explorer-sources` con estado `cd-compact`, y amplía el job CI `initdoc-actionable-tail-contract` con fail/pass estrictos para compaction + compaction-window. Se corrige además compatibilidad de ejecución directa (`python3 scripts/...`) en ambos wrappers mediante fallback de import. Evidencia: `docs/etl/sprints/AI-OPS-70/evidence/initdoc_actionable_tail_digest_heartbeat_compaction_window_digest_heartbeat_compaction_20260223T085546Z.json`, `docs/etl/sprints/AI-OPS-70/evidence/initdoc_actionable_tail_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_20260223T085546Z.json`, `docs/etl/sprints/AI-OPS-70/evidence/explorer_sources_initdoc_tail_compact_window_digest_heartbeat_compaction_summary_20260223T085546Z.json`, `docs/etl/sprints/AI-OPS-70/evidence/initdoc_tail_compact_window_digest_heartbeat_compaction_markers_20260223T085546Z.txt`.
- AI-OPS-71 añade digest compacto para ese lane `cd-compact` con `scripts/report_initdoc_actionable_tail_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest.py` (`status` + `risk_level` + `strict_fail_reasons`), integra `initdoc_actionable_tail.heartbeat_compaction_window_digest_heartbeat_compaction_window_digest` en `build_sources_status_payload`, extiende la card de `/explorer-sources` con estado `cd-digest`, y amplía el job CI `initdoc-actionable-tail-contract` con fail/pass estrictos del nuevo digest. Evidencia: `docs/etl/sprints/AI-OPS-71/evidence/initdoc_actionable_tail_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_20260223T090432Z.json`, `docs/etl/sprints/AI-OPS-71/evidence/explorer_sources_initdoc_tail_compact_window_digest_heartbeat_compaction_window_digest_summary_20260223T090432Z.json`, `docs/etl/sprints/AI-OPS-71/evidence/initdoc_tail_compact_window_digest_heartbeat_compaction_window_digest_markers_20260223T090432Z.txt`.
- AI-OPS-88 añade `scripts/report_citizen_release_trace_digest.js` para resumir el último release-hardening en una sola tarjeta JSON (`status=ok|degraded|failed`) con SLA de frescura (`--max-age-minutes`) y modos estrictos (`--strict`, `--strict-require-complete`); integra lanes `just citizen-test/report/check-release-trace-digest` en `citizen-release-regression-suite` y publica artefacto estable en `docs/etl/sprints/AI-OPS-88/evidence/citizen_release_trace_digest_latest.json`. Corrida de cierre: `status=ok`, `release_total_checks=30`, `release_total_fail=0`, `release_ready=true`, `parity_ok_assets=9/9`, `contract_complete=true`. Evidencia: `docs/etl/sprints/AI-OPS-88/evidence/just_citizen_test_release_trace_digest_20260223T125445Z.txt`, `docs/etl/sprints/AI-OPS-88/evidence/just_citizen_check_release_trace_digest_20260223T125445Z.txt`, `docs/etl/sprints/AI-OPS-88/evidence/just_citizen_release_regression_suite_20260223T125445Z.txt`, `docs/etl/sprints/AI-OPS-88/evidence/just_explorer_gh_pages_build_20260223T125445Z.txt`.
- AI-OPS-89 añade drilldown de coherencia v1 en `/citizen` con links auditables por partido+tema+preocupación (`party_id`, `topic_id`, `concern`, `view=coherence`, `bucket`, `source=citizen_coherence`) mediante `resolveConcernIdForTopic` + `buildCoherenceDrilldownLink` en `ui/citizen/index.html`; incorpora marcadores `data-coherence-drilldown-link` para contrato UI, test dedicado `tests/test_citizen_coherence_drilldown_ui_contract.js`, nuevo lane `just citizen-test-coherence-drilldown`, integración en `citizen-release-regression-suite`, y paridad publicada tras `explorer-gh-pages-build`. Evidencia: `docs/etl/sprints/AI-OPS-89/evidence/citizen_coherence_drilldown_markers_20260223T130321Z.txt`, `docs/etl/sprints/AI-OPS-89/evidence/just_citizen_test_coherence_drilldown_20260223T130321Z.txt`, `docs/etl/sprints/AI-OPS-89/evidence/just_citizen_release_regression_suite_20260223T130321Z.txt`, `docs/etl/sprints/AI-OPS-89/evidence/just_explorer_gh_pages_build_20260223T130321Z.txt`.
- AI-OPS-90 añade tendencia operativa para observabilidad móvil con `scripts/report_citizen_mobile_observability_heartbeat.py` (append JSONL dedupe desde el digest de observabilidad) y `scripts/report_citizen_mobile_observability_heartbeat_window.py` (resumen estricto `last N` con checks de `failed/degraded` y violaciones de umbral `p90`); incorpora tests dedicados (`tests/test_report_citizen_mobile_observability_heartbeat.py`, `tests/test_report_citizen_mobile_observability_heartbeat_window.py`), nuevos lanes `just citizen-test/report/check-mobile-observability-heartbeat*`, e integración en `citizen-release-regression-suite`. Corrida de cierre: `heartbeat_status=ok`, `window_status=ok`, `sample_count=30`, `input_to_render_p90_ms=423.0`, `p90_margin_ms=27.0`, `window_p90_threshold_violations_in_window=0`. Evidencia: `docs/etl/sprints/AI-OPS-90/evidence/citizen_mobile_observability_heartbeat_latest.json`, `docs/etl/sprints/AI-OPS-90/evidence/citizen_mobile_observability_heartbeat_window_latest.json`, `docs/etl/sprints/AI-OPS-90/evidence/just_citizen_check_mobile_observability_heartbeat_20260223T131406Z.txt`, `docs/etl/sprints/AI-OPS-90/evidence/just_citizen_check_mobile_observability_heartbeat_window_20260223T131406Z.txt`, `docs/etl/sprints/AI-OPS-90/evidence/just_citizen_release_regression_suite_20260223T131406Z.txt`.
- AI-OPS-91 extiende la capa Tailwind+MD3 a paridad v2: `scripts/build_citizen_tailwind_md3_css.py` añade primitivas `md3-tab` + `md3-button-primary`, `ui/citizen/index.html` normaliza controles/tarjetas dinámicas con `md3-card/md3-chip/md3-button/md3-tab`, y `scripts/report_citizen_tailwind_md3_contract.py` incorpora umbrales estrictos por conteo de marcadores (`min_md3_card/chip/button/tab_markers`) cableados en `justfile`. Corrida de cierre: `status=ok`, `md3_card_markers=10`, `md3_chip_markers=16`, `md3_button_markers=28`, `md3_tab_markers=9` (umbrales `6/8/20/6`). Evidencia: `docs/etl/sprints/AI-OPS-91/evidence/citizen_tailwind_md3_contract_latest.json`, `docs/etl/sprints/AI-OPS-91/evidence/citizen_tailwind_md3_contract_summary_20260223T132224Z.json`, `docs/etl/sprints/AI-OPS-91/evidence/citizen_tailwind_md3_parity_markers_20260223T132224Z.txt`, `docs/etl/sprints/AI-OPS-91/evidence/just_citizen_check_tailwind_md3_20260223T132224Z.txt`, `docs/etl/sprints/AI-OPS-91/evidence/just_citizen_release_regression_suite_20260223T132224Z.txt`.
- AI-OPS-92 añade `scripts/report_citizen_explainability_outcomes.py` (digest `ok|degraded|failed`) y telemetría local en `/citizen` para interacciones de glosario/copy (`explainability_glossary_opened`, `explainability_glossary_term_interacted`, `explainability_help_copy_interacted`) con APIs de export/debug (`__vclcExplainabilityOutcomeSummary/Export/Clear`); integra lanes `just citizen-test/report/check-explainability-outcomes` en `citizen-release-regression-suite` y mantiene build estático verde. Corrida de cierre: `status=ok`, `glossary_interaction_events_total=9`, `help_copy_interaction_events_total=5`, `adoption_sessions_total=6`, `complete_adoption_sessions_total=4`, `adoption_completeness_rate=0.666667`, `contract_complete=true`. Evidencia: `docs/etl/sprints/AI-OPS-92/evidence/citizen_explainability_outcomes_latest.json`, `docs/etl/sprints/AI-OPS-92/evidence/citizen_explainability_outcomes_summary_20260223T133324Z.json`, `docs/etl/sprints/AI-OPS-92/evidence/citizen_explainability_outcomes_markers_20260223T133324Z.txt`, `docs/etl/sprints/AI-OPS-92/evidence/just_citizen_check_explainability_outcomes_20260223T133324Z.txt`, `docs/etl/sprints/AI-OPS-92/evidence/just_citizen_release_regression_suite_20260223T133324Z.txt`, `docs/etl/sprints/AI-OPS-92/evidence/just_explorer_gh_pages_build_20260223T133324Z.txt`.
- AI-OPS-93 añade tendencia operativa para release-trace de `/citizen` con `scripts/report_citizen_release_trace_digest_heartbeat.py` (append JSONL dedupe desde el digest de release-trace) y `scripts/report_citizen_release_trace_digest_heartbeat_window.py` (resumen estricto `last N` con checks de `failed/degraded/stale` y guardas de frescura en el latest); incorpora tests dedicados (`tests/test_report_citizen_release_trace_digest_heartbeat.py`, `tests/test_report_citizen_release_trace_digest_heartbeat_window.py`), nuevos lanes `just citizen-test/report/check-release-trace-heartbeat*`, e integración en `citizen-release-regression-suite`. Corrida de cierre: `heartbeat_status=ok`, `window_status=ok`, `entries_in_window=1`, `failed_in_window=0`, `degraded_in_window=0`, `stale_in_window=0`, `latest_freshness_within_sla=true`. Evidencia: `docs/etl/sprints/AI-OPS-93/evidence/citizen_release_trace_digest_heartbeat_latest.json`, `docs/etl/sprints/AI-OPS-93/evidence/citizen_release_trace_digest_heartbeat_window_latest.json`, `docs/etl/sprints/AI-OPS-93/evidence/just_citizen_check_release_trace_heartbeat_20260223T134242Z.txt`, `docs/etl/sprints/AI-OPS-93/evidence/just_citizen_check_release_trace_heartbeat_window_20260223T134242Z.txt`, `docs/etl/sprints/AI-OPS-93/evidence/just_citizen_release_regression_suite_20260223T134242Z.txt`, `docs/etl/sprints/AI-OPS-93/evidence/just_explorer_gh_pages_build_20260223T134242Z.txt`.
- AI-OPS-94 cierra la paridad backend/UI del drilldown de coherencia: `scripts/graph_ui_server.py` acepta `party_id` en `/api/topics/coherence` y `/api/topics/coherence/evidence`, y expone `party_id/party_name` en filas de evidencia; `ui/graph/explorer-temas.html` alinea contrato URL con `/citizen` (`party_id`, `bucket`, `view=coherence`, `source=citizen_coherence`) y abre automáticamente el drilldown de coherencia desde intent URL sin clicks manuales. Se añaden pruebas dedicadas de backend y contrato URL (`tests/test_graph_ui_server_coherence.py`, `tests/test_explorer_temas_coherence_drilldown_url_contract.js`) y el lane `just citizen-test-coherence-drilldown` ahora ejecuta ambos además del contrato citizen. Corrida de cierre: lane coherence PASS (`node pass=5 fail=0` + `python Ran 4 tests OK`), `just citizen-release-regression-suite` PASS, `just explorer-gh-pages-build` PASS. Evidencia: `docs/etl/sprints/AI-OPS-94/evidence/just_citizen_test_coherence_drilldown_20260223T135524Z.txt`, `docs/etl/sprints/AI-OPS-94/evidence/python_unittest_graph_ui_server_coherence_20260223T135524Z.txt`, `docs/etl/sprints/AI-OPS-94/evidence/node_test_explorer_temas_coherence_drilldown_url_contract_20260223T135524Z.txt`, `docs/etl/sprints/AI-OPS-94/evidence/explorer_temas_coherence_url_markers_20260223T135524Z.txt`, `docs/etl/sprints/AI-OPS-94/evidence/just_citizen_release_regression_suite_20260223T135524Z.txt`, `docs/etl/sprints/AI-OPS-94/evidence/just_explorer_gh_pages_build_20260223T135524Z.txt`.
- AI-OPS-95 añade hardening de retención en observabilidad móvil: `scripts/report_citizen_mobile_observability_heartbeat_compaction.py` preserva incidentes incluyendo violaciones `p90`, y `scripts/report_citizen_mobile_observability_heartbeat_compaction_window.py` valida paridad estricta `raw vs compacted` en `last N` (latest + incidentes `failed/degraded/strict/malformed/p90`). Se añaden pruebas dedicadas (`tests/test_report_citizen_mobile_observability_heartbeat_compaction.py`, `tests/test_report_citizen_mobile_observability_heartbeat_compaction_window.py`), nuevos lanes `just citizen-report/check-mobile-observability-heartbeat-compact*`, y `just citizen-test-mobile-observability-heartbeat` entra en `citizen-release-regression-suite`. Corrida de cierre: `just citizen-check-mobile-observability-heartbeat-compact` PASS, `just citizen-check-mobile-observability-heartbeat-compact-window` PASS, `just citizen-release-regression-suite` PASS, `just explorer-gh-pages-build` PASS. Evidencia: `docs/etl/sprints/AI-OPS-95/evidence/citizen_mobile_observability_heartbeat_compaction_20260223T140552Z.json`, `docs/etl/sprints/AI-OPS-95/evidence/citizen_mobile_observability_heartbeat_compaction_window_20260223T140552Z.json`, `docs/etl/sprints/AI-OPS-95/evidence/just_citizen_test_mobile_observability_heartbeat_20260223T140552Z.txt`, `docs/etl/sprints/AI-OPS-95/evidence/just_citizen_check_mobile_observability_heartbeat_compact_20260223T140552Z.txt`, `docs/etl/sprints/AI-OPS-95/evidence/just_citizen_check_mobile_observability_heartbeat_compact_window_20260223T140552Z.txt`, `docs/etl/sprints/AI-OPS-95/evidence/just_citizen_release_regression_suite_20260223T140552Z.txt`, `docs/etl/sprints/AI-OPS-95/evidence/just_explorer_gh_pages_build_20260223T140552Z.txt`.
- AI-OPS-96 añade digest de drift visual para Tailwind+MD3: `scripts/report_citizen_tailwind_md3_visual_drift_digest.py` valida en JSON machine-readable la paridad estricta `source vs published` de `tokens`, `data tokens`, `generated css` y `ui html`, y además exige paridad de snapshots de marcadores (`md3-card/chip/button/tab`) entre `source`, `published` y el contrato de Tailwind. Se añaden pruebas dedicadas (`tests/test_report_citizen_tailwind_md3_visual_drift_digest.py`), nuevos lanes `just citizen-report/check-tailwind-md3-drift-digest`, y `just citizen-test-tailwind-md3` incluye el nuevo test Python. Corrida de cierre: `just citizen-test-tailwind-md3` PASS, `just citizen-check-tailwind-md3-drift-digest` PASS, `just citizen-release-regression-suite` PASS, `just explorer-gh-pages-build` PASS. Evidencia: `docs/etl/sprints/AI-OPS-96/evidence/citizen_tailwind_md3_contract_latest.json`, `docs/etl/sprints/AI-OPS-96/evidence/citizen_tailwind_md3_visual_drift_digest_latest.json`, `docs/etl/sprints/AI-OPS-96/evidence/just_citizen_test_tailwind_md3_20260223T141344Z.txt`, `docs/etl/sprints/AI-OPS-96/evidence/just_citizen_check_tailwind_md3_drift_digest_20260223T141344Z.txt`, `docs/etl/sprints/AI-OPS-96/evidence/just_citizen_release_regression_suite_20260223T141344Z.txt`, `docs/etl/sprints/AI-OPS-96/evidence/just_explorer_gh_pages_build_20260223T141344Z.txt`.
- AI-OPS-97 añade tendencia de outcomes de explicabilidad: `scripts/report_citizen_explainability_outcomes_heartbeat.py` genera un heartbeat append-only y deduplicado desde el digest de explicabilidad, mientras `scripts/report_citizen_explainability_outcomes_heartbeat_window.py` aplica checks estrictos en `last N` para `failed/degraded/contract_incomplete` y para `latest_contract_complete_ok`. Se añaden pruebas dedicadas (`tests/test_report_citizen_explainability_outcomes_heartbeat.py`, `tests/test_report_citizen_explainability_outcomes_heartbeat_window.py`), nuevos lanes `just citizen-test/report/check-explainability-outcomes-heartbeat*`, y el lane de test se integra en `citizen-release-regression-suite`. Corrida de cierre: `just citizen-test-explainability-outcomes-heartbeat` PASS, `just citizen-check-explainability-outcomes-heartbeat` PASS, `just citizen-check-explainability-outcomes-heartbeat-window` PASS, `just citizen-release-regression-suite` PASS, `just explorer-gh-pages-build` PASS. Evidencia: `docs/etl/sprints/AI-OPS-97/evidence/citizen_explainability_outcomes_heartbeat_20260223T142226Z.json`, `docs/etl/sprints/AI-OPS-97/evidence/citizen_explainability_outcomes_heartbeat_window_20260223T142226Z.json`, `docs/etl/sprints/AI-OPS-97/evidence/just_citizen_test_explainability_outcomes_heartbeat_20260223T142226Z.txt`, `docs/etl/sprints/AI-OPS-97/evidence/just_citizen_check_explainability_outcomes_heartbeat_20260223T142226Z.txt`, `docs/etl/sprints/AI-OPS-97/evidence/just_citizen_check_explainability_outcomes_heartbeat_window_20260223T142226Z.txt`, `docs/etl/sprints/AI-OPS-97/evidence/just_citizen_release_regression_suite_20260223T142226Z.txt`, `docs/etl/sprints/AI-OPS-97/evidence/just_explorer_gh_pages_build_20260223T142226Z.txt`.
- AI-OPS-98 añade tendencia operativa de KPI de producto ciudadano: `scripts/report_citizen_product_kpis_heartbeat.py` genera heartbeat append-only deduplicado desde `report_citizen_product_kpis.py`, y `scripts/report_citizen_product_kpis_heartbeat_window.py` valida estrictamente `last N` sobre `failed/degraded/contract_incomplete` y sobre violaciones de umbral de `unknown_rate`, `time_to_first_answer_seconds` y `drilldown_click_rate`, incluyendo guardas del latest (`latest_contract_complete_ok`, `latest_thresholds_ok`). Se añaden fixture y pruebas dedicadas (`tests/fixtures/citizen_product_kpi_events_sample.jsonl`, `tests/test_report_citizen_product_kpis_heartbeat.py`, `tests/test_report_citizen_product_kpis_heartbeat_window.py`), nuevos lanes `just citizen-test/report/check-product-kpis-heartbeat*`, y el lane de tests entra en `citizen-release-regression-suite`. Corrida de cierre: `just citizen-test-product-kpis-heartbeat` PASS, `just citizen-check-product-kpis-heartbeat` PASS, `just citizen-check-product-kpis-heartbeat-window` PASS, `just citizen-release-regression-suite` PASS, `just explorer-gh-pages-build` PASS. Evidencia: `docs/etl/sprints/AI-OPS-98/evidence/citizen_product_kpis_20260223T143048Z.json`, `docs/etl/sprints/AI-OPS-98/evidence/citizen_product_kpis_heartbeat_20260223T143048Z.json`, `docs/etl/sprints/AI-OPS-98/evidence/citizen_product_kpis_heartbeat_window_20260223T143048Z.json`, `docs/etl/sprints/AI-OPS-98/evidence/just_citizen_test_product_kpis_heartbeat_20260223T143048Z.txt`, `docs/etl/sprints/AI-OPS-98/evidence/just_citizen_check_product_kpis_heartbeat_20260223T143048Z.txt`, `docs/etl/sprints/AI-OPS-98/evidence/just_citizen_check_product_kpis_heartbeat_window_20260223T143048Z.txt`, `docs/etl/sprints/AI-OPS-98/evidence/just_citizen_release_regression_suite_20260223T143048Z.txt`, `docs/etl/sprints/AI-OPS-98/evidence/just_explorer_gh_pages_build_20260223T143048Z.txt`.
- AI-OPS-99 añade observabilidad de drilldown de coherencia: `scripts/report_citizen_coherence_drilldown_outcomes.py` genera digest machine-readable (`ok|degraded|failed`) para salud de enlaces `/citizen -> /explorer-temas` (clicks, replay success/failure y contract-complete click-rate), `scripts/report_citizen_coherence_drilldown_outcomes_heartbeat.py` añade heartbeat append-only deduplicado, y `scripts/report_citizen_coherence_drilldown_outcomes_heartbeat_window.py` aplica checks estrictos `last N` para `failed/degraded/contract_incomplete` y violaciones de umbral de replay/contrato. Se añaden fixture/tests dedicados (`tests/fixtures/citizen_coherence_drilldown_events_sample.jsonl`, `tests/test_report_citizen_coherence_drilldown_outcomes.py`, `tests/test_report_citizen_coherence_drilldown_outcomes_heartbeat.py`, `tests/test_report_citizen_coherence_drilldown_outcomes_heartbeat_window.py`), nuevos lanes `just citizen-test/report/check-coherence-drilldown-outcomes*`, e integración en `citizen-release-regression-suite`. Corrida de cierre: `just citizen-test-coherence-drilldown-outcomes` PASS, `just citizen-check-coherence-drilldown-outcomes` PASS, `just citizen-check-coherence-drilldown-outcomes-heartbeat` PASS, `just citizen-check-coherence-drilldown-outcomes-heartbeat-window` PASS, `just citizen-release-regression-suite` PASS, `just explorer-gh-pages-build` PASS. Evidencia: `docs/etl/sprints/AI-OPS-99/evidence/citizen_coherence_drilldown_outcomes_20260223T144400Z.json`, `docs/etl/sprints/AI-OPS-99/evidence/citizen_coherence_drilldown_outcomes_heartbeat_20260223T144400Z.json`, `docs/etl/sprints/AI-OPS-99/evidence/citizen_coherence_drilldown_outcomes_heartbeat_window_20260223T144400Z.json`, `docs/etl/sprints/AI-OPS-99/evidence/just_citizen_test_coherence_drilldown_outcomes_20260223T144400Z.txt`, `docs/etl/sprints/AI-OPS-99/evidence/just_citizen_check_coherence_drilldown_outcomes_20260223T144400Z.txt`, `docs/etl/sprints/AI-OPS-99/evidence/just_citizen_check_coherence_drilldown_outcomes_heartbeat_20260223T144400Z.txt`, `docs/etl/sprints/AI-OPS-99/evidence/just_citizen_check_coherence_drilldown_outcomes_heartbeat_window_20260223T144400Z.txt`, `docs/etl/sprints/AI-OPS-99/evidence/just_citizen_release_regression_suite_20260223T144400Z.txt`, `docs/etl/sprints/AI-OPS-99/evidence/just_explorer_gh_pages_build_20260223T144400Z.txt`.
- AI-OPS-100 añade tendencia operativa para outcomes de concern-pack: `scripts/report_citizen_concern_pack_outcomes_heartbeat.py` genera heartbeat append-only deduplicado desde el digest de outcomes de packs, y `scripts/report_citizen_concern_pack_outcomes_heartbeat_window.py` valida estrictamente `last N` sobre `failed/degraded/contract_incomplete` y sobre violaciones de umbral de `weak_pack_followthrough_rate` y `unknown_pack_select_share`, incluyendo guardas del latest (`latest_contract_complete_ok`, `latest_thresholds_ok`). Se añaden tests dedicados (`tests/test_report_citizen_concern_pack_outcomes_heartbeat.py`, `tests/test_report_citizen_concern_pack_outcomes_heartbeat_window.py`), nuevos lanes `just citizen-test/report/check-concern-pack-outcomes-heartbeat*`, y el lane de tests entra en `citizen-release-regression-suite`. Corrida de cierre: `just citizen-test-concern-pack-outcomes-heartbeat` PASS, `just citizen-check-concern-pack-outcomes-heartbeat` PASS, `just citizen-check-concern-pack-outcomes-heartbeat-window` PASS, `just citizen-release-regression-suite` PASS, `just explorer-gh-pages-build` PASS. Evidencia: `docs/etl/sprints/AI-OPS-100/evidence/citizen_concern_pack_outcomes_heartbeat_20260223T145733Z.json`, `docs/etl/sprints/AI-OPS-100/evidence/citizen_concern_pack_outcomes_heartbeat_window_20260223T145733Z.json`, `docs/etl/sprints/AI-OPS-100/evidence/just_citizen_test_concern_pack_outcomes_heartbeat_20260223T145733Z.txt`, `docs/etl/sprints/AI-OPS-100/evidence/just_citizen_check_concern_pack_outcomes_heartbeat_20260223T145733Z.txt`, `docs/etl/sprints/AI-OPS-100/evidence/just_citizen_check_concern_pack_outcomes_heartbeat_window_20260223T145733Z.txt`, `docs/etl/sprints/AI-OPS-100/evidence/just_citizen_release_regression_suite_20260223T145733Z.txt`, `docs/etl/sprints/AI-OPS-100/evidence/just_explorer_gh_pages_build_20260223T145733Z.txt`.
- AI-OPS-101 añade tendencia operativa para outcomes de trust-action nudges: `scripts/report_citizen_trust_action_nudges_heartbeat.py` genera heartbeat append-only deduplicado desde el digest de nudges, y `scripts/report_citizen_trust_action_nudges_heartbeat_window.py` valida estrictamente `last N` sobre `failed/degraded/contract_incomplete` y sobre violaciones de umbral de `nudge_clickthrough_meets_minimum`, incluyendo guardas del latest (`latest_contract_complete_ok`, `latest_thresholds_ok`). Se añaden tests dedicados (`tests/test_report_citizen_trust_action_nudges_heartbeat.py`, `tests/test_report_citizen_trust_action_nudges_heartbeat_window.py`), nuevos lanes `just citizen-test/report/check-trust-action-nudges-heartbeat*`, y el lane de tests entra en `citizen-release-regression-suite`. Corrida de cierre: `just citizen-test-trust-action-nudges-heartbeat` PASS, `just citizen-check-trust-action-nudges-heartbeat` PASS, `just citizen-check-trust-action-nudges-heartbeat-window` PASS, `just citizen-release-regression-suite` PASS, `just explorer-gh-pages-build` PASS. Evidencia: `docs/etl/sprints/AI-OPS-101/evidence/citizen_trust_action_nudges_heartbeat_20260223T150803Z.json`, `docs/etl/sprints/AI-OPS-101/evidence/citizen_trust_action_nudges_heartbeat_window_20260223T150803Z.json`, `docs/etl/sprints/AI-OPS-101/evidence/just_citizen_test_trust_action_nudges_heartbeat_20260223T150803Z.txt`, `docs/etl/sprints/AI-OPS-101/evidence/just_citizen_check_trust_action_nudges_heartbeat_20260223T150803Z.txt`, `docs/etl/sprints/AI-OPS-101/evidence/just_citizen_check_trust_action_nudges_heartbeat_window_20260223T150803Z.txt`, `docs/etl/sprints/AI-OPS-101/evidence/just_citizen_release_regression_suite_20260223T150803Z.txt`, `docs/etl/sprints/AI-OPS-101/evidence/just_explorer_gh_pages_build_20260223T150803Z.txt`.
- AI-OPS-102 añade retención operativa para release-trace freshness con `scripts/report_citizen_release_trace_digest_heartbeat_compaction.py` (compactación de heartbeat con preservación estricta de incidentes `failed/degraded/strict/stale/malformed`) y `scripts/report_citizen_release_trace_digest_heartbeat_compaction_window.py` (paridad estricta `raw vs compacted` en `last N`), con nuevos lanes `just citizen-report/check-release-trace-heartbeat-compact*`. Se añaden tests dedicados (`tests/test_report_citizen_release_trace_digest_heartbeat_compaction.py`, `tests/test_report_citizen_release_trace_digest_heartbeat_compaction_window.py`) y `just citizen-test-release-trace-heartbeat` los integra para que `citizen-release-regression-suite` cubra la retención. Corrida de cierre: `just citizen-test-release-trace-heartbeat` PASS, `just citizen-check-release-trace-heartbeat` PASS, `just citizen-check-release-trace-heartbeat-window` PASS, `just citizen-check-release-trace-heartbeat-compact` PASS, `just citizen-check-release-trace-heartbeat-compact-window` PASS, `just citizen-release-regression-suite` PASS, `just explorer-gh-pages-build` PASS. Evidencia: `docs/etl/sprints/AI-OPS-102/evidence/citizen_release_trace_digest_heartbeat_compaction_20260223T151731Z.json`, `docs/etl/sprints/AI-OPS-102/evidence/citizen_release_trace_digest_heartbeat_compaction_window_20260223T151731Z.json`, `docs/etl/sprints/AI-OPS-102/evidence/citizen_release_trace_digest_heartbeat_20260223T151731Z.json`, `docs/etl/sprints/AI-OPS-102/evidence/citizen_release_trace_digest_heartbeat_window_20260223T151731Z.json`, `docs/etl/sprints/AI-OPS-102/evidence/just_citizen_test_release_trace_heartbeat_20260223T151731Z.txt`, `docs/etl/sprints/AI-OPS-102/evidence/just_citizen_check_release_trace_heartbeat_20260223T151731Z.txt`, `docs/etl/sprints/AI-OPS-102/evidence/just_citizen_check_release_trace_heartbeat_window_20260223T151731Z.txt`, `docs/etl/sprints/AI-OPS-102/evidence/just_citizen_check_release_trace_heartbeat_compact_20260223T151731Z.txt`, `docs/etl/sprints/AI-OPS-102/evidence/just_citizen_check_release_trace_heartbeat_compact_window_20260223T151731Z.txt`, `docs/etl/sprints/AI-OPS-102/evidence/just_citizen_release_regression_suite_20260223T151731Z.txt`, `docs/etl/sprints/AI-OPS-102/evidence/just_explorer_gh_pages_build_20260223T151731Z.txt`.
- AI-OPS-103 añade tendencia operativa de drift visual Tailwind+MD3: `scripts/report_citizen_tailwind_md3_visual_drift_digest_heartbeat.py` genera heartbeat append-only deduplicado desde `report_citizen_tailwind_md3_visual_drift_digest.py`, y `scripts/report_citizen_tailwind_md3_visual_drift_digest_heartbeat_window.py` valida estrictamente `last N` sobre `failed/degraded` y mismatches de paridad `source/published` (`tokens`, `tokens_data`, `css`, `ui_html`, markers), incluyendo guardas del latest (`latest_source_published_parity_ok`, `latest_marker_parity_ok`). Se añaden tests dedicados (`tests/test_report_citizen_tailwind_md3_visual_drift_digest_heartbeat.py`, `tests/test_report_citizen_tailwind_md3_visual_drift_digest_heartbeat_window.py`), nuevos lanes `just citizen-report/check-tailwind-md3-drift-heartbeat*`, y `just citizen-test-tailwind-md3` integra estos tests para que `citizen-release-regression-suite` cubra el lane de drift. Corrida de cierre: `just citizen-test-tailwind-md3` PASS, `just citizen-check-tailwind-md3-drift-digest` PASS, `just citizen-check-tailwind-md3-drift-heartbeat` PASS, `just citizen-check-tailwind-md3-drift-heartbeat-window` PASS, `just citizen-release-regression-suite` PASS, `just explorer-gh-pages-build` PASS. Evidencia: `docs/etl/sprints/AI-OPS-103/evidence/citizen_tailwind_md3_visual_drift_digest_source_20260223T152916Z.json`, `docs/etl/sprints/AI-OPS-103/evidence/citizen_tailwind_md3_visual_drift_digest_heartbeat_20260223T152916Z.json`, `docs/etl/sprints/AI-OPS-103/evidence/citizen_tailwind_md3_visual_drift_digest_heartbeat_window_20260223T152916Z.json`, `docs/etl/sprints/AI-OPS-103/evidence/just_citizen_test_tailwind_md3_20260223T152916Z.txt`, `docs/etl/sprints/AI-OPS-103/evidence/just_citizen_check_tailwind_md3_drift_digest_20260223T152916Z.txt`, `docs/etl/sprints/AI-OPS-103/evidence/just_citizen_check_tailwind_md3_drift_heartbeat_20260223T152916Z.txt`, `docs/etl/sprints/AI-OPS-103/evidence/just_citizen_check_tailwind_md3_drift_heartbeat_window_20260223T152916Z.txt`, `docs/etl/sprints/AI-OPS-103/evidence/just_citizen_release_regression_suite_20260223T152916Z.txt`, `docs/etl/sprints/AI-OPS-103/evidence/just_explorer_gh_pages_build_20260223T152916Z.txt`.
- AI-OPS-104 añade retención operativa para observabilidad de coherencia drilldown con `scripts/report_citizen_coherence_drilldown_outcomes_heartbeat_compaction.py` (compactación de heartbeat preservando incidentes `failed/degraded/strict/malformed/contract_incomplete` y violaciones de umbrales de replay/contrato) y `scripts/report_citizen_coherence_drilldown_outcomes_heartbeat_compaction_window.py` (paridad estricta `raw vs compacted` en `last N`, incluyendo presencia de latest y paridad por clase de incidente). Se añaden pruebas dedicadas (`tests/test_report_citizen_coherence_drilldown_outcomes_heartbeat_compaction.py`, `tests/test_report_citizen_coherence_drilldown_outcomes_heartbeat_compaction_window.py`), nuevos lanes `just citizen-report/check-coherence-drilldown-outcomes-heartbeat-compact*`, y `just citizen-test-coherence-drilldown-outcomes` integra estos tests para cubrir la retención en el lane de coherencia. Corrida de cierre: `just citizen-test-coherence-drilldown-outcomes` PASS, `just citizen-check-coherence-drilldown-outcomes` PASS, `just citizen-check-coherence-drilldown-outcomes-heartbeat` PASS, `just citizen-check-coherence-drilldown-outcomes-heartbeat-window` PASS, `just citizen-check-coherence-drilldown-outcomes-heartbeat-compact` PASS, `just citizen-check-coherence-drilldown-outcomes-heartbeat-compact-window` PASS. Evidencia: `docs/etl/sprints/AI-OPS-104/evidence/citizen_coherence_drilldown_outcomes_20260223T154042Z.json`, `docs/etl/sprints/AI-OPS-104/evidence/citizen_coherence_drilldown_outcomes_heartbeat_20260223T154042Z.json`, `docs/etl/sprints/AI-OPS-104/evidence/citizen_coherence_drilldown_outcomes_heartbeat_window_20260223T154042Z.json`, `docs/etl/sprints/AI-OPS-104/evidence/citizen_coherence_drilldown_outcomes_heartbeat_compaction_20260223T154042Z.json`, `docs/etl/sprints/AI-OPS-104/evidence/citizen_coherence_drilldown_outcomes_heartbeat_compaction_window_20260223T154042Z.json`, `docs/etl/sprints/AI-OPS-104/evidence/just_citizen_test_coherence_drilldown_outcomes_20260223T154042Z.txt`, `docs/etl/sprints/AI-OPS-104/evidence/just_citizen_check_coherence_drilldown_outcomes_20260223T154042Z.txt`, `docs/etl/sprints/AI-OPS-104/evidence/just_citizen_check_coherence_drilldown_outcomes_heartbeat_20260223T154042Z.txt`, `docs/etl/sprints/AI-OPS-104/evidence/just_citizen_check_coherence_drilldown_outcomes_heartbeat_window_20260223T154042Z.txt`, `docs/etl/sprints/AI-OPS-104/evidence/just_citizen_check_coherence_drilldown_outcomes_heartbeat_compact_20260223T154042Z.txt`, `docs/etl/sprints/AI-OPS-104/evidence/just_citizen_check_coherence_drilldown_outcomes_heartbeat_compact_window_20260223T154042Z.txt`.
- AI-OPS-105 añade retención operativa para outcomes de concern-pack con `scripts/report_citizen_concern_pack_outcomes_heartbeat_compaction.py` (compactación de heartbeat preservando incidentes `failed/degraded/strict/malformed/contract_incomplete` y violaciones de `weak_pack_followthrough`/`unknown_pack_select_share`) y `scripts/report_citizen_concern_pack_outcomes_heartbeat_compaction_window.py` (paridad estricta `raw vs compacted` en `last N`, incluyendo latest e incidentes). Se añaden pruebas dedicadas (`tests/test_report_citizen_concern_pack_outcomes_heartbeat_compaction.py`, `tests/test_report_citizen_concern_pack_outcomes_heartbeat_compaction_window.py`), nuevos lanes `just citizen-report/check-concern-pack-outcomes-heartbeat-compact*`, y `just citizen-test-concern-pack-outcomes-heartbeat` integra estos tests. Corrida de cierre: `just citizen-test-concern-pack-outcomes-heartbeat` PASS, `just citizen-check-concern-pack-outcomes` PASS, `just citizen-check-concern-pack-outcomes-heartbeat` PASS, `just citizen-check-concern-pack-outcomes-heartbeat-window` PASS, `just citizen-check-concern-pack-outcomes-heartbeat-compact` PASS, `just citizen-check-concern-pack-outcomes-heartbeat-compact-window` PASS. Evidencia: `docs/etl/sprints/AI-OPS-105/evidence/citizen_concern_pack_outcomes_20260223T154953Z.json`, `docs/etl/sprints/AI-OPS-105/evidence/citizen_concern_pack_outcomes_heartbeat_20260223T154953Z.json`, `docs/etl/sprints/AI-OPS-105/evidence/citizen_concern_pack_outcomes_heartbeat_window_20260223T154953Z.json`, `docs/etl/sprints/AI-OPS-105/evidence/citizen_concern_pack_outcomes_heartbeat_compaction_20260223T154953Z.json`, `docs/etl/sprints/AI-OPS-105/evidence/citizen_concern_pack_outcomes_heartbeat_compaction_window_20260223T154953Z.json`, `docs/etl/sprints/AI-OPS-105/evidence/just_citizen_test_concern_pack_outcomes_heartbeat_20260223T154953Z.txt`, `docs/etl/sprints/AI-OPS-105/evidence/just_citizen_check_concern_pack_outcomes_20260223T154953Z.txt`, `docs/etl/sprints/AI-OPS-105/evidence/just_citizen_check_concern_pack_outcomes_heartbeat_20260223T154953Z.txt`, `docs/etl/sprints/AI-OPS-105/evidence/just_citizen_check_concern_pack_outcomes_heartbeat_window_20260223T154953Z.txt`, `docs/etl/sprints/AI-OPS-105/evidence/just_citizen_check_concern_pack_outcomes_heartbeat_compact_20260223T154953Z.txt`, `docs/etl/sprints/AI-OPS-105/evidence/just_citizen_check_concern_pack_outcomes_heartbeat_compact_window_20260223T154953Z.txt`.
- AI-OPS-106 añade retención operativa para outcomes de trust-action nudges con `scripts/report_citizen_trust_action_nudges_heartbeat_compaction.py` (compactación de heartbeat preservando incidentes `failed/degraded/strict/malformed/contract_incomplete` y violaciones de `nudge_clickthrough`) y `scripts/report_citizen_trust_action_nudges_heartbeat_compaction_window.py` (paridad estricta `raw vs compacted` en `last N`, incluyendo latest e incidentes). Se añaden pruebas dedicadas (`tests/test_report_citizen_trust_action_nudges_heartbeat_compaction.py`, `tests/test_report_citizen_trust_action_nudges_heartbeat_compaction_window.py`), nuevos lanes `just citizen-report/check-trust-action-nudges-heartbeat-compact*`, y `just citizen-test-trust-action-nudges-heartbeat` integra estos tests. Corrida de cierre: `just citizen-test-trust-action-nudges-heartbeat` PASS, `just citizen-check-trust-action-nudges` PASS, `just citizen-check-trust-action-nudges-heartbeat` PASS, `just citizen-check-trust-action-nudges-heartbeat-window` PASS, `just citizen-check-trust-action-nudges-heartbeat-compact` PASS, `just citizen-check-trust-action-nudges-heartbeat-compact-window` PASS. Evidencia: `docs/etl/sprints/AI-OPS-106/evidence/citizen_trust_action_nudges_20260223T155645Z.json`, `docs/etl/sprints/AI-OPS-106/evidence/citizen_trust_action_nudges_heartbeat_20260223T155645Z.json`, `docs/etl/sprints/AI-OPS-106/evidence/citizen_trust_action_nudges_heartbeat_window_20260223T155645Z.json`, `docs/etl/sprints/AI-OPS-106/evidence/citizen_trust_action_nudges_heartbeat_compaction_20260223T155645Z.json`, `docs/etl/sprints/AI-OPS-106/evidence/citizen_trust_action_nudges_heartbeat_compaction_window_20260223T155645Z.json`, `docs/etl/sprints/AI-OPS-106/evidence/just_citizen_test_trust_action_nudges_heartbeat_20260223T155645Z.txt`, `docs/etl/sprints/AI-OPS-106/evidence/just_citizen_check_trust_action_nudges_20260223T155645Z.txt`, `docs/etl/sprints/AI-OPS-106/evidence/just_citizen_check_trust_action_nudges_heartbeat_20260223T155645Z.txt`, `docs/etl/sprints/AI-OPS-106/evidence/just_citizen_check_trust_action_nudges_heartbeat_window_20260223T155645Z.txt`, `docs/etl/sprints/AI-OPS-106/evidence/just_citizen_check_trust_action_nudges_heartbeat_compact_20260223T155645Z.txt`, `docs/etl/sprints/AI-OPS-106/evidence/just_citizen_check_trust_action_nudges_heartbeat_compact_window_20260223T155645Z.txt`.
- AI-OPS-109 refuerza el valor ciudadano directo en `/citizen`: se añade un bloque `Decision provisional` en vista `alignment` con `top match`, `2o`, `mas distante`, `match/mismatch/unknown`, `cobertura` y acciones inmediatas (`foco top match`, `compartir comparacion`, auditoria de mismatch/match). Para reducir friccion, en modo consumidor marcar postura en el tema activo ahora cambia automaticamente a `alignment` y muestra resultado sin pasos extra. Superficie afectada: `ui/citizen/index.html` + `docs/gh-pages/citizen/index.html`. Corrida de cierre: `just citizen-test-accessibility-readability` PASS, `just citizen-test-tailwind-md3` PASS, `python3 -m unittest tests/test_graph_ui_server_citizen_routes.py tests/test_graph_ui_server_citizen_assets.py` PASS. Evidencia: `docs/etl/sprints/AI-OPS-109/reports/citizen-consumer-decision-brief-20260223.md`, `docs/etl/sprints/AI-OPS-109/evidence/just_citizen_test_accessibility_readability_20260223T170731Z.txt`, `docs/etl/sprints/AI-OPS-109/evidence/just_citizen_test_tailwind_md3_20260223T170731Z.txt`, `docs/etl/sprints/AI-OPS-109/evidence/python_unittest_graph_ui_citizen_20260223T170731Z.txt`.
- AI-OPS-110 profundiza la capa de decision ciudadana en `alignment`: cada tarjeta de partido ahora incluye una explicacion en lenguaje llano (alineacion alta/moderada/empate/desalineacion/senal limitada) derivada de `match/mismatch/unknown` y cobertura; el bloque `Decision provisional` agrega shortlist top-3 (`net` + `coverage`) y accion `Copiar resumen` para exportar un texto corto reutilizable con link compartible. Superficie afectada: `ui/citizen/index.html` + `docs/gh-pages/citizen/index.html`. Corrida de cierre: `just citizen-test-accessibility-readability` PASS, `just citizen-test-tailwind-md3` PASS, `python3 -m unittest tests/test_graph_ui_server_citizen_routes.py tests/test_graph_ui_server_citizen_assets.py` PASS. Evidencia: `docs/etl/sprints/AI-OPS-110/reports/citizen-consumer-alignment-explainability-20260223.md`, `docs/etl/sprints/AI-OPS-110/evidence/just_citizen_test_accessibility_readability_20260223T171050Z.txt`, `docs/etl/sprints/AI-OPS-110/evidence/just_citizen_test_tailwind_md3_20260223T171050Z.txt`, `docs/etl/sprints/AI-OPS-110/evidence/python_unittest_graph_ui_citizen_20260223T171050Z.txt`.
- AI-OPS-111 añade diagnostico de mismatch en foco de partido (`alignment`): nuevo panel con conteos `match/mismatch/unknown`, top-3 razones de desajuste (tema + `tu postura vs partido`) y enlace `Auditar` por item para abrir evidencia sin navegar toda la lista. Incluye accion `Copiar diagnostico` para exportar un resumen corto reutilizable con link compartible del preset actual. Superficie afectada: `ui/citizen/index.html` + `docs/gh-pages/citizen/index.html`. Corrida de cierre: `just citizen-test-accessibility-readability` PASS, `just citizen-test-tailwind-md3` PASS, `python3 -m unittest tests/test_graph_ui_server_citizen_routes.py tests/test_graph_ui_server_citizen_assets.py` PASS. Evidencia: `docs/etl/sprints/AI-OPS-111/reports/citizen-consumer-mismatch-diagnostics-20260223.md`, `docs/etl/sprints/AI-OPS-111/evidence/just_citizen_test_accessibility_readability_20260223T171255Z.txt`, `docs/etl/sprints/AI-OPS-111/evidence/just_citizen_test_tailwind_md3_20260223T171255Z.txt`, `docs/etl/sprints/AI-OPS-111/evidence/python_unittest_graph_ui_citizen_20260223T171255Z.txt`.
- AI-OPS-112 añade guia de desempate en `alignment`: panel consumidor que explicita `top1 vs top2`, `gap_net` y `min_temas_extra` estimados para romper empates, con hasta 3 temas sugeridos (split directo o brecha de senal), boton `Abrir tema` y enlace `Auditar` por recomendacion. Objetivo: convertir “no se cual elegir” en siguiente accion concreta. Superficie afectada: `ui/citizen/index.html` + `docs/gh-pages/citizen/index.html`. Corrida de cierre: `just citizen-test-accessibility-readability` PASS, `just citizen-test-tailwind-md3` PASS, `python3 -m unittest tests/test_graph_ui_server_citizen_routes.py tests/test_graph_ui_server_citizen_assets.py` PASS. Evidencia: `docs/etl/sprints/AI-OPS-112/reports/citizen-consumer-disambiguation-guide-20260223.md`, `docs/etl/sprints/AI-OPS-112/evidence/just_citizen_test_accessibility_readability_20260223T171507Z.txt`, `docs/etl/sprints/AI-OPS-112/evidence/just_citizen_test_tailwind_md3_20260223T171507Z.txt`, `docs/etl/sprints/AI-OPS-112/evidence/python_unittest_graph_ui_citizen_20260223T171507Z.txt`.
- AI-OPS-113 añade bandas de confianza en `alignment` para lectura ciudadana del ranking (`estable/intermedia/fragil`) con razon explicita por partido lider y exposicion consistente en `Decision provisional`, top-3, guia de desempate, cards de partido y resumen copiable. Objetivo: distinguir ranking estable vs lectura preliminar sin ocultar incertidumbre. Superficie afectada: `ui/citizen/index.html` + `docs/gh-pages/citizen/index.html`. Corrida de cierre: `just citizen-test-accessibility-readability` PASS, `just citizen-test-tailwind-md3` PASS, `python3 -m unittest tests/test_graph_ui_server_citizen_routes.py tests/test_graph_ui_server_citizen_assets.py` PASS. Evidencia: `docs/etl/sprints/AI-OPS-113/reports/citizen-consumer-confidence-bands-20260223.md`, `docs/etl/sprints/AI-OPS-113/evidence/just_citizen_test_accessibility_readability_20260223T172114Z.txt`, `docs/etl/sprints/AI-OPS-113/evidence/just_citizen_test_tailwind_md3_20260223T172114Z.txt`, `docs/etl/sprints/AI-OPS-113/evidence/python_unittest_graph_ui_citizen_20260223T172114Z.txt`.
- AI-OPS-114 añade panel de `readiness` + plan de accion en `alignment` para convertir comparacion en decision accionable: score `0-100`, estado (`preliminar/casi_listo/listo_para_decidir`), y secuencia de pasos concretos (`Ir a casos`, `Abrir tema`, `Auditar mismatch`, `Copiar resumen` cuando procede). Incluye `readiness` en el resumen copiable para compartir contexto de calidad junto al resultado. Superficie afectada: `ui/citizen/index.html` + `docs/gh-pages/citizen/index.html`. Corrida de cierre: `just citizen-test-accessibility-readability` PASS, `just citizen-test-tailwind-md3` PASS, `python3 -m unittest tests/test_graph_ui_server_citizen_routes.py tests/test_graph_ui_server_citizen_assets.py` PASS. Evidencia: `docs/etl/sprints/AI-OPS-114/reports/citizen-consumer-readiness-action-plan-20260223.md`, `docs/etl/sprints/AI-OPS-114/evidence/just_citizen_test_accessibility_readability_20260223T172114Z.txt`, `docs/etl/sprints/AI-OPS-114/evidence/just_citizen_test_tailwind_md3_20260223T172114Z.txt`, `docs/etl/sprints/AI-OPS-114/evidence/python_unittest_graph_ui_citizen_20260223T172114Z.txt`.
- AI-OPS-124 cierra la fila `105` del bloque `Derechos` (Atlas de Restricciones) con contrato periódico reproducible en `scripts/export_liberty_restrictions_snapshot.py`: snapshot JSON versionado + artefactos tabulares `irlc_by_fragment.parquet`/`accountability_edges.parquet` + diff estructurado entre snapshots + changelog append-only con `entry_id` estable y dedupe. Se añaden pruebas de contrato y parquet (`tests/test_export_liberty_restrictions_snapshot.py`) y el lane `just parl-export-liberty-restrictions-snapshot` queda dockerizado para garantizar `pyarrow` en ejecución real. Corrida de cierre (`20260223T190900Z`): `restrictions_total=8`, `accountability_edges_total=15`, `proportionality_reviews_total=8`, `enforcement_observations_total=16`, `indirect_edges_total=12`, `delegated_links_total=8`; parquet `irlc=8x21`, `accountability=15x8`; diff con `prev_snapshot` estable en `status=unchanged` (`changed_sections_total=0`). Evidencia: `docs/etl/sprints/AI-OPS-124/reports/liberty-atlas-publication-contract.md`, `docs/etl/sprints/AI-OPS-124/evidence/just_parl_export_liberty_restrictions_snapshot_20260223T190900Z.txt`, `docs/etl/sprints/AI-OPS-124/evidence/liberty_restrictions_snapshot_diff_20260223T190900Z.json`, `docs/etl/sprints/AI-OPS-124/evidence/liberty_restrictions_snapshot_changelog_20260223T190900Z.json`, `docs/etl/sprints/AI-OPS-124/evidence/parquet_row_counts_20260223T190900Z.txt`, `docs/etl/sprints/AI-OPS-124/exports/liberty_restrictions_snapshot_20260223T190900Z.json`, `docs/etl/sprints/AI-OPS-124/exports/irlc_by_fragment_20260223T190900Z.parquet`, `docs/etl/sprints/AI-OPS-124/exports/accountability_edges_20260223T190900Z.parquet`.
- AI-OPS-125 extiende la fila `105` a distribución pública reproducible: `scripts/publish_liberty_atlas_artifacts.py` publica el bundle del Atlas en `etl/data/published` con versionado por `snapshot_date` (JSON+Parquet+diff+changelog+release latest) y espejo GH Pages (`docs/gh-pages/explorer-sources/data/liberty-atlas-release.json`), mientras `scripts/report_liberty_atlas_changelog_continuity.py` valida continuidad estricta de changelog/release (incluyendo reruns idempotentes con `previous_snapshot_date == snapshot_date`). Se añaden tests dedicados (`tests/test_publish_liberty_atlas_artifacts.py`, `tests/test_report_liberty_atlas_changelog_continuity.py`), nuevos lanes `just parl-publish-liberty-atlas-artifacts` + `just parl-check-liberty-atlas-changelog-continuity`, e integración en `parl-liberty-restrictions-pipeline`. Corrida de cierre (`20260223T192412Z`): publish `status=ok`, release `snapshot_date=2026-02-23`, continuidad `status=ok` (`entries_total=4`, `previous_snapshot_chain_ok=true`, `self_referential_previous_snapshot_entries=1`), dry-run HF incluye el bundle (`Published files=10`, `Parquet tables=68`, `Parquet files=126`) y pipeline E2E `just parl-liberty-restrictions-pipeline` PASS con los nuevos lanes activos. Evidencia: `docs/etl/sprints/AI-OPS-125/reports/liberty-atlas-public-distribution-continuity.md`, `docs/etl/sprints/AI-OPS-125/evidence/unittest_liberty_atlas_distribution_20260223T192412Z.txt`, `docs/etl/sprints/AI-OPS-125/evidence/just_parl_test_liberty_restrictions_20260223T192412Z.txt`, `docs/etl/sprints/AI-OPS-125/evidence/just_parl_export_liberty_restrictions_snapshot_20260223T192412Z.txt`, `docs/etl/sprints/AI-OPS-125/evidence/liberty_atlas_publish_20260223T192412Z.json`, `docs/etl/sprints/AI-OPS-125/evidence/liberty_atlas_changelog_continuity_20260223T192412Z.json`, `docs/etl/sprints/AI-OPS-125/evidence/just_etl_publish_hf_dry_run_20260223T192412Z.txt`, `docs/etl/sprints/AI-OPS-125/evidence/just_parl_liberty_restrictions_pipeline_20260223T192412Z.txt`, `docs/etl/sprints/AI-OPS-125/exports/liberty-atlas-release_20260223T192412Z.json`.
- AI-OPS-126 completa el pending de frescura/drift de `release-latest` para la fila `105`: `scripts/report_liberty_atlas_release_heartbeat.py` crea heartbeat append-only multi-superficie (`published`/GH Pages/HF) con checks strict de `stale_snapshot` y parity de release (`published_gh`, `published_hf`, `gh_hf`), y `scripts/report_liberty_atlas_release_heartbeat_window.py` aplica guardas `last N` con umbrales explícitos (`max_failed/max_stale_alerts/max_drift_alerts/max_hf_unavailable`). Se añaden tests dedicados (`tests/test_report_liberty_atlas_release_heartbeat.py`, `tests/test_report_liberty_atlas_release_heartbeat_window.py`), nuevos lanes `just parl-report-liberty-atlas-release-heartbeat` + `just parl-check-liberty-atlas-release-heartbeat-window`, y ambos entran en `parl-liberty-restrictions-pipeline` y `parl-test-liberty-restrictions`. Corrida de cierre (`20260223T194348Z` + pipeline `20260223T194611Z`): heartbeat `status=ok` con triple paridad (`hf_available=true`, `published_gh_parity_ok=true`, `published_hf_parity_ok=true`, `gh_pages_hf_parity_ok=true`) y ventana strict `status=ok` (`failed=0`, `stale_alerts=0`, `drift_alerts=0`). Evidencia: `docs/etl/sprints/AI-OPS-126/reports/liberty-atlas-release-freshness-heartbeat.md`, `docs/etl/sprints/AI-OPS-126/evidence/unittest_liberty_atlas_release_heartbeat_20260223T194252Z.txt`, `docs/etl/sprints/AI-OPS-126/evidence/just_parl_test_liberty_restrictions_20260223T194705Z.txt`, `docs/etl/sprints/AI-OPS-126/evidence/liberty_atlas_release_heartbeat_20260223T194348Z.json`, `docs/etl/sprints/AI-OPS-126/evidence/liberty_atlas_release_heartbeat_window_20260223T194348Z.json`, `docs/etl/sprints/AI-OPS-126/evidence/just_parl_report_liberty_atlas_release_heartbeat_20260223T194348Z.txt`, `docs/etl/sprints/AI-OPS-126/evidence/just_parl_check_liberty_atlas_release_heartbeat_window_20260223T194348Z.txt`, `docs/etl/sprints/AI-OPS-126/evidence/just_parl_liberty_restrictions_pipeline_20260223T194611Z.txt`.
- AI-OPS-127 cierra el contrato HF del alias `release-latest` para la fila `105`: `scripts/publicar_hf_snapshot.py` añade guardrail `--require-liberty-atlas-release-latest` (activado por defecto desde `just etl-publish-hf*`) para exigir `published/liberty-restrictions-atlas-release-latest.json` y validar que su `snapshot_date` coincide con el snapshot publicado; además el alias se incluye siempre en el bundle HF y se propaga metadata en `manifest/latest`. En paralelo, `scripts/report_liberty_atlas_release_heartbeat.py` resuelve `HF_DATASET_REPO_ID/HF_USERNAME` desde `.env` para evitar `hf_repo_unresolved` sin flags manuales, y `justfile` endurece la ventana strict con `LIBERTY_ATLAS_RELEASE_WINDOW_MAX_HF_UNAVAILABLE=0`. Corrida de cierre (`20260223T195745Z`, con warm-up de ventana en `20260223T195629Z`): `just etl-publish-hf-dry-run` PASS (`Published files=11` con alias incluido), `just parl-test-liberty-restrictions` PASS, `just parl-liberty-restrictions-pipeline` PASS y `just parl-check-liberty-atlas-release-heartbeat-window` PASS en `last=20` (`failed=0`, `hf_unavailable=0`, `status=ok`). Evidencia: `docs/etl/sprints/AI-OPS-127/reports/liberty-atlas-hf-release-alias-contract.md`, `docs/etl/sprints/AI-OPS-127/evidence/unittest_hf_alias_and_release_heartbeat_20260223T195613Z.txt`, `docs/etl/sprints/AI-OPS-127/evidence/just_etl_publish_hf_dry_run_post_contract_20260223T195745Z.txt`, `docs/etl/sprints/AI-OPS-127/evidence/just_parl_test_liberty_restrictions_20260223T195745Z.txt`, `docs/etl/sprints/AI-OPS-127/evidence/just_parl_liberty_restrictions_pipeline_20260223T195745Z.txt`, `docs/etl/sprints/AI-OPS-127/evidence/just_parl_check_liberty_atlas_release_heartbeat_window_post_warm_20260223T195629Z.txt`.
- AI-OPS-128 endurece la ventana strict del Atlas a tolerancia cero de degradación para la fila `105`: `justfile` fija `LIBERTY_ATLAS_RELEASE_WINDOW_MAX_DEGRADED=0` por defecto (junto con `max_failed=0`, `max_stale_alerts=0`, `max_drift_alerts=0`, `max_hf_unavailable=0`) y se valida el contrato en ejecución real con heartbeat + window + pipeline completo de `Derechos`. Corrida de cierre (`20260223T202426Z`): `just parl-report-liberty-atlas-release-heartbeat` PASS (`status=ok`), `just parl-check-liberty-atlas-release-heartbeat-window` PASS en `last=20` con `degraded_in_window=0`, y `just parl-liberty-restrictions-pipeline` PASS manteniendo el gate estricto. Evidencia: `docs/etl/sprints/AI-OPS-128/reports/liberty-atlas-release-window-max-degraded-zero.md`, `docs/etl/sprints/AI-OPS-128/evidence/just_parl_report_liberty_atlas_release_heartbeat_20260223T202426Z.txt`, `docs/etl/sprints/AI-OPS-128/evidence/liberty_atlas_release_heartbeat_20260223T202426Z.json`, `docs/etl/sprints/AI-OPS-128/evidence/just_parl_check_liberty_atlas_release_heartbeat_window_20260223T202426Z.txt`, `docs/etl/sprints/AI-OPS-128/evidence/liberty_atlas_release_heartbeat_window_20260223T202426Z.json`, `docs/etl/sprints/AI-OPS-128/evidence/just_parl_liberty_restrictions_pipeline_20260223T202426Z.txt`, `docs/etl/sprints/AI-OPS-128/evidence/liberty_atlas_release_heartbeat_pipeline_20260223T202426Z.json`, `docs/etl/sprints/AI-OPS-128/evidence/liberty_atlas_release_heartbeat_window_pipeline_20260223T202426Z.json`.
- AI-OPS-129 cierra el pending de `Derechos/Foco operativo` con guardrail de alcance en CI: se añade `scripts/report_liberty_focus_scope_guard.py` para bloquear cambios fuera de `Derechos` cuando `focus_gate` está degradado (`strict_fail_reason=non_rights_changes_under_degraded_focus`, `exit=4`), manteniendo intacto el bloqueo global previo (`--enforce-gate`, `exit=2`) como red de seguridad. Se integra en `.github/workflows/etl-tracker-gate.yml` (`liberty-focus-gate-contract`) con fail-path sintético y pass-path sobre changed paths reales del diff. Se añaden pruebas dedicadas (`tests/test_report_liberty_focus_scope_guard.py`) y el lane local reproducible `just parl-check-liberty-focus-scope`. Corrida de cierre (`20260223T201430Z`): unit suite PASS (`Ran 13 tests`, `OK`), `just parl-test-liberty-restrictions` PASS (`Ran 51 tests`, `OK (skipped=1)`), fail-path de gate `exit=2`, fail-path de scope guard `exit=4`, pass-path de scope guard `status=ok`, parse YAML workflow `ok`. Evidencia: `docs/etl/sprints/AI-OPS-129/reports/liberty-focus-scope-guard-ci-policy.md`, `docs/etl/sprints/AI-OPS-129/evidence/unittest_liberty_focus_scope_guard_20260223T201430Z.txt`, `docs/etl/sprints/AI-OPS-129/evidence/just_parl_test_liberty_restrictions_20260223T201430Z.txt`, `docs/etl/sprints/AI-OPS-129/evidence/liberty_focus_gate_fail_20260223T201430Z.json`, `docs/etl/sprints/AI-OPS-129/evidence/liberty_focus_gate_fail_rc_20260223T201430Z.txt`, `docs/etl/sprints/AI-OPS-129/evidence/liberty_focus_scope_fail_20260223T201430Z.json`, `docs/etl/sprints/AI-OPS-129/evidence/liberty_focus_scope_fail_rc_20260223T201430Z.txt`, `docs/etl/sprints/AI-OPS-129/evidence/liberty_focus_scope_pass_20260223T201430Z.json`, `docs/etl/sprints/AI-OPS-129/evidence/just_parl_check_liberty_focus_scope_20260223T201430Z.txt`, `docs/etl/sprints/AI-OPS-129/evidence/workflow_yaml_parse_20260223T201430Z.txt`.
- AI-OPS-130 cierra el gap de categorías vacías en `Mapa de restricciones por derecho afectado` dentro de `Derechos`: `etl/data/seeds/liberty_restrictions_seed_v1.json` se amplía con evaluaciones para `right:privacidad`, `right:acceso_servicios` y `right:propiedad_uso` (subiendo el seed a `11` assessments), y `scripts/report_liberty_restrictions_status.py` añade gate explícito `rights_with_data_gate` con métrica `right_categories_with_data_pct` integrada en `focus_gate`. `justfile` propaga el umbral nuevo (`LIBERTY_RESTRICTIONS_RIGHTS_WITH_DATA_MIN`, default `1.0`) en `parl-report-liberty-restrictions-status` y `parl-check-liberty-focus-gate`. Corrida de cierre (`20260223T202028Z`): validate seed `valid=true` (`fragment_assessments_total=11`), import `assessments_inserted=11`, status `ok` con `right_categories_with_data_total=6/6` y `focus_gate.passed=true`; fail-path estricto con `rights_with_data_min=1.1` devuelve `exit=2` y `rights_with_data_gate=false`; tests `Ran 9 ... OK (skipped=1)` + `just parl-test-liberty-restrictions` PASS (`Ran 51 ... OK (skipped=1)`). Evidencia: `docs/etl/sprints/AI-OPS-130/reports/liberty-right-map-coverage-gate.md`, `docs/etl/sprints/AI-OPS-130/evidence/liberty_restrictions_validate_20260223T202028Z.json`, `docs/etl/sprints/AI-OPS-130/evidence/liberty_restrictions_import_20260223T202028Z.json`, `docs/etl/sprints/AI-OPS-130/evidence/liberty_restrictions_status_20260223T202028Z.json`, `docs/etl/sprints/AI-OPS-130/evidence/liberty_restrictions_status_strict_fail_20260223T202028Z.json`, `docs/etl/sprints/AI-OPS-130/evidence/just_parl_check_liberty_focus_gate_20260223T202028Z.txt`, `docs/etl/sprints/AI-OPS-130/evidence/just_parl_check_liberty_focus_gate_fail_rc_20260223T202028Z.txt`, `docs/etl/sprints/AI-OPS-130/evidence/unittest_liberty_right_map_20260223T202028Z.txt`, `docs/etl/sprints/AI-OPS-130/evidence/just_parl_test_liberty_restrictions_20260223T202028Z.txt`.
- AI-OPS-131 cierra el loop de cobertura periódica para el gate por derecho (`rights_with_data`) en `Derechos`: `scripts/report_liberty_restrictions_status_heartbeat.py` ahora persiste `right_categories_with_data_pct` y `rights_with_data_gate_passed`, y `scripts/report_liberty_restrictions_status_heartbeat_window.py` añade umbral estricto `--max-rights-with-data-gate-failed` con checks/reasons dedicados (`max_rights_with_data_gate_failed_exceeded`, `latest_rights_with_data_gate_failed`). `justfile` propaga el umbral con `LIBERTY_RESTRICTIONS_STATUS_HEARTBEAT_MAX_RIGHTS_WITH_DATA_GATE_FAILED` en `parl-check-liberty-restrictions-status-heartbeat-window`. Corrida de cierre (`20260223T202651Z`): import base `assessments_inserted=11`, status `ok` (`rights_with_data_gate=true`), heartbeat `ok` (`rights_with_data_gate_passed=true`), ventana pass `status=ok` con `rights_with_data_gate_failed_in_window=0`; fail-path sintético (latest con gate `false`) devuelve `status=failed`, `rights_with_data_gate_failed_in_window=1`, `exit=4`. Tests: focal heartbeat/window `Ran 7 tests ... OK`; suite completa derechos `Ran 52 tests ... OK (skipped=1)`. Evidencia: `docs/etl/sprints/AI-OPS-131/reports/liberty-restrictions-coverage-heartbeat-rights-gate.md`, `docs/etl/sprints/AI-OPS-131/evidence/liberty_restrictions_status_heartbeat_20260223T202651Z.json`, `docs/etl/sprints/AI-OPS-131/evidence/liberty_restrictions_status_heartbeat_window_pass_20260223T202651Z.json`, `docs/etl/sprints/AI-OPS-131/evidence/liberty_restrictions_status_heartbeat_window_fail_20260223T202651Z.json`, `docs/etl/sprints/AI-OPS-131/evidence/liberty_restrictions_status_heartbeat_window_fail_rc_20260223T202651Z.txt`, `docs/etl/sprints/AI-OPS-131/evidence/unittest_liberty_restrictions_heartbeat_contract_20260223T202651Z.txt`, `docs/etl/sprints/AI-OPS-131/evidence/just_parl_test_liberty_restrictions_20260223T202651Z.txt`.
- AI-OPS-132 cierra el pendiente de controles de representatividad por fuente/territorio en `Derechos`: `scripts/report_liberty_restrictions_status.py` incorpora `coverage_by_source/coverage_by_scope`, métricas `sources_with_assessments_pct/scopes_with_assessments_pct` y gates `source_representativity_gate/scope_representativity_gate` con umbrales configurables (`sources/scopes min pct` + `min_assessment_sources/scopes`), integrados en `focus_gate`. `scripts/report_liberty_restrictions_status_heartbeat.py` persiste los nuevos campos/gates y `scripts/report_liberty_restrictions_status_heartbeat_window.py` añade umbrales strict `--max-source-representativity-gate-failed` y `--max-scope-representativity-gate-failed` con checks/reasons de ventana y latest. `justfile` propaga los nuevos umbrales para status/focus/window. Corrida de cierre (`20260223T203640Z`): status base `ok` (`sources_with_assessments_pct=1.0`, `scopes_with_assessments_pct=1.0`), fail-path de `focus_gate` con `min_assessment_sources=2` + `min_assessment_scopes=2` devuelve `status=degraded` y `exit=2`; ventana pass `status=ok`; fail-path sintético de representatividad en latest devuelve `status=failed`, `source_representativity_gate_failed_in_window=1`, `scope_representativity_gate_failed_in_window=1`, `exit=4`. Tests: focal representatividad/heartbeat/window `Ran 12 ... OK`; suite completa derechos `Ran 54 ... OK (skipped=1)`. Evidencia: `docs/etl/sprints/AI-OPS-132/reports/liberty-restrictions-source-scope-representativity-gates.md`, `docs/etl/sprints/AI-OPS-132/evidence/liberty_restrictions_status_20260223T203640Z.json`, `docs/etl/sprints/AI-OPS-132/evidence/liberty_restrictions_status_representativity_fail_20260223T203640Z.json`, `docs/etl/sprints/AI-OPS-132/evidence/just_parl_check_liberty_focus_gate_representativity_fail_rc_20260223T203640Z.txt`, `docs/etl/sprints/AI-OPS-132/evidence/liberty_restrictions_status_heartbeat_20260223T203640Z.json`, `docs/etl/sprints/AI-OPS-132/evidence/liberty_restrictions_status_heartbeat_window_pass_20260223T203640Z.json`, `docs/etl/sprints/AI-OPS-132/evidence/liberty_restrictions_status_heartbeat_window_representativity_fail_20260223T203640Z.json`, `docs/etl/sprints/AI-OPS-132/evidence/liberty_restrictions_status_heartbeat_window_representativity_fail_rc_20260223T203640Z.txt`, `docs/etl/sprints/AI-OPS-132/evidence/unittest_liberty_representativity_contract_20260223T203640Z.txt`, `docs/etl/sprints/AI-OPS-132/evidence/just_parl_test_liberty_restrictions_20260223T203640Z.txt`.
- AI-OPS-133 endurece la misma fila `104` con gates de doble cobertura por fuente/scope (`IRLC + accountability`): `scripts/report_liberty_restrictions_status.py` añade métricas `sources_with_dual_coverage_pct/scopes_with_dual_coverage_pct` y gates `source_dual_coverage_gate/scope_dual_coverage_gate` dentro de `focus_gate`; `scripts/report_liberty_restrictions_status_heartbeat.py` persiste nuevos percentiles/totales/gates; y `scripts/report_liberty_restrictions_status_heartbeat_window.py` añade umbrales strict `--max-source-dual-coverage-gate-failed` + `--max-scope-dual-coverage-gate-failed` con checks/reasons dedicados de ventana y latest. `justfile` propaga todos los umbrales nuevos para status/focus/window. Corrida de cierre (`20260223T204632Z`): status base `ok` (`sources_with_dual_coverage_pct=1.0`, `scopes_with_dual_coverage_pct=1.0`), fail-path de `focus_gate` con `min_dual_coverage_sources=2` + `min_dual_coverage_scopes=2` devuelve `status=degraded` y `exit=2`; ventana pass `status=ok`; fail-path sintético de doble cobertura en latest devuelve `status=failed`, `source_dual_coverage_gate_failed_in_window=1`, `scope_dual_coverage_gate_failed_in_window=1`, `exit=4`. Tests: focal dual-coverage/heartbeat/window `Ran 14 ... OK`; suite completa derechos `Ran 56 ... OK (skipped=1)`. Evidencia: `docs/etl/sprints/AI-OPS-133/reports/liberty-restrictions-dual-coverage-gates.md`, `docs/etl/sprints/AI-OPS-133/evidence/liberty_restrictions_status_20260223T204632Z.json`, `docs/etl/sprints/AI-OPS-133/evidence/liberty_restrictions_status_dual_coverage_fail_20260223T204632Z.json`, `docs/etl/sprints/AI-OPS-133/evidence/just_parl_check_liberty_focus_gate_dual_coverage_fail_rc_20260223T204632Z.txt`, `docs/etl/sprints/AI-OPS-133/evidence/liberty_restrictions_status_heartbeat_20260223T204632Z.json`, `docs/etl/sprints/AI-OPS-133/evidence/liberty_restrictions_status_heartbeat_window_pass_20260223T204632Z.json`, `docs/etl/sprints/AI-OPS-133/evidence/liberty_restrictions_status_heartbeat_window_dual_coverage_fail_20260223T204632Z.json`, `docs/etl/sprints/AI-OPS-133/evidence/just_parl_check_liberty_restrictions_status_heartbeat_window_dual_coverage_fail_rc_20260223T204632Z.txt`, `docs/etl/sprints/AI-OPS-133/evidence/unittest_liberty_dual_coverage_contract_20260223T204632Z.txt`, `docs/etl/sprints/AI-OPS-133/evidence/just_parl_test_liberty_restrictions_20260223T204632Z.txt`.
- AI-OPS-134 endurece la misma fila `104` con quality-gate de evidencia primaria en accountability: `scripts/report_liberty_restrictions_status.py` añade `accountability_edges_total`, `accountability_edges_with_primary_evidence_total`, `accountability_edges_with_primary_evidence_pct` y `accountability_primary_evidence_gate`; `scripts/report_liberty_restrictions_status_heartbeat.py` persiste el gate+totales; y `scripts/report_liberty_restrictions_status_heartbeat_window.py` añade umbral strict `--max-accountability-primary-evidence-gate-failed` con checks/reasons dedicados (`max_accountability_primary_evidence_gate_failed_exceeded`, `latest_accountability_primary_evidence_gate_failed`). `justfile` propaga nuevos umbrales para status/focus/window. Corrida de cierre (`20260223T205756Z`): status base `ok` con `accountability_edges_total=15`, `accountability_edges_with_primary_evidence_total=0`, `accountability_edges_with_primary_evidence_pct=0.0` y gate en modo observabilidad (`threshold=0.0`); fail-path de `focus_gate` con `accountability_primary_evidence_min_pct=0.1` + `min_accountability_primary_evidence_edges=1` devuelve `status=degraded` y `exit=2`; ventana pass `status=ok`; fail-path sintético de evidencia primaria en latest devuelve `status=failed`, `accountability_primary_evidence_gate_failed_in_window=1`, `exit=4`. Tests: focal status/heartbeat/window `Ran 16 ... OK`; suite completa derechos `Ran 58 ... OK (skipped=1)`. Evidencia: `docs/etl/sprints/AI-OPS-134/reports/liberty-restrictions-accountability-primary-evidence-gate.md`, `docs/etl/sprints/AI-OPS-134/evidence/liberty_restrictions_status_20260223T205756Z.json`, `docs/etl/sprints/AI-OPS-134/evidence/liberty_restrictions_status_accountability_primary_evidence_fail_20260223T205756Z.json`, `docs/etl/sprints/AI-OPS-134/evidence/just_parl_check_liberty_focus_gate_accountability_primary_evidence_fail_rc_20260223T205756Z.txt`, `docs/etl/sprints/AI-OPS-134/evidence/liberty_restrictions_status_heartbeat_20260223T205756Z.json`, `docs/etl/sprints/AI-OPS-134/evidence/liberty_restrictions_status_heartbeat_window_pass_20260223T205756Z.json`, `docs/etl/sprints/AI-OPS-134/evidence/liberty_restrictions_status_heartbeat_window_accountability_primary_evidence_fail_20260223T205756Z.json`, `docs/etl/sprints/AI-OPS-134/evidence/just_parl_check_liberty_restrictions_status_heartbeat_window_accountability_primary_evidence_fail_rc_20260223T205756Z.txt`, `docs/etl/sprints/AI-OPS-134/evidence/unittest_liberty_accountability_primary_evidence_contract_20260223T205756Z.txt`, `docs/etl/sprints/AI-OPS-134/evidence/just_parl_test_liberty_restrictions_20260223T205756Z.txt`.
- AI-OPS-135 endurece el contrato de evidencia primaria en el lane sancionador para cerrar el gap operativo de la fila `104`: `validate_sanction_norms_seed.py` exige `source_url + evidence_date + evidence_quote` en `responsibility_hints`; `import_sanction_norms_seed.py` persiste esos campos en `legal_fragment_responsibilities`; y `report_sanction_norms_seed_status.py` añade métricas/checks de cobertura primaria (`responsibilities_with_primary_evidence_total`, `responsibility_primary_evidence_coverage_pct`). Con la semilla actualizada (`sanction_norms_seed_v1`) y defaults estrictos en `justfile` (`LIBERTY_RESTRICTIONS_ACCOUNTABILITY_PRIMARY_EVIDENCE_MIN_PCT=1.0`, `LIBERTY_RESTRICTIONS_MIN_ACCOUNTABILITY_PRIMARY_EVIDENCE_EDGES=1`), la corrida de cierre (`20260223T210908Z`) queda en `ok`: `responsibilities_with_primary_evidence_total=15/15`, `accountability_edges_with_primary_evidence_total=15/15`, `focus_gate.passed=true`, ventana strict `ok`; fail-path con umbral imposible (`1.1`, `20`) mantiene `exit=2`. Tests: contratos focales + `just parl-test-sanction-norms-seed` + `just parl-test-liberty-restrictions` en verde. Evidencia: `docs/etl/sprints/AI-OPS-135/reports/liberty-accountability-primary-evidence-seed-hardening.md`, `docs/etl/sprints/AI-OPS-135/evidence/sanction_norms_seed_status_20260223T210908Z.json`, `docs/etl/sprints/AI-OPS-135/evidence/liberty_restrictions_status_20260223T210908Z.json`, `docs/etl/sprints/AI-OPS-135/evidence/liberty_restrictions_status_heartbeat_window_20260223T210908Z.json`, `docs/etl/sprints/AI-OPS-135/evidence/liberty_restrictions_focus_gate_accountability_primary_evidence_fail_20260223T210908Z.json`, `docs/etl/sprints/AI-OPS-135/evidence/just_parl_check_liberty_focus_gate_accountability_primary_evidence_fail_rc_20260223T210908Z.txt`, `docs/etl/sprints/AI-OPS-135/evidence/just_parl_test_sanction_norms_seed_20260223T210908Z.txt`, `docs/etl/sprints/AI-OPS-135/evidence/just_parl_test_liberty_restrictions_20260223T210908Z.txt`.
- AI-OPS-136 endurece la fila `101` (cadena directa) con gate explícito de evidencia primaria en roles directos: `report_liberty_direct_accountability_scores.py` añade `direct_edges_with_primary_evidence_total`, `direct_edges_with_primary_evidence_pct` y check `direct_primary_evidence_gate`; `justfile` propaga umbrales (`LIBERTY_DIRECT_ACCOUNTABILITY_PRIMARY_EVIDENCE_MIN_PCT`, `LIBERTY_DIRECT_ACCOUNTABILITY_MIN_PRIMARY_EVIDENCE_EDGES`) en report/check. Corrida de cierre (`20260223T211623Z`) en DB reproducible: `fragments_with_direct_chain_total=8/8`, `direct_edges_total=19`, `direct_edges_with_primary_evidence_total=19`, `direct_edges_with_primary_evidence_pct=1.0`, `gate.passed=true`; fail-path con umbral imposible (`1.1`, `20`) devuelve `status=degraded`, `direct_primary_evidence_gate=false`, `exit=2`. Tests: focal + suites `parl-test-sanction-norms-seed` y `parl-test-liberty-restrictions` en verde. Evidencia: `docs/etl/sprints/AI-OPS-136/reports/liberty-direct-accountability-primary-evidence-gate.md`, `docs/etl/sprints/AI-OPS-136/evidence/liberty_direct_accountability_scores_20260223T211623Z.json`, `docs/etl/sprints/AI-OPS-136/evidence/liberty_direct_accountability_gate_primary_evidence_fail_20260223T211623Z.json`, `docs/etl/sprints/AI-OPS-136/evidence/just_parl_check_liberty_direct_accountability_gate_primary_evidence_fail_rc_20260223T211623Z.txt`, `docs/etl/sprints/AI-OPS-136/evidence/just_parl_test_liberty_restrictions_20260223T211623Z.txt`.
- AI-OPS-137 endurece la fila `102` (cadena indirecta) con contrato persona/cargo + ventana temporal: `liberty_indirect_responsibility_edges` añade `actor_person_name`, `actor_role_title`, `appointment_start_date`, `appointment_end_date`; `validate_liberty_indirect_accountability_seed.py` exige ventana coherente y consistencia `evidence_date` dentro de nombramiento; `report_liberty_indirect_accountability_status.py` añade métricas `attributable_edges_with_actor_person_total`, `attributable_edges_with_valid_person_window_total`, `attributable_edges_with_valid_person_window_pct` y gate `indirect_person_window_gate`; `justfile` propaga defaults estrictos (`LIBERTY_INDIRECT_PERSON_WINDOW_MIN=1.0`, `LIBERTY_INDIRECT_MIN_PERSON_WINDOW_EDGES=1`). Corrida de cierre (`20260223T212645Z`): `edges_total=12`, `attributable_edges_total=9`, `fragments_with_attributable_edges_total=7/8`, `attributable_edges_with_actor_person_total=9`, `attributable_edges_with_valid_person_window_total=9`, `attributable_edges_with_valid_person_window_pct=1.0`, `gate.passed=true`; fail-path contractual (`person_window_min=1.1`, `min_edges=20`) devuelve `status=degraded`, `indirect_person_window_gate=false`, `exit=2`. Snapshot export actualizado expone nuevos campos en `indirect_accountability_edges` (`actor_person_name/actor_role_title/appointment_start_date`). Tests: suites focales + `just parl-test-sanction-norms-seed` + `just parl-test-liberty-restrictions` en verde. Evidencia: `docs/etl/sprints/AI-OPS-137/reports/liberty-indirect-accountability-person-window-gate.md`, `docs/etl/sprints/AI-OPS-137/evidence/liberty_indirect_status_20260223T212645Z.json`, `docs/etl/sprints/AI-OPS-137/evidence/liberty_indirect_gate_person_window_fail_20260223T212645Z.json`, `docs/etl/sprints/AI-OPS-137/evidence/liberty_indirect_gate_person_window_fail_rc_20260223T212645Z.txt`, `docs/etl/sprints/AI-OPS-137/evidence/liberty_restrictions_snapshot_20260223_ai_ops_137_20260223T212645Z.json`, `docs/etl/sprints/AI-OPS-137/evidence/just_parl_test_liberty_restrictions_20260223T212645Z.txt`.
- AI-OPS-138 endurece la fila `103` (scoring de atribución personal) con lane reproducible `scripts/report_liberty_personal_accountability_scores.py`: combina edges directos con `person_id` y edges indirectos atribuibles con contexto persona/cargo+ventana, aplica fuerza probatoria explícita (`edge_confidence * primary_evidence_factor`) y publica ranking personal `responsibility_score_personal` con descomposición por rol y periodo. `justfile` incorpora `parl-report-liberty-personal-accountability-scores` + `parl-check-liberty-personal-accountability-gate` (defaults estrictos en evidencia primaria/ventana), y `parl-liberty-restrictions-pipeline` ejecuta ambos tras la cadena indirecta. `export_liberty_restrictions_snapshot.py` añade `personal_accountability_scores`, `personal_accountability_methodology` y `personal_accountability_summary` (+ `persons_scored_total` en `totals`) para visibilidad en Atlas. Corrida de cierre (`20260223T213615Z`): `status=ok`, `persons_scored_total=9`, `personal_edges_total=13`, `personal_edges_with_primary_evidence_total=13`, `fragments_with_personal_accountability_total=7/8`, `personal_edges_with_primary_evidence_pct=1.0`, `indirect_person_edges_with_valid_window_pct=1.0`, `gate.passed=true`; fail-path con umbrales imposibles devuelve `status=degraded`, checks personales en `false`, `exit=2`. Tests: focales + `just parl-test-sanction-norms-seed` + `just parl-test-liberty-restrictions` en verde. Evidencia: `docs/etl/sprints/AI-OPS-138/reports/liberty-personal-accountability-scoring-lane.md`, `docs/etl/sprints/AI-OPS-138/evidence/liberty_personal_accountability_scores_20260223T213615Z.json`, `docs/etl/sprints/AI-OPS-138/evidence/liberty_personal_accountability_gate_fail_20260223T213615Z.json`, `docs/etl/sprints/AI-OPS-138/evidence/liberty_personal_accountability_gate_fail_rc_20260223T213615Z.txt`, `docs/etl/sprints/AI-OPS-138/evidence/liberty_restrictions_snapshot_20260223T213615Z.json`, `docs/etl/sprints/AI-OPS-138/evidence/just_parl_test_liberty_restrictions_20260223T213615Z.txt`.
- AI-OPS-139 endurece la fila `103` con contrato `top_n` estable para scoring personal: `report_liberty_personal_accountability_scores.py` separa ranking completo vs salida capada y evita que `top_n` altere `persons_scored_total`/gates; añade `totals.top_person_scores_total` y nota metodológica explícita. Corrida de cierre (`20260223T214125Z`): `top1_persons_scored_total=9`, `top200_persons_scored_total=9`, `persons_total_stable_across_topn=true`, `top1_top_person_scores_total=1`, `top200_top_person_scores_total=9`; fail-path (`min_persons_scored=99`, `--enforce-gate`) devuelve `exit=2`. Tests: focales (`Ran 7`, `OK`) + suite completa `Derechos` (`Ran 65`, `OK`). Evidencia: `docs/etl/sprints/AI-OPS-139/reports/liberty-personal-accountability-topn-contract.md`, `docs/etl/sprints/AI-OPS-139/evidence/liberty_personal_accountability_topn_contract_20260223T214125Z.json`, `docs/etl/sprints/AI-OPS-139/evidence/liberty_personal_accountability_gate_fail_rc_20260223T214125Z.txt`, `docs/etl/sprints/AI-OPS-139/evidence/unittest_liberty_personal_topn_contract_20260223T214125Z.txt`, `docs/etl/sprints/AI-OPS-139/evidence/just_parl_test_liberty_restrictions_20260223T214125Z.txt`.
- AI-OPS-140 endurece la fila `103` con gate explícito de resolución de identidad indirecta en scoring personal: `report_liberty_personal_accountability_scores.py` añade `indirect_identity_resolution_pct`, `indirect_person_edges_identity_resolved_total`, check `indirect_identity_resolution_gate` y muestra `indirect_identity_unresolved_sample`; además, `justfile` incorpora umbrales dedicados (`LIBERTY_PERSONAL_INDIRECT_IDENTITY_RESOLUTION_MIN_PCT`, `LIBERTY_PERSONAL_MIN_INDIRECT_IDENTITY_RESOLUTION_EDGES`) en report/check. Corrida de cierre (`20260223T214658Z`): pass observabilidad `status=ok`, `gate_passed=true`, `indirect_person_edges_valid_window_total=9`, `indirect_person_edges_identity_resolved_total=0`, `indirect_identity_resolution_pct=0.0`, `indirect_identity_resolution_gate=true`, `unresolved_sample_total=9`; fail-path contractual (`indirect_identity_resolution_min_pct=1.0`, `--enforce-gate`) devuelve `status=degraded`, `indirect_identity_resolution_gate=false`, `exit=2`. Tests: focales (`Ran 8`, `OK`) + suite completa `Derechos` (`Ran 66`, `OK`). Evidencia: `docs/etl/sprints/AI-OPS-140/reports/liberty-personal-identity-resolution-gate.md`, `docs/etl/sprints/AI-OPS-140/evidence/liberty_personal_accountability_identity_gate_20260223T214658Z.json`, `docs/etl/sprints/AI-OPS-140/evidence/liberty_personal_accountability_identity_contract_20260223T214658Z.json`, `docs/etl/sprints/AI-OPS-140/evidence/liberty_personal_accountability_identity_gate_fail_rc_20260223T214658Z.txt`, `docs/etl/sprints/AI-OPS-140/evidence/unittest_liberty_personal_identity_contract_20260223T214658Z.txt`, `docs/etl/sprints/AI-OPS-140/evidence/just_parl_test_liberty_restrictions_20260223T214658Z.txt`.
- AI-OPS-141 endurece la misma fila `103` con cola accionable de resolución de identidad personal indirecta: nuevo lane `report_liberty_person_identity_resolution_queue.py` (JSON+CSV) con priorización por actor (`queue_key` estable + `edges_total`, `fragments_total`, fechas de evidencia), métricas `indirect_identity_resolution_pct/indirect_identity_unresolved_pct` y gate contractual `identity_resolution_gate`; `justfile` añade `parl-report-liberty-person-identity-resolution-queue` + `parl-check-liberty-person-identity-resolution-gate` e integra ambos en `parl-liberty-restrictions-pipeline`. Corrida de cierre (`20260223T215635Z`): pass `status=ok`, `gate_passed=true`, `indirect_person_edges_valid_window_total=9`, `indirect_person_edges_identity_resolved_total=0`, `queue_rows_total=9`; fail-path (`LIBERTY_PERSON_IDENTITY_RESOLUTION_MIN_PCT=1.0`, `--enforce-gate`) devuelve `status=degraded`, `identity_resolution_gate=false`, `exit=2`. Tests: focales (`Ran 11`, `OK (skipped=1)`) + suite completa `Derechos` (`Ran 69`, `OK (skipped=1)`). Evidencia: `docs/etl/sprints/AI-OPS-141/reports/liberty-person-identity-resolution-queue-lane.md`, `docs/etl/sprints/AI-OPS-141/evidence/liberty_person_identity_resolution_queue_20260223T215635Z.json`, `docs/etl/sprints/AI-OPS-141/evidence/liberty_person_identity_resolution_queue_contract_20260223T215635Z.json`, `docs/etl/sprints/AI-OPS-141/evidence/just_parl_check_liberty_person_identity_resolution_gate_fail_rc_20260223T215635Z.txt`, `docs/etl/sprints/AI-OPS-141/evidence/unittest_liberty_person_identity_resolution_queue_contract_20260223T215635Z.txt`, `docs/etl/sprints/AI-OPS-141/evidence/just_parl_test_liberty_restrictions_20260223T215635Z.txt`, `docs/etl/sprints/AI-OPS-141/exports/liberty_person_identity_resolution_queue_20260223T215635Z.csv`.
- AI-OPS-142 cierra el loop de la fila `103` con aplicación reproducible de identidad en DB: se añade `person_name_aliases` (schema), seed versionado `liberty_person_identity_resolution_seed_v1` y lanes `validate/import` para poblar alias `actor_person_name -> person_id`; scoring personal y queue de identidad pasan a resolver por `full_name` exacto o `person_name_aliases.canonical_alias` y exponen desglose `resolved_exact_name` vs `resolved_alias`. Corrida de cierre (`20260223T220708Z`): import `mappings_total=9`, `persons_created=5`, `aliases_total=9`; scoring `indirect_person_edges_identity_resolved_total=9`, `indirect_person_edges_identity_resolved_alias_total=9`, `indirect_identity_resolution_pct=1.0`; queue `queue_rows_total=0`, `indirect_identity_resolution_pct=1.0`; fail-path contractual para personal y queue con `min_pct=1.1` devuelve `status=degraded`, `exit=2`. Tests: focales (`Ran 17`, `OK (skipped=1)`) + suite completa `Derechos` (`Ran 75`, `OK (skipped=1)`). Evidencia: `docs/etl/sprints/AI-OPS-142/reports/liberty-person-identity-apply-lane.md`, `docs/etl/sprints/AI-OPS-142/evidence/liberty_person_identity_validate_20260223T220708Z.json`, `docs/etl/sprints/AI-OPS-142/evidence/liberty_person_identity_import_20260223T220708Z.json`, `docs/etl/sprints/AI-OPS-142/evidence/liberty_personal_accountability_scores_20260223T220708Z.json`, `docs/etl/sprints/AI-OPS-142/evidence/liberty_person_identity_resolution_queue_20260223T220708Z.json`, `docs/etl/sprints/AI-OPS-142/evidence/liberty_person_identity_apply_contract_20260223T220708Z.json`, `docs/etl/sprints/AI-OPS-142/evidence/just_parl_check_liberty_personal_accountability_gate_identity_fail_rc_20260223T220708Z.txt`, `docs/etl/sprints/AI-OPS-142/evidence/just_parl_check_liberty_person_identity_resolution_gate_fail_rc_20260223T220708Z.txt`, `docs/etl/sprints/AI-OPS-142/evidence/unittest_liberty_person_identity_apply_contract_20260223T220708Z.txt`, `docs/etl/sprints/AI-OPS-142/evidence/just_parl_test_liberty_restrictions_20260223T220708Z.txt`.
- AI-OPS-143 endurece la misma fila `103` con gate explícito de procedencia de alias para evitar falso positivo de calidad en identidad personal: `person_name_aliases` incorpora `source_kind/evidence_date/evidence_quote`, `validate/import_liberty_person_identity_resolution_seed.py` exige contrato por `source_kind` (campos de evidencia obligatorios para `official_*`) y `report_liberty_personal_accountability_scores.py` + `report_liberty_person_identity_resolution_queue.py` separan resolución alias `manual_seed` vs `official_*` (`indirect_person_edges_identity_resolved_alias_non_manual_total`, `indirect_non_manual_alias_resolution_pct`) con checks nuevos `indirect_non_manual_alias_resolution_gate` / `identity_non_manual_alias_resolution_gate`; `justfile` propaga umbrales dedicados en report/check (`LIBERTY_PERSONAL_INDIRECT_NON_MANUAL_ALIAS_RESOLUTION_MIN_PCT`, `LIBERTY_PERSONAL_MIN_INDIRECT_NON_MANUAL_ALIAS_RESOLUTION_EDGES`, `LIBERTY_PERSON_IDENTITY_NON_MANUAL_ALIAS_RESOLUTION_MIN_PCT`, `LIBERTY_PERSON_IDENTITY_NON_MANUAL_ALIAS_RESOLUTION_MIN_EDGES`). Corrida de cierre (`20260223T221925Z`): import `manual_mappings_total=9`, `official_mappings_total=0`, `manual_aliases_total=9`, `official_aliases_total=0`; scoring pass `status=ok` con `indirect_identity_resolution_pct=1.0` y `indirect_non_manual_alias_resolution_pct=0.0`; queue pass `status=ok`, `queue_rows_total=0`; fail-path contractual con `*_NON_MANUAL_ALIAS_RESOLUTION_MIN_PCT=1.0` devuelve `status=degraded` y `exit=2` en personal/queue. Tests: focales (`Ran 20`, `OK (skipped=1)`) + suite completa `Derechos` (`Ran 78`, `OK (skipped=1)`). Evidencia: `docs/etl/sprints/AI-OPS-143/reports/liberty-person-identity-provenance-gate.md`, `docs/etl/sprints/AI-OPS-143/evidence/liberty_person_identity_import_20260223T221925Z.json`, `docs/etl/sprints/AI-OPS-143/evidence/liberty_personal_accountability_scores_20260223T221925Z.json`, `docs/etl/sprints/AI-OPS-143/evidence/liberty_person_identity_resolution_queue_20260223T221925Z.json`, `docs/etl/sprints/AI-OPS-143/evidence/liberty_personal_accountability_non_manual_alias_fail_20260223T221925Z.json`, `docs/etl/sprints/AI-OPS-143/evidence/liberty_person_identity_resolution_queue_non_manual_alias_fail_20260223T221925Z.json`, `docs/etl/sprints/AI-OPS-143/evidence/just_parl_check_liberty_personal_accountability_non_manual_alias_fail_rc_20260223T221925Z.txt`, `docs/etl/sprints/AI-OPS-143/evidence/just_parl_check_liberty_person_identity_non_manual_alias_fail_rc_20260223T221925Z.txt`, `docs/etl/sprints/AI-OPS-143/evidence/unittest_liberty_person_identity_provenance_contract_20260223T221925Z.txt`, `docs/etl/sprints/AI-OPS-143/evidence/just_parl_test_liberty_restrictions_20260223T221925Z.txt`.
- AI-OPS-144 convierte la migración `manual_seed -> official_*` en backlog operativo explícito para la fila `103`: `report_liberty_person_identity_resolution_queue.py` añade `manual_alias_upgrade_queue_rows` (JSON+CSV), cobertura de share manual (`manual_alias_share_pct`) y gate `manual_alias_share_gate`; `import_liberty_person_identity_resolution_seed.py` evita downgrade de procedencia en replay (`aliases_source_kind_downgrade_prevented`). Corrida de cierre (`20260223T222707Z`): queue `status=ok`, `manual_alias_upgrade_queue_rows_total=9`, `manual_alias_share_pct=1.0`; fail-path con `manual_alias_share_max=0.0` devuelve `status=degraded`, `exit=2`; tests focales `Ran 22` + suite `Derechos` `Ran 80` en verde. Evidencia: `docs/etl/sprints/AI-OPS-144/reports/liberty-person-identity-manual-upgrade-backlog-gate.md`, `docs/etl/sprints/AI-OPS-144/evidence/liberty_person_identity_resolution_queue_20260223T222707Z.json`, `docs/etl/sprints/AI-OPS-144/evidence/liberty_person_identity_resolution_queue_manual_alias_share_fail_20260223T222707Z.json`, `docs/etl/sprints/AI-OPS-144/evidence/just_parl_check_liberty_person_identity_manual_alias_share_fail_rc_20260223T222707Z.txt`, `docs/etl/sprints/AI-OPS-144/exports/liberty_person_identity_manual_upgrade_queue_20260223T222707Z.csv`.
- AI-OPS-145 endurece la misma fila `103` con guardrail de identidad a prueba de replay manual y paridad de gates en scoring personal: `import_liberty_person_identity_resolution_seed.py` bloquea retarget manual sobre alias ya `official_*` (`aliases_retarget_downgrade_prevented`), `report_liberty_personal_accountability_scores.py` añade métricas/gate `manual_alias_share_*` (paridad con queue), y `justfile` propaga umbrales `LIBERTY_PERSONAL_MANUAL_ALIAS_SHARE_MAX` + `LIBERTY_PERSONAL_MIN_ALIAS_ROWS_FOR_MANUAL_SHARE_GATE`. Corrida de cierre (`20260223T223309Z`): scoring `status=ok`, `manual_alias_share_pct=1.0`; queue `status=ok`, `manual_alias_upgrade_queue_rows_total=9`; fail-path strict en personal/queue para `non_manual_alias` y `manual_alias_share` devuelve `exit=2`; contrato de replay manual sobre alias oficial confirma `aliases_retarget_downgrade_prevented=1` y alias final preservado en `official_nombramiento` para `Alicia Martin Gomez`; tests focales `Ran 20` + suite `Derechos` `Ran 81` en verde. Evidencia: `docs/etl/sprints/AI-OPS-145/reports/liberty-person-identity-source-guard-personal-gate.md`, `docs/etl/sprints/AI-OPS-145/evidence/liberty_person_identity_downgrade_retarget_contract_20260223T223309Z.json`, `docs/etl/sprints/AI-OPS-145/evidence/liberty_personal_accountability_scores_20260223T223309Z.json`, `docs/etl/sprints/AI-OPS-145/evidence/liberty_person_identity_resolution_queue_20260223T223309Z.json`, `docs/etl/sprints/AI-OPS-145/evidence/liberty_person_identity_source_guard_contract_20260223T223309Z.json`, `docs/etl/sprints/AI-OPS-145/evidence/just_parl_test_liberty_restrictions_20260223T223309Z.txt`.
- AI-OPS-146 endurece la misma fila `103` con gate explícito de evidencia para alias `official_*` en scoring personal y queue: `report_liberty_personal_accountability_scores.py` + `report_liberty_person_identity_resolution_queue.py` añaden `official_alias_rows_with_evidence_total`, `official_alias_rows_missing_evidence_total`, `official_alias_evidence_coverage_pct` y check `official_alias_evidence_gate`; `justfile` propaga umbrales dedicados (`LIBERTY_PERSONAL_OFFICIAL_ALIAS_EVIDENCE_MIN_PCT`, `LIBERTY_PERSONAL_MIN_OFFICIAL_ALIAS_ROWS_FOR_EVIDENCE_GATE`, `LIBERTY_PERSON_IDENTITY_OFFICIAL_ALIAS_EVIDENCE_MIN_PCT`, `LIBERTY_PERSON_IDENTITY_MIN_OFFICIAL_ALIAS_ROWS_FOR_EVIDENCE_GATE`). Corrida de cierre (`20260223T224358Z`): personal/queue pass `status=ok`; contrato de drift en alias oficial (`official_aliases_with_evidence_total: 1 -> 0`) activa fail-path estricto en ambos lanes (`exit=2`), manteniendo además fail-paths strict de `non_manual_alias` y `manual_alias_share` (`exit=2`); tests focales `Ran 22` + suite `Derechos` `Ran 83` en verde. Evidencia: `docs/etl/sprints/AI-OPS-146/reports/liberty-person-identity-official-evidence-gate.md`, `docs/etl/sprints/AI-OPS-146/evidence/liberty_person_identity_official_alias_evidence_contract_20260223T224358Z.json`, `docs/etl/sprints/AI-OPS-146/evidence/liberty_personal_accountability_scores_20260223T224358Z.json`, `docs/etl/sprints/AI-OPS-146/evidence/liberty_person_identity_resolution_queue_20260223T224358Z.json`, `docs/etl/sprints/AI-OPS-146/evidence/liberty_person_identity_official_evidence_contract_summary_20260223T224358Z.json`, `docs/etl/sprints/AI-OPS-146/evidence/just_parl_test_liberty_restrictions_20260223T224358Z.txt`.
- AI-OPS-147 endurece la misma fila `103` con gate explícito de cuota oficial para migración `manual_seed -> official_*`: `report_liberty_personal_accountability_scores.py` + `report_liberty_person_identity_resolution_queue.py` añaden `official_alias_share_pct` y check `official_alias_share_gate`; `justfile` propaga umbrales dedicados (`LIBERTY_PERSONAL_OFFICIAL_ALIAS_SHARE_MIN_PCT`, `LIBERTY_PERSONAL_MIN_ALIAS_ROWS_FOR_OFFICIAL_SHARE_GATE`, `LIBERTY_PERSON_IDENTITY_OFFICIAL_ALIAS_SHARE_MIN_PCT`, `LIBERTY_PERSON_IDENTITY_MIN_ALIAS_ROWS_FOR_OFFICIAL_SHARE_GATE`). Corrida de cierre (`20260223T225159Z`): personal/queue pass `status=ok` con `official_alias_share_pct=0.0` en modo observabilidad (`min=0.0`); fail-path contractual con `official_alias_share_min_pct=0.1` y `min_alias_rows_for_official_share_gate=1` devuelve `status=degraded`, `official_alias_share_gate=false`, `exit=2` en ambos lanes; tests focales `Ran 17` + suite `Derechos` `Ran 85` en verde. Evidencia: `docs/etl/sprints/AI-OPS-147/reports/liberty-person-identity-official-alias-share-gate.md`, `docs/etl/sprints/AI-OPS-147/evidence/liberty_personal_accountability_scores_20260223T225159Z.json`, `docs/etl/sprints/AI-OPS-147/evidence/liberty_person_identity_resolution_queue_20260223T225159Z.json`, `docs/etl/sprints/AI-OPS-147/evidence/liberty_personal_accountability_official_alias_share_fail_20260223T225159Z.json`, `docs/etl/sprints/AI-OPS-147/evidence/liberty_person_identity_resolution_queue_official_alias_share_fail_20260223T225159Z.json`, `docs/etl/sprints/AI-OPS-147/evidence/liberty_person_identity_official_share_contract_summary_20260223T225159Z.json`, `docs/etl/sprints/AI-OPS-147/evidence/just_parl_test_liberty_restrictions_20260223T225159Z.txt`.
- AI-OPS-148 endurece la misma fila `103` con trazabilidad reproducible a `source_records` para alias `official_*`: `person_name_aliases` añade `source_record_pk` (schema+compat+índice), `validate/import_liberty_person_identity_resolution_seed.py` aceptan referencias `source_record_id/source_record_pk` y exponen contadores de resolución, y `report_liberty_personal_accountability_scores.py` + `report_liberty_person_identity_resolution_queue.py` añaden `official_alias_rows_with_source_record_total`, `official_alias_rows_missing_source_record_total`, cobertura `official_alias_source_record_coverage_pct` y check `official_alias_source_record_gate`; `justfile` propaga umbrales dedicados (`LIBERTY_PERSONAL_OFFICIAL_ALIAS_SOURCE_RECORD_MIN_PCT`, `LIBERTY_PERSONAL_MIN_OFFICIAL_ALIAS_ROWS_FOR_SOURCE_RECORD_GATE`, `LIBERTY_PERSON_IDENTITY_OFFICIAL_ALIAS_SOURCE_RECORD_MIN_PCT`, `LIBERTY_PERSON_IDENTITY_MIN_OFFICIAL_ALIAS_ROWS_FOR_SOURCE_RECORD_GATE`). Corrida de cierre (`20260223T230526Z`): pass observabilidad en seed manual (`official_alias_rows_total=0`, `official_alias_source_record_coverage_pct=1.0`, gate `true`) y fail-path contractual con alias `official_*` sin `source_record_pk` (`official_alias_rows_total=1`, `with_source_record=0`, `official_alias_source_record_gate=false`, `exit=2` en personal/queue); tests focales `Ran 28` + suite `Derechos` `Ran 89` en verde. Evidencia: `docs/etl/sprints/AI-OPS-148/reports/liberty-person-identity-official-source-record-gate.md`, `docs/etl/sprints/AI-OPS-148/evidence/liberty_personal_accountability_scores_20260223T230526Z.json`, `docs/etl/sprints/AI-OPS-148/evidence/liberty_person_identity_resolution_queue_20260223T230526Z.json`, `docs/etl/sprints/AI-OPS-148/evidence/liberty_personal_accountability_official_alias_source_record_fail_20260223T230526Z.json`, `docs/etl/sprints/AI-OPS-148/evidence/liberty_person_identity_resolution_queue_official_alias_source_record_fail_20260223T230526Z.json`, `docs/etl/sprints/AI-OPS-148/evidence/liberty_person_identity_official_source_record_contract_summary_20260223T230526Z.json`, `docs/etl/sprints/AI-OPS-148/evidence/just_parl_test_liberty_restrictions_20260223T230526Z.txt`.
- AI-OPS-149 endurece la misma fila `103` con colas accionables para cerrar gaps `official_*` sin trabajo manual ad-hoc: `report_liberty_person_identity_resolution_queue.py` añade `official_alias_evidence_upgrade_queue_rows` (faltan `source_url/evidence_date/evidence_quote`) y `official_alias_source_record_upgrade_queue_rows` (falta `source_record_pk`), más checks de visibilidad `official_alias_evidence_backlog_visible`/`official_alias_source_record_backlog_visible`, totales contractuales y `queue_key` estable por alias. Se incorporan export CSV dedicados (`--official-alias-evidence-upgrade-csv-out`, `--official-alias-source-record-upgrade-csv-out`) y variables en `justfile` (`LIBERTY_PERSON_IDENTITY_OFFICIAL_EVIDENCE_UPGRADE_QUEUE_CSV_OUT`, `LIBERTY_PERSON_IDENTITY_OFFICIAL_SOURCE_RECORD_UPGRADE_QUEUE_CSV_OUT`) en report/check. Corrida de cierre (`20260223T231638Z`): pass observabilidad (`official_alias_rows_total=0`, colas `0/0`) y fail-path contractual (`official_alias_rows_total=1`, `official_alias_rows_missing_evidence_total=1`, `official_alias_rows_missing_source_record_total=1`) con colas `1/1`, checks de visibilidad en `true` y `exit=2` (`--enforce-gate`); tests focales `Ran 8` + suite `Derechos` `Ran 89` en verde. Evidencia: `docs/etl/sprints/AI-OPS-149/reports/liberty-person-identity-official-gap-actionable-queues.md`, `docs/etl/sprints/AI-OPS-149/evidence/liberty_person_identity_resolution_queue_20260223T231638Z.json`, `docs/etl/sprints/AI-OPS-149/evidence/liberty_person_identity_resolution_queue_official_gap_fail_20260223T231638Z.json`, `docs/etl/sprints/AI-OPS-149/evidence/liberty_person_identity_official_gap_queue_contract_summary_20260223T231638Z.json`, `docs/etl/sprints/AI-OPS-149/evidence/liberty_person_identity_resolution_queue_official_gap_fail_rc_20260223T231638Z.txt`, `docs/etl/sprints/AI-OPS-149/evidence/unittest_liberty_person_identity_resolution_queue_20260223T231638Z.txt`, `docs/etl/sprints/AI-OPS-149/evidence/just_parl_test_liberty_restrictions_20260223T231638Z.txt`, `docs/etl/sprints/AI-OPS-149/exports/liberty_person_identity_official_alias_evidence_upgrade_queue_20260223T231638Z.csv`, `docs/etl/sprints/AI-OPS-149/exports/liberty_person_identity_official_alias_source_record_upgrade_queue_20260223T231638Z.csv`.
- AI-OPS-150 endurece la misma fila `103` cerrando el loop review/apply de upgrades `manual_seed -> official_*`: se añade exportador de cola única revisable (`scripts/export_liberty_person_identity_official_upgrade_review_queue.py`) y aplicador de decisiones CSV (`scripts/apply_liberty_person_identity_official_upgrade_reviews.py`) con guardrail anti-downgrade. `justfile` incorpora `parl-export-liberty-person-identity-official-upgrade-review-queue` + `parl-apply-liberty-person-identity-official-upgrade-reviews`. Corrida de cierre (`20260223T232635Z`): `rows_total=9`, `approved_rows=1`, `updated_rows=1`, reducción de cola manual `9 -> 8`, `official_alias_rows_total=1`, `official_alias_rows_missing_source_record_total=1`; tests focales `Ran 3` + suite `Derechos` `Ran 92` en verde. Evidencia: `docs/etl/sprints/AI-OPS-150/reports/liberty-person-identity-official-upgrade-review-apply-loop.md`, `docs/etl/sprints/AI-OPS-150/evidence/liberty_person_identity_official_upgrade_review_queue_20260223T232635Z.json`, `docs/etl/sprints/AI-OPS-150/evidence/liberty_person_identity_official_upgrade_apply_20260223T232635Z.json`, `docs/etl/sprints/AI-OPS-150/evidence/liberty_person_identity_official_upgrade_review_apply_contract_summary_20260223T232635Z.json`, `docs/etl/sprints/AI-OPS-150/evidence/unittest_liberty_person_identity_official_upgrade_review_apply_20260223T232635Z.txt`, `docs/etl/sprints/AI-OPS-150/evidence/just_parl_test_liberty_restrictions_20260223T232635Z.txt`.
- AI-OPS-151 endurece la misma fila `103` con autoresolución de `source_record_pk` en el apply de reviews: `scripts/apply_liberty_person_identity_official_upgrade_reviews.py` incorpora `--db` para cargar lookup desde `source_records` y completar `source_record_pk` cuando hay `source_id+source_record_id`; publica contadores contractuales (`source_record_pk_auto_resolved`, `source_record_pk_auto_resolve_missed`, `source_record_lookup.rows_total`) y `justfile` propaga `--db {{db_path}}`. Corrida de cierre (`20260223T232954Z`): dry-run con lookup real `rows_total=173070`, `source_record_pk_auto_resolved=1`, `validation.valid=true`; tests focales `Ran 4` + suite `Derechos` `Ran 93` en verde. Evidencia: `docs/etl/sprints/AI-OPS-151/reports/liberty-person-identity-source-record-autoresolve.md`, `docs/etl/sprints/AI-OPS-151/evidence/liberty_person_identity_official_upgrade_apply_autoresolve_20260223T232954Z.json`, `docs/etl/sprints/AI-OPS-151/evidence/liberty_person_identity_official_upgrade_source_record_autoresolve_contract_summary_20260223T232954Z.json`, `docs/etl/sprints/AI-OPS-151/evidence/unittest_liberty_person_identity_official_upgrade_review_apply_20260223T232954Z.txt`, `docs/etl/sprints/AI-OPS-151/evidence/just_parl_test_liberty_restrictions_20260223T232954Z.txt`.
- AI-OPS-152 endurece la misma fila `103` con prefill temprano de `source_record_pk` en el export de review queue: `scripts/export_liberty_person_identity_official_upgrade_review_queue.py` ahora carga lookup desde `source_records` y completa `source_record_pk` cuando la fila trae `source_id+source_record_id`; añade trazabilidad por fila (`source_record_pk_lookup_status`: `existing|prefilled_from_db|lookup_miss|lookup_not_loaded|not_applicable`) y contadores contractuales (`source_record_pk_lookup_keys_total`, `source_record_pk_lookup_prefilled_total`, `source_record_pk_lookup_miss_total`, `source_record_lookup_rows_total`). Corrida de cierre (`20260223T233847Z`): tests focales `Ran 5` + suite `Derechos` `Ran 94` en verde; contrato determinista de prefill `keys=1`, `prefilled=1`, `miss=0`, `source_record_pk=125908`, `lookup_status=prefilled_from_db`. Evidencia: `docs/etl/sprints/AI-OPS-152/reports/liberty-person-identity-review-queue-source-record-prefill.md`, `docs/etl/sprints/AI-OPS-152/evidence/liberty_person_identity_official_upgrade_review_queue_source_record_lookup_contract_summary_20260223T233847Z.json`, `docs/etl/sprints/AI-OPS-152/evidence/unittest_liberty_person_identity_official_upgrade_export_apply_20260223T233847Z.txt`, `docs/etl/sprints/AI-OPS-152/evidence/just_parl_test_liberty_restrictions_20260223T233847Z.txt`.
- AI-OPS-153 endurece la misma fila `103` con separación explícita de backlog accionable en la review queue: `scripts/export_liberty_person_identity_official_upgrade_review_queue.py` añade clasificación por fila (`actionability`, `actionability_reason`) para distinguir `actionable` vs `likely_not_actionable_seed_placeholder`, suma contadores contractuales (`actionable_rows_total`, `likely_not_actionable_rows_total`) y habilita ejecución estricta con `--only-actionable --strict-empty-actionable` (exit `4` cuando hay cola accionable). `justfile` incorpora `parl-export-liberty-person-identity-official-upgrade-review-queue-actionable` + `parl-check-liberty-person-identity-official-upgrade-review-queue-actionable-empty`. Corrida de cierre (`20260223T234425Z`): tests focales `Ran 5` + suite `Derechos` `Ran 94` en verde; estado real de cola `rows_total=0`, `actionable_rows_total=0`, strict-empty pass; contrato determinista de clasificación `1 actionable / 1 placeholder`. Evidencia: `docs/etl/sprints/AI-OPS-153/reports/liberty-person-identity-review-queue-actionability-gate.md`, `docs/etl/sprints/AI-OPS-153/evidence/liberty_person_identity_official_upgrade_review_queue_full_20260223T234425Z.json`, `docs/etl/sprints/AI-OPS-153/evidence/liberty_person_identity_official_upgrade_review_queue_actionable_20260223T234425Z.json`, `docs/etl/sprints/AI-OPS-153/evidence/liberty_person_identity_official_upgrade_review_queue_actionability_contract_summary_20260223T234425Z.json`, `docs/etl/sprints/AI-OPS-153/evidence/unittest_liberty_person_identity_official_upgrade_actionability_20260223T234425Z.txt`, `docs/etl/sprints/AI-OPS-153/evidence/just_parl_test_liberty_restrictions_20260223T234425Z.txt`.
- AI-OPS-154 endurece la misma fila `103` con observabilidad continua del backlog accionable en la review queue: se añade heartbeat append-only deduplicado (`scripts/report_liberty_person_identity_official_upgrade_review_queue_actionable_heartbeat.py`) y ventana estricta (`scripts/report_liberty_person_identity_official_upgrade_review_queue_actionable_heartbeat_window.py`) para vigilar `latest + last N` sobre `actionable_rows_total`. `justfile` incorpora lanes `parl-report/check-liberty-person-identity-official-upgrade-review-queue-actionable-heartbeat*` y `parl-liberty-restrictions-pipeline` integra report heartbeat + check puntual `strict-empty` + check de ventana; CI (`liberty-focus-gate-contract`) suma tests del contrato nuevo. Corrida de cierre (`20260223T235521Z`): tests focales `Ran 5` + suite `Derechos` `Ran 99` en verde; DB real `actionable_rows_total=0`, heartbeat `status=ok`, ventana `status=ok` (`failed_in_window=0`, `actionable_nonempty_runs_in_window=0`). Evidencia: `docs/etl/sprints/AI-OPS-154/reports/liberty-person-identity-actionable-heartbeat-window-gate.md`, `docs/etl/sprints/AI-OPS-154/evidence/liberty_person_identity_official_upgrade_review_queue_actionable_20260223T235521Z.json`, `docs/etl/sprints/AI-OPS-154/evidence/liberty_person_identity_official_upgrade_review_queue_actionable_heartbeat_20260223T235521Z.json`, `docs/etl/sprints/AI-OPS-154/evidence/liberty_person_identity_official_upgrade_review_queue_actionable_heartbeat_window_20260223T235521Z.json`, `docs/etl/sprints/AI-OPS-154/evidence/unittest_liberty_person_identity_actionable_heartbeat_20260223T235521Z.txt`, `docs/etl/sprints/AI-OPS-154/evidence/just_parl_test_liberty_restrictions_20260223T235521Z.txt`.
- AI-OPS-155 cierra el gap de lineage normativo en la fila `Normativa por fragmento`: `etl/load/sqlite_schema.sql` añade `legal_norm_lineage_edges` (con índices por `norm_id/related_norm_id/relation_type`), `validate_sanction_norms_seed.py` incorpora contrato `lineage_hints` con evidencia primaria fechada, `import_sanction_norms_seed.py` materializa edges `deroga/modifica/desarrolla` y alta automática de normas relacionadas referenciadas, y `report_sanction_norms_seed_status.py` publica cobertura/gates de lineage (`norms_with_lineage`, `lineage_primary_evidence_coverage_pct`, `by_relation_type`). Guardrail adicional: `report_liberty_restrictions_status.py` pasa a medir cobertura sobre normas con fragmentos para que refs `lineage_ref` sin fragmentación no degraden el foco `Derechos`. Corrida de cierre (`20260224T000517Z`): validación `lineage_hints_total=8`, import `lineage_related_norms_inserted=4` + `lineage_edges_inserted=8`, status `ok` con `norms_with_lineage=8/8`, `lineage_edges_with_primary_evidence_total=8/8`; tests focales del lane `Ran 8`, suite `Derechos` `Ran 100 (skipped=1)` y `PRAGMA foreign_key_check` sin violaciones (`fk_violations_total=0`). Evidencia: `docs/etl/sprints/AI-OPS-155/reports/sanction-norms-lineage-seed-lane.md`, `docs/etl/sprints/AI-OPS-155/evidence/sanction_norms_seed_validate_20260224T000517Z.json`, `docs/etl/sprints/AI-OPS-155/evidence/sanction_norms_seed_import_20260224T000517Z.json`, `docs/etl/sprints/AI-OPS-155/evidence/sanction_norms_seed_status_20260224T000517Z.json`, `docs/etl/sprints/AI-OPS-155/evidence/unittest_sanction_norms_seed_20260224T000517Z.txt`, `docs/etl/sprints/AI-OPS-155/evidence/just_parl_test_liberty_restrictions_20260224T001159Z.txt`, `docs/etl/sprints/AI-OPS-155/evidence/sqlite_fk_check_20260224T000533Z.json`.
- AI-OPS-156 cierra el gap de evidencia multipista en la fila `Responsabilidad por fragmento normativo`: `etl/load/sqlite_schema.sql` añade `legal_fragment_responsibility_evidence` (indices por `responsibility_id` y `evidence_type`), `validate_sanction_norms_seed.py` incorpora contrato opcional `responsibility_hints[].evidence_items[]`, `import_sanction_norms_seed.py` materializa evidencias por edge con fallback `boe_publicacion` cuando falta `evidence_items`, y `report_sanction_norms_seed_status.py` añade cobertura/checks de evidencia multipista (`responsibilities_with_evidence_items_total`, `responsibility_evidence_items_total`, `responsibility_evidence_items_with_primary_fields_total`, `responsibility_evidence_item_primary_fields_coverage_pct`). Corrida de cierre (`20260224T001801Z`): import `responsibility_evidence_inserted=15`, `legal_fragment_responsibility_evidence_total=15`; status `ok` con `responsibilities_with_evidence_items_total=15/15`, `responsibility_evidence_items_with_primary_fields_total=15/15`, `responsibility_evidence_item_primary_fields_coverage_pct=1.0`; tests focales `Ran 9`, suite `Derechos` `Ran 100 (skipped=1)` y `PRAGMA foreign_key_check` sin violaciones (`fk_violations_total=0`). Evidencia: `docs/etl/sprints/AI-OPS-156/reports/sanction-norms-responsibility-evidence-lane.md`, `docs/etl/sprints/AI-OPS-156/evidence/sanction_norms_seed_validate_20260224T001801Z.json`, `docs/etl/sprints/AI-OPS-156/evidence/sanction_norms_seed_import_20260224T001801Z.json`, `docs/etl/sprints/AI-OPS-156/evidence/sanction_norms_seed_status_20260224T001801Z.json`, `docs/etl/sprints/AI-OPS-156/evidence/just_parl_test_sanction_norms_seed_20260224T001801Z.txt`, `docs/etl/sprints/AI-OPS-156/evidence/just_parl_test_liberty_restrictions_20260224T001822Z.txt`, `docs/etl/sprints/AI-OPS-156/evidence/sqlite_fk_check_20260224T001813Z.json`.
- AI-OPS-157 cierra el gap de trazabilidad `source_record_pk` en la misma fila `Responsabilidad por fragmento normativo`: `import_sanction_norms_seed.py` añade autoresolución cacheada `source_id + source_record_id -> source_record_pk` para `legal_fragment_responsibility_evidence` y publica contadores explícitos (`responsibility_evidence_source_record_pk_auto_resolved`, `responsibility_evidence_source_record_pk_auto_resolve_missed`); `validate_sanction_norms_seed.py` endurece contrato opcional de refs (`source_record_id` requiere `source_id`, `source_record_pk` entero positivo); `report_sanction_norms_seed_status.py` añade cobertura documental por evidencia (`responsibility_evidence_items_with_source_record_total`, `responsibility_evidence_items_missing_source_record`, `responsibility_evidence_item_source_record_coverage_pct`, check informativo `responsibility_evidence_source_record_chain_started`). Corrida de cierre (`20260224T002457Z`): import en DB real `auto_resolved=0`, `auto_resolve_missed=0`; status `ok` con cobertura documental `0/15` (`responsibility_evidence_item_source_record_coverage_pct=0.0`); tests focales `Ran 10`, suite `Derechos` `Ran 100 (skipped=1)` y `PRAGMA foreign_key_check` sin violaciones (`fk_violations_total=0`). Evidencia: `docs/etl/sprints/AI-OPS-157/reports/sanction-norms-responsibility-evidence-source-record-autoresolve.md`, `docs/etl/sprints/AI-OPS-157/evidence/sanction_norms_seed_validate_20260224T002457Z.json`, `docs/etl/sprints/AI-OPS-157/evidence/sanction_norms_seed_import_20260224T002457Z.json`, `docs/etl/sprints/AI-OPS-157/evidence/sanction_norms_seed_status_20260224T002457Z.json`, `docs/etl/sprints/AI-OPS-157/evidence/just_parl_test_sanction_norms_seed_20260224T002457Z.txt`, `docs/etl/sprints/AI-OPS-157/evidence/just_parl_test_liberty_restrictions_20260224T002457Z.txt`, `docs/etl/sprints/AI-OPS-157/evidence/sqlite_fk_check_20260224T002457Z.json`.
- AI-OPS-158 cierra cobertura documental al `100%` en la misma fila `Responsabilidad por fragmento normativo`: `sanction_norms_seed_v1` añade `responsibility_hints[].evidence_items[]` explícitos (`source_id=boe_api_legal`, `source_record_id=<boe_id>`), y `import_sanction_norms_seed.py` incorpora `_ensure_source_record(...)` para bootstrap controlado de `source_records` faltantes sin sobrescribir filas existentes. Corrida de cierre (`20260224T003121Z`): validación `responsibility_evidence_items_total=15`; import `responsibility_evidence_source_record_pk_auto_resolved=7`, `responsibility_evidence_source_record_seed_rows_inserted=8`, `responsibility_evidence_source_record_pk_auto_resolve_missed=0`; status `ok` con `responsibility_evidence_items_with_source_record_total=15/15` y `responsibility_evidence_item_source_record_coverage_pct=1.0`; tests focales `Ran 11`, suite `Derechos` `Ran 100 (skipped=1)` y `PRAGMA foreign_key_check` sin violaciones (`fk_violations_total=0`). Evidencia: `docs/etl/sprints/AI-OPS-158/reports/sanction-norms-responsibility-evidence-source-record-coverage-seed-upsert.md`, `docs/etl/sprints/AI-OPS-158/evidence/sanction_norms_seed_validate_20260224T003121Z.json`, `docs/etl/sprints/AI-OPS-158/evidence/sanction_norms_seed_import_20260224T003121Z.json`, `docs/etl/sprints/AI-OPS-158/evidence/sanction_norms_seed_status_20260224T003121Z.json`, `docs/etl/sprints/AI-OPS-158/evidence/just_parl_test_sanction_norms_seed_20260224T003121Z.txt`, `docs/etl/sprints/AI-OPS-158/evidence/just_parl_test_liberty_restrictions_20260224T003121Z.txt`, `docs/etl/sprints/AI-OPS-158/evidence/sqlite_fk_check_20260224T003121Z.json`.
- AI-OPS-159 endurece la misma fila `Responsabilidad por fragmento normativo` con observabilidad explícita de procedencia `seed` vs `non-seed` en `source_record_pk`: `report_sanction_norms_seed_status.py` añade `responsibility_evidence_items_with_seed_source_record_total`, `responsibility_evidence_items_with_non_seed_source_record_total`, cobertura `responsibility_evidence_item_non_seed_source_record_coverage_pct` y check `responsibility_evidence_non_seed_source_record_chain_started`; además `tests/test_report_sanction_norms_seed_status.py` incorpora regresión del path `non-seed` para evitar drift de contrato. Corrida de cierre (`20260224T003834Z`): import `responsibility_evidence_source_record_pk_auto_resolved=15`, `responsibility_evidence_source_record_seed_rows_inserted=0`, `responsibility_evidence_source_record_pk_auto_resolve_missed=0`; status `ok` con `responsibility_evidence_items_with_source_record_total=15/15`, split `seed=15`, `non-seed=0`, `responsibility_evidence_item_non_seed_source_record_coverage_pct=0.0`, `responsibility_evidence_non_seed_source_record_chain_started=false`; tests focales `Ran 12`, suite `Derechos` `Ran 100 (skipped=1)` y `PRAGMA foreign_key_check` sin violaciones (`fk_violations_total=0`). Evidencia: `docs/etl/sprints/AI-OPS-159/reports/sanction-norms-responsibility-evidence-source-record-provenance-split.md`, `docs/etl/sprints/AI-OPS-159/evidence/sanction_norms_seed_validate_20260224T003834Z.json`, `docs/etl/sprints/AI-OPS-159/evidence/sanction_norms_seed_import_20260224T003834Z.json`, `docs/etl/sprints/AI-OPS-159/evidence/sanction_norms_seed_status_20260224T003834Z.json`, `docs/etl/sprints/AI-OPS-159/evidence/sanction_norms_seed_non_seed_source_record_contract_summary_20260224T003834Z.json`, `docs/etl/sprints/AI-OPS-159/evidence/just_parl_test_sanction_norms_seed_20260224T003834Z.txt`, `docs/etl/sprints/AI-OPS-159/evidence/just_parl_test_liberty_restrictions_20260224T003834Z.txt`, `docs/etl/sprints/AI-OPS-159/evidence/sqlite_fk_check_20260224T003834Z.json`.
- AI-OPS-160 abre la cola accionable para migrar procedencia `seed -> non-seed` en la misma fila `Responsabilidad por fragmento normativo`: `scripts/export_sanction_norms_seed_source_record_upgrade_queue.py` detecta evidencias cuyo `source_record_pk` apunta a payload seed (`seed_schema_version=sanction_norms_seed_v1`), exporta backlog JSON/CSV con `queue_key` estable (`responsibility_evidence_id:<id>`) y queda integrado en `just parl-sanction-norms-seed-pipeline` mediante `parl-export-sanction-norms-seed-source-record-upgrade-queue`. Corrida de cierre (`20260224T004510Z`): lane `status=ok`, queue `status=degraded`, `queue_rows_total=15`, `queue_norms_total=8`, `queue_fragments_total=8`, `queue_responsibilities_total=15`, split de procedencia sin cambio (`seed=15`, `non-seed=0`), tests focales `Ran 14`, suite `Derechos` `Ran 100 (skipped=1)` y `PRAGMA foreign_key_check` sin violaciones (`fk_violations_total=0`). Evidencia: `docs/etl/sprints/AI-OPS-160/reports/sanction-norms-seed-source-record-upgrade-queue.md`, `docs/etl/sprints/AI-OPS-160/evidence/sanction_norms_seed_validate_20260224T004510Z.json`, `docs/etl/sprints/AI-OPS-160/evidence/sanction_norms_seed_import_20260224T004510Z.json`, `docs/etl/sprints/AI-OPS-160/evidence/sanction_norms_seed_status_20260224T004510Z.json`, `docs/etl/sprints/AI-OPS-160/evidence/sanction_norms_seed_source_record_upgrade_queue_20260224T004510Z.json`, `docs/etl/sprints/AI-OPS-160/evidence/sanction_norms_seed_source_record_upgrade_queue_contract_summary_20260224T004510Z.json`, `docs/etl/sprints/AI-OPS-160/exports/sanction_norms_seed_source_record_upgrade_queue_20260224T004510Z.csv`, `docs/etl/sprints/AI-OPS-160/evidence/just_parl_test_sanction_norms_seed_20260224T004510Z.txt`, `docs/etl/sprints/AI-OPS-160/evidence/just_parl_test_liberty_restrictions_20260224T004510Z.txt`, `docs/etl/sprints/AI-OPS-160/evidence/sqlite_fk_check_20260224T004510Z.json`.
- AI-OPS-161 cierra la misma fila `Responsabilidad por fragmento normativo` ejecutando la migracion efectiva `seed -> non-seed`: se añaden `scripts/backfill_sanction_norms_boe_source_records.py` (backfill canónico `boe_ref:<BOE-ID>`) y `scripts/apply_sanction_norms_seed_source_record_upgrade_queue.py` (repoint de `legal_fragment_responsibility_evidence.source_record_pk`), con lanes `just parl-backfill-sanction-norms-boe-source-records` y `just parl-apply-sanction-norms-source-record-upgrade`. Corrida de cierre (`20260224T005304Z`): backfill `targets_total=8`, `records_inserted=8`, apply `queue_rows_seen=15`, `upgraded_rows=15`, status `seed=0`, `non-seed=15`, `responsibility_evidence_item_non_seed_source_record_coverage_pct=1.0`, cola post-apply `queue_rows_total=0` (`queue_empty=true`), tests `just parl-test-sanction-norms-seed` (`Ran 16`) + `just parl-test-liberty-restrictions` (`Ran 100`, `OK (skipped=1)`) y `PRAGMA foreign_key_check` sin violaciones. Evidencia: `docs/etl/sprints/AI-OPS-161/reports/sanction-norms-seed-source-record-upgrade-apply.md`, `docs/etl/sprints/AI-OPS-161/evidence/sanction_norms_boe_backfill_20260224T005304Z.json`, `docs/etl/sprints/AI-OPS-161/evidence/sanction_norms_source_record_upgrade_apply_20260224T005304Z.json`, `docs/etl/sprints/AI-OPS-161/evidence/sanction_norms_seed_status_20260224T005304Z.json`, `docs/etl/sprints/AI-OPS-161/evidence/sanction_norms_seed_source_record_upgrade_queue_20260224T005304Z.json`, `docs/etl/sprints/AI-OPS-161/evidence/sqlite_fk_check_20260224T005304Z.json`.
- AI-OPS-162 extiende la misma fila `Responsabilidad por fragmento normativo` con evidencia parlamentaria real sin abrir nuevos bloqueos externos: se añade `scripts/backfill_sanction_norms_parliamentary_evidence.py`, que detecta referencias `BOE-A-*` en `text_documents` (`source_id=parl_initiative_docs`), cruza con normas sancionadoras y materializa evidencia `congreso_diario/senado_diario` por responsabilidad (roles configurables). Además, `report_sanction_norms_seed_status.py` incorpora KPIs/checks de cadena parlamentaria (`responsibility_evidence_items_parliamentary_total`, `responsibilities_with_parliamentary_evidence_total`, `responsibility_evidence_item_parliamentary_share_pct`, `responsibility_parliamentary_coverage_pct`, `responsibility_evidence_parliamentary_chain_started`). Corrida de cierre (`20260224T010415Z`): backfill `docs_scanned_total=9016`, `candidate_matches_total=2`, `evidence_updated=2`, `senado_diario=2`; status lane `ok` con `responsibility_evidence_items_parliamentary_total=2`, `responsibility_evidence_item_primary_fields_coverage_pct=1.0`, `non_seed=17`; cola `seed->non-seed` se mantiene vacía (`queue_rows_total=0`), tests `just parl-test-sanction-norms-seed` (`Ran 17`) + `just parl-test-liberty-restrictions` (`Ran 100`, `OK (skipped=1)`), y `PRAGMA foreign_key_check` sin violaciones. Evidencia: `docs/etl/sprints/AI-OPS-162/reports/sanction-norms-parliamentary-evidence-backfill.md`, `docs/etl/sprints/AI-OPS-162/evidence/sanction_norms_parliamentary_evidence_backfill_20260224T010415Z.json`, `docs/etl/sprints/AI-OPS-162/evidence/sanction_norms_seed_status_20260224T010415Z.json`, `docs/etl/sprints/AI-OPS-162/evidence/sanction_norms_seed_source_record_upgrade_queue_20260224T010415Z.json`, `docs/etl/sprints/AI-OPS-162/evidence/sqlite_fk_check_20260224T010415Z.json`.
- AI-OPS-163 extiende la misma fila `Responsabilidad por fragmento normativo` a evidencia de voto (`congreso_vote/senado_vote`) con un backfill conservador y reproducible: `scripts/backfill_sanction_norms_vote_evidence.py` cruza `parl_vote_events + parl_vote_event_initiatives` con normas sancionadoras mediante reglas explícitas de referencia legal+título (`Ley 58/2003 + General Tributaria`, `LO 4/2015 + seguridad ciudadana`, `RDL 6/2015 + tráfico/seguridad vial`) y mantiene trazabilidad por `raw_payload.match_method/match_confidence`. Además, `report_sanction_norms_seed_status.py` añade KPIs/checks de cadena de voto (`responsibility_evidence_items_parliamentary_vote_total`, `responsibilities_with_parliamentary_vote_evidence_total`, `responsibility_evidence_item_parliamentary_vote_share_pct`, `responsibility_parliamentary_vote_coverage_pct`, `responsibility_evidence_vote_chain_started`). Corrida de cierre (`20260224T011452Z`): backfill `vote_link_rows_scanned_total=8358`, `candidate_matches_total=26`, `evidence_inserted=20`, `evidence_updated=32`, `congreso_vote=14`, `senado_vote=38`; status lane `ok` con `responsibility_evidence_items_total=37`, `responsibility_evidence_items_parliamentary_total=22`, `responsibility_evidence_items_parliamentary_vote_total=20`, `responsibilities_with_parliamentary_evidence_total=8/15`, `responsibilities_with_parliamentary_vote_evidence_total=6/15`, `responsibility_evidence_vote_chain_started=true`; cola `seed->non-seed` permanece cerrada (`queue_rows_total=0`), tests `just parl-test-sanction-norms-seed` (`Ran 19`) + `just parl-test-liberty-restrictions` (`Ran 100`, `OK (skipped=1)`), y `PRAGMA foreign_key_check` sin violaciones. Evidencia: `docs/etl/sprints/AI-OPS-163/reports/sanction-norms-vote-evidence-backfill.md`, `docs/etl/sprints/AI-OPS-163/evidence/sanction_norms_vote_evidence_backfill_20260224T011452Z.json`, `docs/etl/sprints/AI-OPS-163/evidence/sanction_norms_seed_status_20260224T011452Z.json`, `docs/etl/sprints/AI-OPS-163/evidence/sanction_norms_seed_source_record_upgrade_queue_20260224T011452Z.json`, `docs/etl/sprints/AI-OPS-163/evidence/sqlite_fk_check_20260224T011452Z.txt`, `docs/etl/sprints/AI-OPS-163/evidence/just_parl_test_sanction_norms_seed_20260224T011452Z.txt`, `docs/etl/sprints/AI-OPS-163/evidence/just_parl_test_liberty_restrictions_20260224T011452Z.txt`.
- AI-OPS-164 extiende la misma fila `Responsabilidad por fragmento normativo` a evidencia de ejecución sancionadora (expedientes/importes) desde datos observacionales ya cargados: se añade `scripts/backfill_sanction_norms_execution_evidence.py`, que cruza `sanction_volume_observations` con `fragment_id` exacto y responsabilidades por rol (default `enforce`) para materializar evidencia con `record_kind=sanction_norm_execution_evidence_backfill` en `legal_fragment_responsibility_evidence` (`evidence_type='other'` por constraint de esquema), incluyendo resolución de `source_record_pk` vía `boe_ref:<BOE-ID>`. Además, `report_sanction_norms_seed_status.py` añade KPIs/checks de cadena de ejecución (`responsibility_evidence_items_execution_total`, `responsibilities_with_execution_evidence_total`, `responsibilities_missing_execution_evidence`, `responsibility_evidence_item_execution_share_pct`, `responsibility_execution_coverage_pct`, `responsibility_evidence_execution_chain_started`). Corrida de cierre (`20260224T012849Z`): backfill `observations_scanned_total=7`, `observations_with_responsibility_total=2`, `source_record_pk_resolved_total=2`, `evidence_inserted=2`; status lane `ok` con `responsibility_evidence_items_total=39`, `responsibility_evidence_items_execution_total=2`, `responsibilities_with_execution_evidence_total=2/15`, `responsibility_execution_coverage_pct=0.133333`, `responsibility_evidence_execution_chain_started=true`, manteniendo `responsibility_evidence_item_non_seed_source_record_coverage_pct=1.0`; cola `seed->non-seed` cerrada (`queue_rows_total=0`), tests `just parl-test-sanction-norms-seed` (`Ran 21`) + `just parl-test-liberty-restrictions` (`Ran 100`, `OK (skipped=1)`), y `PRAGMA foreign_key_check` sin violaciones. Evidencia: `docs/etl/sprints/AI-OPS-164/reports/sanction-norms-execution-evidence-backfill.md`, `docs/etl/sprints/AI-OPS-164/evidence/sanction_norms_execution_evidence_backfill_20260224T012849Z.json`, `docs/etl/sprints/AI-OPS-164/evidence/sanction_norms_seed_status_20260224T012849Z.json`, `docs/etl/sprints/AI-OPS-164/evidence/sanction_norms_seed_source_record_upgrade_queue_20260224T012849Z.json`, `docs/etl/sprints/AI-OPS-164/evidence/sqlite_fk_check_20260224T012849Z.txt`, `docs/etl/sprints/AI-OPS-164/evidence/just_parl_test_sanction_norms_seed_20260224T012849Z.txt`, `docs/etl/sprints/AI-OPS-164/evidence/just_parl_test_liberty_restrictions_20260224T012849Z.txt`.
- AI-OPS-165 extiende la misma fila `Responsabilidad por fragmento normativo` en dos frentes controlables: (1) escala de ejecución fuera de `enforce` con defaults de roles ampliados (`enforce,approve,propose,delegate`) en `justfile` para `scripts/backfill_sanction_norms_execution_evidence.py`; y (2) nueva lane reproducible de garantías procedimentales `scripts/backfill_sanction_norms_procedural_metric_evidence.py`, que cruza `sanction_procedural_metrics` con fragmentos observados por `sanction_source_id` y materializa evidencia `other` con `record_kind=sanction_norm_procedural_metric_evidence_backfill`. Corrida de cierre (`20260224T013817Z`): ejecución ampliada `observations_with_responsibility_total=7`, `evidence_inserted=11`, `by_role={approve:7, propose:4, enforce:2}`; procedimental `metrics_scanned_total=6`, `metrics_with_responsibility_total=6`, `evidence_inserted=12`, `source_record_pk_resolved_total=12`; status lane `ok` con `responsibility_evidence_items_total=62`, `responsibility_evidence_items_execution_total=25`, `responsibilities_with_execution_evidence_total=11/15`, `responsibility_execution_coverage_pct=0.733333`, `responsibility_evidence_item_execution_share_pct=0.403226`; cola `seed->non-seed` se mantiene cerrada (`queue_rows_total=0`), tests `just parl-test-sanction-norms-seed` (`Ran 23`) + `just parl-test-liberty-restrictions` (`Ran 100`, `OK (skipped=1)`) y `PRAGMA foreign_key_check` sin violaciones. Evidencia: `docs/etl/sprints/AI-OPS-165/reports/sanction-norms-execution-procedural-evidence-expansion.md`, `docs/etl/sprints/AI-OPS-165/evidence/sanction_norms_execution_evidence_backfill_20260224T013817Z.json`, `docs/etl/sprints/AI-OPS-165/evidence/sanction_norms_procedural_metric_evidence_backfill_20260224T013817Z.json`, `docs/etl/sprints/AI-OPS-165/evidence/sanction_norms_seed_status_20260224T013817Z.json`, `docs/etl/sprints/AI-OPS-165/evidence/sanction_norms_seed_source_record_upgrade_queue_20260224T013817Z.json`, `docs/etl/sprints/AI-OPS-165/evidence/sqlite_fk_check_20260224T013817Z.txt`, `docs/etl/sprints/AI-OPS-165/evidence/just_parl_test_sanction_norms_seed_20260224T013817Z.txt`, `docs/etl/sprints/AI-OPS-165/evidence/just_parl_test_liberty_restrictions_20260224T013817Z.txt`.
- AI-OPS-166 cierra la misma fila `Responsabilidad por fragmento normativo` sobre el rol `delegate`: se añade lane reproducible de puente por lineage (`scripts/backfill_sanction_norms_execution_lineage_evidence.py`) y se integra su señal en el KPI de ejecución (`report_sanction_norms_seed_status.py` cuenta `record_kind=sanction_norm_execution_lineage_bridge_backfill`). Corrida de cierre (`20260224T014904Z`): backfill `responsibilities_scanned_total=2`, `responsibilities_with_lineage_match_total=2`, `observation_links_total=4`, `evidence_inserted=4` (`shared_related_norm=3`, `delegate_to_observed_direct=1`); status lane `ok` con `responsibility_evidence_items_total=66`, `responsibility_evidence_items_execution_total=29`, `responsibilities_with_execution_evidence_total=13/15`, `responsibility_execution_coverage_pct=0.866667`, cierre de `delegate=2/2` y gap residual `enforce=2/4`; cola `seed->non-seed` cerrada (`queue_rows_total=0`), tests `just parl-test-sanction-norms-seed` (`Ran 25`) + `just parl-test-liberty-restrictions` (`Ran 100`, `OK (skipped=1)`) y `PRAGMA foreign_key_check` sin violaciones. Evidencia: `docs/etl/sprints/AI-OPS-166/reports/sanction-norms-execution-lineage-evidence-bridge.md`, `docs/etl/sprints/AI-OPS-166/evidence/sanction_norms_execution_lineage_evidence_backfill_20260224T014904Z.json`, `docs/etl/sprints/AI-OPS-166/evidence/sanction_norms_seed_status_20260224T014904Z.json`, `docs/etl/sprints/AI-OPS-166/evidence/sanction_norms_seed_source_record_upgrade_queue_20260224T014904Z.json`, `docs/etl/sprints/AI-OPS-166/evidence/sqlite_fk_check_20260224T014904Z.txt`, `docs/etl/sprints/AI-OPS-166/evidence/just_parl_test_sanction_norms_seed_20260224T014904Z.txt`, `docs/etl/sprints/AI-OPS-166/evidence/just_parl_test_liberty_restrictions_20260224T014904Z.txt`.
- AI-OPS-167 ejecuta el siguiente lote operativo de la misma fila `Responsabilidad por fragmento normativo` y cierra cobertura de ejecución por rol (`enforce=4/4`, total `15/15`): corrida `20260224T015316Z` con `roles=enforce` en lanes de lineage+ejecución+procedimental. Resultado: lineage `evidence_inserted=7`, ejecución directa `evidence_updated=2`, procedimental `evidence_inserted=0` (sin match `enforce` en métricas piloto), status `ok` con `responsibility_evidence_items_total=73`, `responsibility_evidence_items_execution_total=36`, `responsibility_execution_coverage_pct=1.0`; cola `seed->non-seed` cerrada (`queue_rows_total=0`), tests `just parl-test-sanction-norms-seed` (`Ran 25`) + `just parl-test-liberty-restrictions` (`Ran 100`, `OK (skipped=1)`) y `PRAGMA foreign_key_check` sin violaciones. Evidencia: `docs/etl/sprints/AI-OPS-167/reports/sanction-norms-enforce-execution-closure.md`, `docs/etl/sprints/AI-OPS-167/evidence/sanction_norms_execution_lineage_evidence_backfill_20260224T015316Z.json`, `docs/etl/sprints/AI-OPS-167/evidence/sanction_norms_execution_evidence_backfill_20260224T015316Z.json`, `docs/etl/sprints/AI-OPS-167/evidence/sanction_norms_procedural_metric_evidence_backfill_20260224T015316Z.json`, `docs/etl/sprints/AI-OPS-167/evidence/sanction_norms_seed_status_20260224T015316Z.json`, `docs/etl/sprints/AI-OPS-167/evidence/sanction_norms_seed_source_record_upgrade_queue_20260224T015316Z.json`, `docs/etl/sprints/AI-OPS-167/evidence/sqlite_fk_check_20260224T015316Z.txt`, `docs/etl/sprints/AI-OPS-167/evidence/just_parl_test_sanction_norms_seed_20260224T015316Z.txt`, `docs/etl/sprints/AI-OPS-167/evidence/just_parl_test_liberty_restrictions_20260224T015316Z.txt`.
- AI-OPS-168 ejecuta el lote pendiente de cobertura parlamentaria/voto en la misma fila `Responsabilidad por fragmento normativo` con roles completos (`approve,propose,enforce,delegate`) en `backfill_sanction_norms_parliamentary_evidence.py` y `backfill_sanction_norms_vote_evidence.py`: corrida `20260224T091523Z` con parlamentario `candidate_matches_total=2`, `evidence_updated=2` y voto `candidate_matches_total=26`, `evidence_inserted=5`, `evidence_updated=52`. Status `ok` con `responsibility_evidence_items_total=78`, `responsibilities_with_parliamentary_evidence_total=9/15`, `responsibilities_with_parliamentary_vote_evidence_total=7/15`, `responsibilities_with_execution_evidence_total=15/15`, cola `seed->non-seed` vacía (`queue_rows_total=0`) y `PRAGMA foreign_key_check` limpio; tests `just parl-test-sanction-norms-seed` (`Ran 25`) + `just parl-test-liberty-restrictions` (`Ran 100`, `OK (skipped=1)`). Evidencia: `docs/etl/sprints/AI-OPS-168/evidence/sanction_norms_parliamentary_evidence_backfill_20260224T091523Z.json`, `docs/etl/sprints/AI-OPS-168/evidence/sanction_norms_vote_evidence_backfill_20260224T091523Z.json`, `docs/etl/sprints/AI-OPS-168/evidence/sanction_norms_seed_status_20260224T091523Z.json`, `docs/etl/sprints/AI-OPS-168/evidence/sanction_norms_seed_source_record_upgrade_queue_20260224T091523Z.json`, `docs/etl/sprints/AI-OPS-168/evidence/sqlite_fk_check_20260224T091523Z.txt`, `docs/etl/sprints/AI-OPS-168/evidence/just_parl_test_sanction_norms_seed_20260224T091523Z.txt`, `docs/etl/sprints/AI-OPS-168/evidence/just_parl_test_liberty_restrictions_20260224T091523Z.txt`.
- AI-OPS-169 amplía la misma fila `Responsabilidad por fragmento normativo` con puente de lineage conservador en voto (`scripts/backfill_sanction_norms_vote_evidence.py`): se incorporan reglas `lineage_target_to_vote_norm:desarrolla|modifica` y `lineage_shared_deroga_related_norm` para mapear votos de normas relacionadas sin romper trazabilidad (`candidate_boe_id`, `bridge_kind`, `bridge_from_boe_id`, `bridge_anchor_related_*` en payload). Corrida `20260224T092206Z`: parlamentario `candidate_matches_total=2`, `evidence_updated=2`; voto `candidate_matches_total=69`, `evidence_inserted=17`, `evidence_updated=102` (`congreso_vote=30`, `senado_vote=89`). Status `ok` con `responsibility_evidence_items_total=95`, `responsibilities_with_parliamentary_evidence_total=11/15`, `responsibilities_with_parliamentary_vote_evidence_total=11/15`, `responsibility_parliamentary_coverage_pct=0.733333`, `responsibility_parliamentary_vote_coverage_pct=0.733333`, ejecución estable `15/15`, cola vacía (`queue_rows_total=0`) y `PRAGMA foreign_key_check` limpio; tests `just parl-test-sanction-norms-seed` (`Ran 26`) + `just parl-test-liberty-restrictions` (`Ran 100`, `OK (skipped=1)`). Evidencia: `docs/etl/sprints/AI-OPS-169/reports/sanction-norms-vote-lineage-bridge-coverage-expansion.md`, `docs/etl/sprints/AI-OPS-169/evidence/sanction_norms_vote_evidence_backfill_20260224T092206Z.json`, `docs/etl/sprints/AI-OPS-169/evidence/sanction_norms_seed_status_20260224T092206Z.json`, `docs/etl/sprints/AI-OPS-169/evidence/sanction_norms_seed_source_record_upgrade_queue_20260224T092206Z.json`, `docs/etl/sprints/AI-OPS-169/evidence/sqlite_fk_check_20260224T092206Z.txt`, `docs/etl/sprints/AI-OPS-169/evidence/just_parl_test_sanction_norms_seed_20260224T092206Z.txt`, `docs/etl/sprints/AI-OPS-169/evidence/just_parl_test_liberty_restrictions_20260224T092206Z.txt`.
- AI-OPS-170 mantiene la misma fila `Responsabilidad por fragmento normativo` y añade un bridge conservador mixto en voto (`scripts/backfill_sanction_norms_vote_evidence.py`: `lineage_shared_related_norm_mixed_relation`) para casos con norma ancla compartida y relaciones cruzadas (`deroga` vs `desarrolla|modifica`), con regresión dedicada en `tests/test_backfill_sanction_norms_vote_evidence.py`. Corrida `20260224T093142Z`: parlamentario `candidate_matches_total=2`, `evidence_updated=2`; voto `candidate_matches_total=71`, `evidence_inserted=2`, `evidence_updated=121`, incluyendo método nuevo `title_rule:rdl_6_2015_trafico_seguridad_vial+lineage_shared_related_norm_mixed_relation` (`2` matches). Status `ok` con `responsibility_evidence_items_total=97`, `responsibilities_with_parliamentary_evidence_total=13/15`, `responsibilities_with_parliamentary_vote_evidence_total=13/15`, `responsibility_parliamentary_coverage_pct=0.866667`, `responsibility_parliamentary_vote_coverage_pct=0.866667`, ejecución estable `15/15`, cola vacía (`queue_rows_total=0`) y `PRAGMA foreign_key_check` limpio; tests `just parl-test-sanction-norms-seed` (`Ran 27`) + `just parl-test-liberty-restrictions` (`Ran 100`, `OK (skipped=1)`). Gap residual acotado a `BOE-A-2000-15060` (`approve/enforce`). Evidencia: `docs/etl/sprints/AI-OPS-170/reports/sanction-norms-vote-lineage-mixed-bridge-closure.md`, `docs/etl/sprints/AI-OPS-170/evidence/sanction_norms_vote_evidence_backfill_20260224T093142Z.json`, `docs/etl/sprints/AI-OPS-170/evidence/sanction_norms_seed_status_20260224T093142Z.json`, `docs/etl/sprints/AI-OPS-170/evidence/sanction_norms_seed_source_record_upgrade_queue_20260224T093142Z.json`, `docs/etl/sprints/AI-OPS-170/evidence/sqlite_fk_check_20260224T093142Z.txt`, `docs/etl/sprints/AI-OPS-170/evidence/just_parl_test_sanction_norms_seed_20260224T093142Z.txt`, `docs/etl/sprints/AI-OPS-170/evidence/just_parl_test_liberty_restrictions_20260224T093142Z.txt`.
- AI-OPS-171 mantiene la misma fila `Responsabilidad por fragmento normativo` y cierra la brecha parlamentaria con fallback conservador de título en `scripts/backfill_sanction_norms_parliamentary_evidence.py`: `title_rule:lisos_orden_social` para `BOE-A-2000-15060` (sin depender de token `BOE-A-*` en `text_excerpt`), con observabilidad nueva (`docs_with_title_rule_match_total`, `by_method`) y regresión en `tests/test_backfill_sanction_norms_parliamentary_evidence.py`. Corrida `20260224T094041Z`: parlamentario `candidate_matches_total=3`, `evidence_inserted=2`, `evidence_updated=2`, `docs_with_title_rule_match_total=1` (`title_rule:lisos_orden_social=1`); voto `candidate_matches_total=71`, `evidence_inserted=0`, `evidence_updated=123`. Status `ok` con `responsibility_evidence_items_total=99`, `responsibilities_with_parliamentary_evidence_total=15/15`, `responsibilities_with_parliamentary_vote_evidence_total=13/15`, `responsibility_parliamentary_coverage_pct=1.0`, `responsibility_parliamentary_vote_coverage_pct=0.866667`, ejecución estable `15/15`, cola vacía (`queue_rows_total=0`) y `PRAGMA foreign_key_check` limpio; tests `just parl-test-sanction-norms-seed` (`Ran 28`) + `just parl-test-liberty-restrictions` (`Ran 100`, `OK (skipped=1)`). Gap residual queda acotado a voto en `BOE-A-2000-15060` (`approve/enforce`, `has_parliamentary_any=1`, `has_vote=0`). Evidencia: `docs/etl/sprints/AI-OPS-171/reports/sanction-norms-parliamentary-title-rule-closure.md`, `docs/etl/sprints/AI-OPS-171/evidence/sanction_norms_parliamentary_evidence_backfill_20260224T094041Z.json`, `docs/etl/sprints/AI-OPS-171/evidence/sanction_norms_vote_evidence_backfill_20260224T094041Z.json`, `docs/etl/sprints/AI-OPS-171/evidence/sanction_norms_seed_status_20260224T094041Z.json`, `docs/etl/sprints/AI-OPS-171/evidence/responsibility_parliamentary_vote_gap_20260224T094041Z.csv`, `docs/etl/sprints/AI-OPS-171/evidence/sqlite_fk_check_20260224T094041Z.txt`, `docs/etl/sprints/AI-OPS-171/evidence/just_parl_test_sanction_norms_seed_20260224T094041Z.txt`, `docs/etl/sprints/AI-OPS-171/evidence/just_parl_test_liberty_restrictions_20260224T094041Z.txt`.
- AI-OPS-172 mantiene la misma fila `Responsabilidad por fragmento normativo` y añade diagnóstico reproducible del gap residual de voto para evitar reintentos ciegos sin nuevo lever: se crea `scripts/report_sanction_norms_vote_gap_diagnosis.py` (con lane `just parl-report-sanction-norms-vote-gap-diagnosis`) y regresión en `tests/test_report_sanction_norms_vote_gap_diagnosis.py`. Corrida `20260224T094824Z`: `responsibilities_missing_vote_total=2` (ambas `BOE-A-2000-15060`, roles `approve/enforce`), sin candidatos por título ni por docs de votación (`missing_with_vote_title_candidates_total=0`, `missing_with_vote_doc_candidates_total=0`) y causa unívoca `no_vote_event_link_for_parliamentary_initiatives` para iniciativa `senado:leg5:exp:621/000026`. Status del diagnóstico `degraded` con backlog visible en CSV (`2` filas), sin degradar los gates de ejecución/parlamentario ya cerrados (`15/15`). Evidencia: `docs/etl/sprints/AI-OPS-172/reports/sanction-norms-vote-gap-diagnosis.md`, `docs/etl/sprints/AI-OPS-172/evidence/sanction_norms_vote_gap_diagnosis_20260224T094824Z.json`, `docs/etl/sprints/AI-OPS-172/evidence/responsibility_vote_gap_20260224T094824Z.csv`, `docs/etl/sprints/AI-OPS-172/evidence/sanction_norms_seed_status_20260224T094824Z.json`, `docs/etl/sprints/AI-OPS-172/evidence/just_parl_report_sanction_norms_vote_gap_diagnosis_20260224T094824Z.txt`, `docs/etl/sprints/AI-OPS-172/evidence/just_parl_test_liberty_restrictions_20260224T094824Z.txt`.
- AI-OPS-173 ejecuta el siguiente lote controlable de `Scenario A` sobre `Ciudadanía/Garantías` (fila pendiente de fuentes oficiales de revisión): se amplía `etl/data/seeds/sanction_data_catalog_seed_v1.json` con cuatro fuentes oficiales (`TEAR`, `TEAC`, `contencioso`, `defensor`) y se añade `scripts/report_sanction_procedural_official_review_status.py` con export JSON+CSV de cola accionable por fuente (`missing_source/no_metrics/no_source_record_chain`). `justfile` incorpora lane nuevo `parl-report-sanction-procedural-official-review-status`, integración en `parl-sanction-data-catalog-pipeline` y test dedicado `tests/test_report_sanction_procedural_official_review_status.py` (incluido en `parl-test-sanction-data-catalog`). Corrida `20260224T095551Z`: validación/import catálogo `ok` (`volume_sources_total=9`, `volume_sources_inserted=4`), estado lane oficial `degraded` con cobertura de seed `4/4` (`official_review_source_seed_coverage_pct=1.0`) y cobertura de métricas `0/4` (`official_review_source_metric_coverage_pct=0.0`), cola accionable `4` filas (`next_action=ingest_official_review_procedural_metrics`). Tests en verde: `just parl-test-sanction-data-catalog` (`Ran 8`) y `just parl-test-sanction-volume-pilot` (`Ran 5`). Evidencia: `docs/etl/sprints/AI-OPS-173/reports/sanction-procedural-official-review-lane-bootstrap.md`, `docs/etl/sprints/AI-OPS-173/evidence/sanction_data_catalog_validate_20260224T095551Z.json`, `docs/etl/sprints/AI-OPS-173/evidence/sanction_data_catalog_import_20260224T095551Z.json`, `docs/etl/sprints/AI-OPS-173/evidence/sanction_procedural_official_review_status_20260224T095551Z.json`, `docs/etl/sprints/AI-OPS-173/exports/sanction_procedural_official_review_queue_20260224T095551Z.csv`, `docs/etl/sprints/AI-OPS-173/evidence/just_parl_test_sanction_data_catalog_20260224T095551Z.txt`, `docs/etl/sprints/AI-OPS-173/evidence/just_parl_test_sanction_volume_pilot_20260224T095551Z.txt`.
- AI-OPS-174 continúa `Scenario A` cerrando el loop operativo `cola -> apply` para métricas oficiales procedimentales: se añade `scripts/apply_sanction_procedural_official_review_metrics.py` con validación estricta de filas, chequeo de FKs, autoresolución/autocreación de `source_record_pk` y upsert idempotente por `metric_key`; `justfile` agrega lanes `parl-apply-sanction-procedural-official-review-metrics` y `...-dry-run`; `parl-test-sanction-data-catalog` incorpora `tests/test_apply_sanction_procedural_official_review_metrics.py`. Corrida `20260224T100608Z`: dry-run estricto sobre 4 fuentes (`rows_seen=4`, `rows_ready=4`, `skipped_*=0`, `source_record_pk_would_create=4`) con tests en verde (`parl-test-sanction-data-catalog` `Ran 10`, unittest focal `Ran 2`). Estado del lane oficial se mantiene `degraded` (`official_review_source_metric_coverage_pct=0.0`, cola `4` en `no_metrics`) porque no se cargaron aún métricas oficiales validadas. Evidencia: `docs/etl/sprints/AI-OPS-174/reports/sanction-procedural-official-review-apply-loop-bootstrap.md`, `docs/etl/sprints/AI-OPS-174/evidence/sanction_procedural_official_review_apply_20260224T100608Z.json`, `docs/etl/sprints/AI-OPS-174/evidence/sanction_procedural_official_review_status_20260224T100608Z.json`, `docs/etl/sprints/AI-OPS-174/evidence/sanction_procedural_official_review_queue_20260224T100608Z.csv`, `docs/etl/sprints/AI-OPS-174/evidence/just_parl_apply_sanction_procedural_official_review_metrics_dry_run_20260224T100608Z.txt`, `docs/etl/sprints/AI-OPS-174/evidence/just_parl_test_sanction_data_catalog_20260224T100608Z.txt`.
- AI-OPS-175 continúa `Scenario A` reduciendo fricción de captura para la cola oficial: se añade `scripts/export_sanction_procedural_official_review_apply_template.py` para generar template CSV prellenado (`4 fuentes x 3 KPIs`) compatible con `parl-apply-sanction-procedural-official-review-metrics`, incluyendo `metric_key`, `source_record_id`, `source_url` y metadatos de fórmula/target; soporta `--only-missing`. `justfile` agrega lane `parl-export-sanction-procedural-official-review-apply-template` y `parl-test-sanction-data-catalog` incorpora `tests/test_export_sanction_procedural_official_review_apply_template.py`. Corrida `20260224T100945Z`: export `ok` con `sources_seeded_total=4`, `kpis_total=3`, `rows_emitted_total=12`, `rows_skipped_existing_total=0`; tests en verde (`parl-test-sanction-data-catalog` `Ran 12`, unittest focal `Ran 2`). Estado lane oficial permanece `degraded` (`official_review_source_metric_coverage_pct=0.0`) hasta aplicar datos oficiales validados. Evidencia: `docs/etl/sprints/AI-OPS-175/reports/sanction-procedural-official-review-template-export-lane.md`, `docs/etl/sprints/AI-OPS-175/evidence/sanction_procedural_official_review_apply_template_20260224T100945Z.json`, `docs/etl/sprints/AI-OPS-175/exports/sanction_procedural_official_review_apply_template_20260224T100945Z.csv`, `docs/etl/sprints/AI-OPS-175/evidence/sanction_procedural_official_review_status_20260224T100945Z.json`, `docs/etl/sprints/AI-OPS-175/evidence/just_parl_export_sanction_procedural_official_review_apply_template_20260224T100945Z.txt`, `docs/etl/sprints/AI-OPS-175/evidence/just_parl_test_sanction_data_catalog_20260224T100945Z.txt`.
- AI-OPS-176 continúa `Scenario A` añadiendo gate de calidad previo a apply para no cargar CSV incompleto/inconsistente: se añade `scripts/report_sanction_procedural_official_review_apply_readiness.py` (validación de headers requeridos, IDs contra DB, coerción numérica/rangos, consistencia de ratio por KPI y cola accionable por fila/razón), con lane `just parl-check-sanction-procedural-official-review-apply-readiness` y soporte `strict`. `parl-test-sanction-data-catalog` incorpora `tests/test_report_sanction_procedural_official_review_apply_readiness.py`. Corrida `20260224T101432Z`: sobre template de captura (`AI-OPS-175`) reporta `status=degraded` con `rows_seen=12`, `rows_ready=0`, `rows_blocked=12` (`missing_required_field=12`, `missing_ratio_components=8`) + cola CSV; sobre fixture completo (`AI-OPS-174`) en strict reporta `status=ok` con `rows_ready=4/4` y `rows_blocked=0`. Tests en verde (`parl-test-sanction-data-catalog` `Ran 15`, unittest focal `Ran 3`). Estado lane oficial de métricas sigue `degraded` (`official_review_source_metric_coverage_pct=0.0`) hasta aplicar datos oficiales validados. Evidencia: `docs/etl/sprints/AI-OPS-176/reports/sanction-procedural-official-review-apply-readiness-gate.md`, `docs/etl/sprints/AI-OPS-176/evidence/sanction_procedural_official_review_apply_readiness_template_20260224T101432Z.json`, `docs/etl/sprints/AI-OPS-176/exports/sanction_procedural_official_review_apply_readiness_template_queue_20260224T101432Z.csv`, `docs/etl/sprints/AI-OPS-176/evidence/sanction_procedural_official_review_apply_readiness_fixture_20260224T101432Z.json`, `docs/etl/sprints/AI-OPS-176/evidence/sanction_procedural_official_review_status_20260224T101432Z.json`, `docs/etl/sprints/AI-OPS-176/evidence/just_parl_check_sanction_procedural_official_review_apply_readiness_template_20260224T101432Z.txt`, `docs/etl/sprints/AI-OPS-176/evidence/just_parl_check_sanction_procedural_official_review_apply_readiness_fixture_20260224T101432Z.txt`.
- AI-OPS-177 continúa `Scenario A` consolidando un ciclo único y estricto de carga (`readiness -> apply -> status`) para métricas oficiales: se añade `scripts/run_sanction_procedural_official_review_apply_cycle.py` y se migran las lanes `just parl-apply-sanction-procedural-official-review-metrics*` para usar este orquestador en lugar de apply directo. El ciclo bloquea con `exit_code=4` cuando readiness no está en `ok` (`--strict-readiness`) y emite JSON consolidado de before/apply/after. Corrida `20260224T101854Z`: ruta template vacío bloqueada como esperado (`exit_code=4`, readiness `degraded`, apply `skipped=readiness_not_ok`); ruta fixture completo en dry-run pasa (`readiness=ok`, `rows_ready=4`, `rows_upserted=0`, `source_record_pk_would_create=4`). Tests en verde (`parl-test-sanction-data-catalog` `Ran 17`, unittest ciclo `Ran 2`). Estado lane oficial en staging se mantiene `degraded` (`official_review_source_metric_coverage_pct=0.0`) hasta aplicar datos oficiales reales. Evidencia: `docs/etl/sprints/AI-OPS-177/reports/sanction-procedural-official-review-apply-cycle-gate.md`, `docs/etl/sprints/AI-OPS-177/evidence/sanction_procedural_official_review_apply_cycle_template_exit_20260224T101854Z.json`, `docs/etl/sprints/AI-OPS-177/evidence/sanction_procedural_official_review_apply_cycle_template_20260224T101854Z.json`, `docs/etl/sprints/AI-OPS-177/evidence/sanction_procedural_official_review_apply_cycle_fixture_20260224T101854Z.json`, `docs/etl/sprints/AI-OPS-177/evidence/just_parl_apply_sanction_procedural_official_review_metrics_dry_run_template_20260224T101854Z.txt`, `docs/etl/sprints/AI-OPS-177/evidence/just_parl_apply_sanction_procedural_official_review_metrics_dry_run_fixture_20260224T101854Z.txt`, `docs/etl/sprints/AI-OPS-177/evidence/just_parl_test_sanction_data_catalog_20260224T101854Z.txt`.
- AI-OPS-178 continúa `Scenario A` cerrando el gap operativo de carga incremental desde plantilla: se añade `scripts/prepare_sanction_procedural_official_review_apply_input.py` para filtrar filas vacías/sin metadatos mínimos y exportar `prepared.csv` + cola `rejected.csv` con `_csv_line/_reason`, con soporte `--strict` (exit `4` cuando `status!=ok`). `justfile` agrega lane `parl-prepare-sanction-procedural-official-review-apply-input` y variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PREPARE_*`; `parl-test-sanction-data-catalog` incorpora `tests/test_prepare_sanction_procedural_official_review_apply_input.py`. Corrida `20260224T102145Z`: template `degraded` (`rows_seen=12`, `rows_kept=0`, `rows_rejected=12`) y fixture `ok` (`rows_seen=4`, `rows_kept=4`, `rows_rejected=0`). Estado lane oficial sigue `degraded` (`official_review_source_metric_coverage_pct=0.0`) hasta aplicar datos oficiales reales. Evidencia: `docs/etl/sprints/AI-OPS-178/reports/sanction-procedural-official-review-apply-input-prepare-lane.md`, `docs/etl/sprints/AI-OPS-178/evidence/sanction_procedural_official_review_apply_prepare_template_20260224T102145Z.json`, `docs/etl/sprints/AI-OPS-178/evidence/sanction_procedural_official_review_apply_prepare_fixture_20260224T102145Z.json`, `docs/etl/sprints/AI-OPS-178/exports/sanction_procedural_official_review_apply_prepared_template_20260224T102145Z.csv`, `docs/etl/sprints/AI-OPS-178/exports/sanction_procedural_official_review_apply_rejected_template_20260224T102145Z.csv`, `docs/etl/sprints/AI-OPS-178/exports/sanction_procedural_official_review_apply_prepared_fixture_20260224T102145Z.csv`, `docs/etl/sprints/AI-OPS-178/exports/sanction_procedural_official_review_apply_rejected_fixture_20260224T102145Z.csv`.
- AI-OPS-179 continúa `Scenario A` unificando en un solo lane `prepare -> readiness -> apply -> status`: se añade `scripts/run_sanction_procedural_official_review_prepare_apply_cycle.py` y refactor reusable en `scripts/run_sanction_procedural_official_review_apply_cycle.py` (`run_cycle(...)`). `justfile` incorpora `parl-run-sanction-procedural-official-review-prepare-apply-cycle` y `...-dry-run` con variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PREPARE_CYCLE_*`; `parl-test-sanction-data-catalog` sube a `Ran 22` con `tests/test_run_sanction_procedural_official_review_prepare_apply_cycle.py`. Corrida `20260224T102733Z`: template vacío bloqueado en `strict-prepare` (`exit=4`, `prepare=status=degraded`, `rows_kept=0/12`, `cycle.skip_reason=prepare_not_ok`) y fixture completo en dry-run pasa (`prepare=status=ok`, `readiness=status=ok`, `rows_ready=4`, `rows_upserted=0`, `source_record_pk_would_create=4`). Estado lane oficial mantiene `degraded` (`official_review_source_metric_coverage_pct=0.0`) al no aplicar carga real en el slice. Evidencia: `docs/etl/sprints/AI-OPS-179/reports/sanction-procedural-official-review-prepare-apply-cycle-lane.md`, `docs/etl/sprints/AI-OPS-179/evidence/sanction_procedural_official_review_prepare_apply_cycle_template_exit_20260224T102733Z.json`, `docs/etl/sprints/AI-OPS-179/evidence/sanction_procedural_official_review_prepare_apply_cycle_template_20260224T102733Z.json`, `docs/etl/sprints/AI-OPS-179/evidence/sanction_procedural_official_review_prepare_apply_cycle_fixture_20260224T102733Z.json`, `docs/etl/sprints/AI-OPS-179/evidence/just_parl_run_sanction_procedural_official_review_prepare_apply_cycle_dry_run_template_20260224T102733Z.txt`, `docs/etl/sprints/AI-OPS-179/evidence/just_parl_run_sanction_procedural_official_review_prepare_apply_cycle_dry_run_fixture_20260224T102733Z.txt`, `docs/etl/sprints/AI-OPS-179/evidence/just_parl_test_sanction_data_catalog_20260224T102733Z.txt`.
- AI-OPS-180 continúa `Scenario A` endureciendo auditabilidad en la lane oficial: `sanction_procedural_metrics` incorpora `evidence_date/evidence_quote` (esquema + compat aditiva), y el loop `prepare/readiness/apply` exige ambos campos por fila con validación explícita (`evidence_date` `YYYY-MM-DD`, `evidence_quote` mínima). `scripts/report_sanction_procedural_official_review_status.py` añade cobertura de evidencia (`official_review_metric_rows_with_evidence_total`, `official_review_metric_rows_missing_evidence_total`, `official_review_evidence_coverage_pct`) y estado de cola `no_evidence_chain` con `next_action=backfill_evidence_date_quote_for_official_review_metrics`. Corrida `20260224T104009Z`: template actualizado (`rows_emitted_total=12`) bloqueado en strict (`exit=4`, `rows_kept=0/12`, `skip_reason=prepare_not_ok`), fixture con evidencia pasa en dry-run (`prepare=ok`, `readiness=ok`, `rows_ready=4`, `rows_upserted=0`, `source_record_pk_would_create=4`), y suite `parl-test-sanction-data-catalog` queda en verde (`Ran 23`). Estado lane oficial en staging se mantiene `degraded` por falta de carga oficial real (`official_review_source_metric_coverage_pct=0.0`, `official_review_evidence_coverage_pct=0.0`). Evidencia: `docs/etl/sprints/AI-OPS-180/reports/sanction-procedural-official-review-evidence-traceability-gate.md`, `docs/etl/sprints/AI-OPS-180/evidence/sanction_procedural_official_review_apply_template_20260224T104009Z.json`, `docs/etl/sprints/AI-OPS-180/evidence/sanction_procedural_official_review_prepare_apply_cycle_template_exit_20260224T104009Z.json`, `docs/etl/sprints/AI-OPS-180/evidence/sanction_procedural_official_review_prepare_apply_cycle_fixture_20260224T104009Z.json`, `docs/etl/sprints/AI-OPS-180/evidence/sanction_procedural_official_review_status_20260224T104009Z.json`, `docs/etl/sprints/AI-OPS-180/evidence/just_parl_test_sanction_data_catalog_20260224T104009Z.txt`.
- AI-OPS-181 continúa `Scenario A` cerrando la fricción operativa de captura en `Ciudadanía/Garantías`: se añade `scripts/export_sanction_procedural_official_review_apply_from_raw_metrics.py` para transformar una fila raw por fuente (`recurso_presentado_count`, `recurso_estimado_count`, `anulaciones_formales_count`, `resolution_delay_p90_days`) en `3` filas `apply-ready` (`kpi:recurso_estimation_rate`, `kpi:formal_annulment_rate`, `kpi:resolution_delay_p90_days`) con `metric_key`, `source_record_id` por KPI y `raw_row_key` de trazabilidad. El transformador añade validación estricta previa (headers, `evidence_date` `YYYY-MM-DD`, cita mínima, numéricos válidos, `presentados>0`, `p90>0`, componentes no negativos, ratios en `[0,1]`, no duplicar `metric_key`) y exporta cola de rechazo reproducible (`_csv_line`, `_reason`, `_priority`). `justfile` incorpora lane `parl-export-sanction-procedural-official-review-apply-from-raw` + variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_RAW_*`; `parl-test-sanction-data-catalog` sube a `Ran 26` con test nuevo `tests/test_export_sanction_procedural_official_review_apply_from_raw_metrics.py`. Corrida `20260224T104837Z`: transformación `status=ok` (`rows_seen=4`, `rows_emitted=4`, `kpi_rows_emitted=12`, `rows_rejected=0`), readiness `status=ok` (`rows_ready=12/12`, `rows_blocked=0`) y ciclo unificado en dry-run `prepare=ok`, `readiness=ok`, `source_record_pk_would_create=12`. Estado lane oficial en staging sigue `degraded` (`official_review_procedural_metrics_total=0`) al no aplicar carga real en este slice. Evidencia: `docs/etl/sprints/AI-OPS-181/reports/sanction-procedural-official-review-raw-to-kpi-transformer.md`, `docs/etl/sprints/AI-OPS-181/evidence/sanction_procedural_official_review_apply_from_raw_20260224T104837Z.json`, `docs/etl/sprints/AI-OPS-181/evidence/sanction_procedural_official_review_apply_readiness_from_raw_20260224T104837Z.json`, `docs/etl/sprints/AI-OPS-181/evidence/sanction_procedural_official_review_prepare_apply_cycle_from_raw_20260224T104837Z.json`, `docs/etl/sprints/AI-OPS-181/evidence/sanction_procedural_official_review_status_20260224T104837Z.json`, `docs/etl/sprints/AI-OPS-181/evidence/just_parl_test_sanction_data_catalog_20260224T104837Z.txt`.
- AI-OPS-182 continúa `Scenario A` cerrando el loop operativo en un solo lane desde captura raw: se añade `scripts/run_sanction_procedural_official_review_raw_prepare_apply_cycle.py` para ejecutar `raw transform -> prepare -> readiness -> apply -> status` con gating estricto por etapa (`--strict-raw`, `--strict-prepare`, `--strict-readiness`) y payload consolidado auditable (`raw`, `prepare`, `cycle`). `justfile` incorpora lanes `parl-run-sanction-procedural-official-review-raw-prepare-apply-cycle` + `...-dry-run` y variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_RAW_CYCLE_*`; `parl-test-sanction-data-catalog` sube a `Ran 28` con `tests/test_run_sanction_procedural_official_review_raw_prepare_apply_cycle.py`. Corrida `20260224T105455Z`: pass-path dry-run sobre `4` fuentes (`raw.status=ok`, `rows_emitted=4`, `kpi_rows_emitted=12`, `prepare=ok`, `readiness=ok`, `source_record_pk_would_create=12`) y fail-path reproducible (`exit=4`) cuando raw no cumple contrato (`raw.status=degraded`, `rows_rejected=1`, `cycle.apply.skip_reason=raw_not_ok`). Estado lane oficial en staging se mantiene `degraded` (`official_review_procedural_metrics_total=0`) por no aplicar carga real en el slice. Evidencia: `docs/etl/sprints/AI-OPS-182/reports/sanction-procedural-official-review-raw-prepare-apply-cycle-lane.md`, `docs/etl/sprints/AI-OPS-182/evidence/sanction_procedural_official_review_raw_prepare_apply_cycle_20260224T105455Z.json`, `docs/etl/sprints/AI-OPS-182/evidence/sanction_procedural_official_review_raw_prepare_apply_cycle_bad_20260224T105455Z.json`, `docs/etl/sprints/AI-OPS-182/evidence/sanction_procedural_official_review_status_20260224T105455Z.json`, `docs/etl/sprints/AI-OPS-182/evidence/just_parl_run_sanction_procedural_official_review_raw_prepare_apply_cycle_dry_run_20260224T105455Z.txt`, `docs/etl/sprints/AI-OPS-182/evidence/just_parl_run_sanction_procedural_official_review_raw_prepare_apply_cycle_bad_exit_20260224T105455Z.txt`, `docs/etl/sprints/AI-OPS-182/evidence/just_parl_test_sanction_data_catalog_20260224T105455Z.txt`.
- AI-OPS-183 continúa `Scenario A` añadiendo punto de entrada raw reproducible por fuente/periodo: se incorpora `scripts/export_sanction_procedural_official_review_raw_template.py` para emitir template `1 fila por fuente oficial` con prefill de contexto (`source_url`, `source_label`, `organismo`, `source_id`, `source_record_id`, `expected_metrics`, `procedural_kpis_expected`, cobertura actual por periodo) y campos raw pendientes de captura (`recurso_presentado_count`, `recurso_estimado_count`, `anulaciones_formales_count`, `resolution_delay_p90_days`, `evidence_date`, `evidence_quote`). `justfile` incorpora lane `parl-export-sanction-procedural-official-review-raw-template` + variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_RAW_TEMPLATE_*`; `parl-test-sanction-data-catalog` sube a `Ran 30` con `tests/test_export_sanction_procedural_official_review_raw_template.py`. Corrida `20260224T105932Z`: template `status=ok` (`sources_expected=4`, `sources_seeded=4`, `rows_emitted=4`, `rows_skipped_fully_covered=0`) y gate estricto validado sobre template vacío (`parl-run-...raw-prepare-apply-cycle-dry-run`, `exit=4`, `raw.status=degraded`, `rows_emitted=0`, `rows_rejected=4`, `skip_reason=raw_not_ok`). Estado lane oficial en staging sigue `degraded` (`official_review_procedural_metrics_total=0`) por no aplicar carga real en el slice. Evidencia: `docs/etl/sprints/AI-OPS-183/reports/sanction-procedural-official-review-raw-template-lane.md`, `docs/etl/sprints/AI-OPS-183/evidence/sanction_procedural_official_review_raw_template_20260224T105932Z.json`, `docs/etl/sprints/AI-OPS-183/evidence/sanction_procedural_official_review_raw_prepare_apply_cycle_template_20260224T105932Z.json`, `docs/etl/sprints/AI-OPS-183/evidence/sanction_procedural_official_review_status_20260224T105932Z.json`, `docs/etl/sprints/AI-OPS-183/evidence/just_parl_export_sanction_procedural_official_review_raw_template_20260224T105932Z.txt`, `docs/etl/sprints/AI-OPS-183/evidence/just_parl_run_sanction_procedural_official_review_raw_prepare_apply_cycle_dry_run_template_exit_20260224T105932Z.txt`, `docs/etl/sprints/AI-OPS-183/evidence/just_parl_test_sanction_data_catalog_20260224T105932Z.txt`.
- AI-OPS-184 continúa `Scenario A` endureciendo el gate de progreso por completitud KPI y scope temporal: `scripts/report_sanction_procedural_official_review_status.py` añade filtros opcionales de periodo (`--period-date`, `--period-granularity`) y nuevo estado de cola `partial_kpi_coverage` para fuentes con señal parcial (`kpis_covered_total < kpis_expected_total`) aunque ya tengan filas. El reporte agrega métricas/checks de completitud (`official_review_kpis_expected_total`, `official_review_sources_with_all_kpis_total`, `official_review_sources_with_missing_kpis_total`, `official_review_missing_kpi_pairs_total`, `official_review_source_full_kpi_coverage_pct`, `official_review_all_seeded_have_all_kpis`) y la cola CSV incorpora `kpis_expected_total/kpis_missing_total`. `justfile` integra el scope temporal en `parl-report-sanction-procedural-official-review-status` vía `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_STATUS_PERIOD_DATE` y `..._PERIOD_GRANULARITY`; tests de status suben a `Ran 6` y `parl-test-sanction-data-catalog` a `Ran 32`. Corrida `20260224T110525Z`: staging con scope `2025-12-31/year` queda `degraded` (`sources_with_metrics=0`, `sources_with_all_kpis=0`, `kpis_expected_total=3`, `missing_kpi_pairs_total=12`); fixture contractual demuestra `partial_kpi_coverage` con una fuente en `2/3` KPIs y cadena `source_record/evidence` completa. Evidencia: `docs/etl/sprints/AI-OPS-184/reports/sanction-procedural-official-review-kpi-completeness-period-scope.md`, `docs/etl/sprints/AI-OPS-184/evidence/sanction_procedural_official_review_status_period_2025_20260224T110525Z.json`, `docs/etl/sprints/AI-OPS-184/evidence/sanction_procedural_official_review_status_period_2025_via_just_20260224T110525Z.json`, `docs/etl/sprints/AI-OPS-184/evidence/sanction_procedural_official_review_status_partial_kpi_fixture_20260224T110525Z.json`, `docs/etl/sprints/AI-OPS-184/evidence/just_parl_report_sanction_procedural_official_review_status_period_2025_20260224T110525Z.txt`, `docs/etl/sprints/AI-OPS-184/evidence/just_parl_test_sanction_data_catalog_20260224T110525Z.txt`.
- AI-OPS-185 continúa `Scenario A` añadiendo una cola operativa por par `fuente x KPI` para mover carga oficial con granularidad auditable: se incorpora `scripts/export_sanction_procedural_official_review_kpi_gap_queue.py`, que clasifica cada par en `missing_source`, `missing_metric`, `missing_source_record`, `missing_evidence` o `ready`, genera `queue_key` estable + `metric_key_expected`, y emite `priority/next_action` reproducibles por fila. Soporta scope temporal (`--period-date`, `--period-granularity`), `--include-ready`, `--queue-limit` y gate `--strict-empty`; `justfile` agrega lane `parl-export-sanction-procedural-official-review-kpi-gap-queue` con variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_KPI_GAP_*`, lo integra en `parl-sanction-data-catalog-pipeline`, y `parl-test-sanction-data-catalog` sube a `Ran 35` con `tests/test_export_sanction_procedural_official_review_kpi_gap_queue.py`. Corrida `20260224T111300Z`: staging en `2025-12-31/year` queda `degraded` con `expected_pairs_total=12`, `pairs_missing_metric_total=12`, `queue_rows_total=12`; fixture contractual mixto valida discriminación por par (`pairs_ready_total=1`, `pairs_missing_metric_total=9`, `pairs_missing_source_record_total=1`, `pairs_missing_evidence_total=1`). Evidencia: `docs/etl/sprints/AI-OPS-185/reports/sanction-procedural-official-review-kpi-gap-queue.md`, `docs/etl/sprints/AI-OPS-185/evidence/sanction_procedural_official_review_kpi_gap_queue_20260224T111300Z.json`, `docs/etl/sprints/AI-OPS-185/evidence/sanction_procedural_official_review_kpi_gap_queue_via_just_20260224T111300Z.json`, `docs/etl/sprints/AI-OPS-185/evidence/sanction_procedural_official_review_kpi_gap_queue_fixture_mixed_20260224T111300Z.json`, `docs/etl/sprints/AI-OPS-185/exports/sanction_procedural_official_review_kpi_gap_queue_20260224T111300Z.csv`, `docs/etl/sprints/AI-OPS-185/evidence/just_parl_export_sanction_procedural_official_review_kpi_gap_queue_20260224T111300Z.txt`, `docs/etl/sprints/AI-OPS-185/evidence/just_parl_test_sanction_data_catalog_20260224T111300Z.txt`.
- AI-OPS-186 continúa `Scenario A` cerrando la brecha operativa entre diagnóstico y carga: se incorpora `scripts/export_sanction_procedural_official_review_apply_from_kpi_gap_queue.py` para convertir la cola `fuente x KPI` en CSV `apply-ready` con trazabilidad de backlog (`queue_key`, `queue_status`, `queue_priority`, `queue_next_action`), filtros por estado (`--statuses`), scope temporal y gate `--strict-actionable`. El export prellena automáticamente filas con chain gaps (`missing_source_record`/`missing_evidence`) desde `sanction_procedural_metrics` y deja vacías solo las filas `missing_metric`. `justfile` agrega lane `parl-export-sanction-procedural-official-review-apply-from-kpi-gap-queue` + variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_APPLY_FROM_GAP_*`, lo integra en `parl-sanction-data-catalog-pipeline`, y `parl-test-sanction-data-catalog` sube a `Ran 38` con `tests/test_export_sanction_procedural_official_review_apply_from_kpi_gap_queue.py`. Corrida `20260224T112006Z`: staging (`2025-12-31/year`) exporta `12` filas (`rows_emitted_by_status={missing_metric:12}`); fixture contractual mixto valida prefill por estado (`rows=11`, `missing_metric=9`, `missing_source_record=1`, `missing_evidence=1`); pipeline integrado `just parl-sanction-data-catalog-pipeline` también pasa en verde con el lane nuevo. Evidencia: `docs/etl/sprints/AI-OPS-186/reports/sanction-procedural-official-review-apply-from-kpi-gap-queue.md`, `docs/etl/sprints/AI-OPS-186/evidence/sanction_procedural_official_review_apply_from_gap_queue_20260224T112006Z.json`, `docs/etl/sprints/AI-OPS-186/evidence/sanction_procedural_official_review_apply_from_gap_queue_via_just_20260224T112006Z.json`, `docs/etl/sprints/AI-OPS-186/evidence/sanction_procedural_official_review_apply_from_gap_queue_fixture_mixed_20260224T112006Z.json`, `docs/etl/sprints/AI-OPS-186/exports/sanction_procedural_official_review_apply_from_gap_queue_20260224T112006Z.csv`, `docs/etl/sprints/AI-OPS-186/exports/sanction_procedural_official_review_apply_from_gap_queue_via_just_20260224T112006Z.csv`, `docs/etl/sprints/AI-OPS-186/evidence/just_parl_export_sanction_procedural_official_review_apply_from_kpi_gap_queue_20260224T112006Z.txt`, `docs/etl/sprints/AI-OPS-186/evidence/just_parl_test_sanction_data_catalog_20260224T112006Z.txt`, `docs/etl/sprints/AI-OPS-186/evidence/just_parl_sanction_data_catalog_pipeline_20260224T112006Z.txt`.
- AI-OPS-187 continúa `Scenario A` automatizando cierre de chain gaps desde la cola KPI sin pasos manuales intermedios: se añade `scripts/run_sanction_procedural_official_review_apply_from_kpi_gap_cycle.py` para ejecutar `gap_export -> readiness -> apply -> status` en una sola corrida, con filtro por estado (`--statuses`, default `missing_source_record`), scope temporal y gate `--strict-actionable`. `justfile` incorpora lanes `parl-run-sanction-procedural-official-review-apply-from-kpi-gap-cycle` + `...-dry-run` y variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_GAP_CYCLE_*`; `parl-sanction-data-catalog-pipeline` integra la corrida dry-run para validar el puente operativo en cada pipeline; `parl-test-sanction-data-catalog` sube a `Ran 41` con `tests/test_run_sanction_procedural_official_review_apply_from_kpi_gap_cycle.py`. Corrida `20260224T112750Z`: staging en `2025-12-31/year` no tiene filas `missing_source_record` (`rows_emitted_total=0`) y el ciclo salta de forma explícita (`skip_reason=no_actionable_rows`) sin reintento ciego; fixture contractual con una fila `missing_source_record` valida el cierre automático (`rows_emitted_total=1`, `readiness=ok`, `rows_ready=1`, `rows_upserted=1`). Evidencia: `docs/etl/sprints/AI-OPS-187/reports/sanction-procedural-official-review-apply-from-kpi-gap-cycle.md`, `docs/etl/sprints/AI-OPS-187/evidence/sanction_procedural_official_review_gap_cycle_20260224T112750Z.json`, `docs/etl/sprints/AI-OPS-187/evidence/sanction_procedural_official_review_gap_cycle_via_just_20260224T112750Z.json`, `docs/etl/sprints/AI-OPS-187/evidence/sanction_procedural_official_review_gap_cycle_fixture_missing_source_record_20260224T112750Z.json`, `docs/etl/sprints/AI-OPS-187/evidence/sanction_procedural_official_review_gap_cycle_pipeline_20260224T112750Z.json`, `docs/etl/sprints/AI-OPS-187/exports/sanction_procedural_official_review_apply_from_gap_cycle_20260224T112750Z.csv`, `docs/etl/sprints/AI-OPS-187/exports/sanction_procedural_official_review_apply_from_gap_cycle_via_just_20260224T112750Z.csv`, `docs/etl/sprints/AI-OPS-187/exports/sanction_procedural_official_review_apply_from_gap_cycle_fixture_missing_source_record_20260224T112750Z.csv`, `docs/etl/sprints/AI-OPS-187/evidence/just_parl_run_sanction_procedural_official_review_apply_from_kpi_gap_cycle_dry_run_20260224T112750Z.txt`, `docs/etl/sprints/AI-OPS-187/evidence/just_parl_sanction_data_catalog_pipeline_20260224T112750Z.txt`, `docs/etl/sprints/AI-OPS-187/evidence/just_parl_test_sanction_data_catalog_20260224T112750Z.txt`.
- AI-OPS-188 continúa `Scenario A` cerrando la brecha de ejecución manual en `missing_metric`: se añade `scripts/export_sanction_procedural_official_review_raw_packets_from_kpi_gap_queue.py` para convertir la cola por par (`fuente x KPI`) en paquetes raw por fuente (`1` CSV por `sanction_source_id`) reutilizando el contrato de template raw y dejando lista la captura oficial para el ciclo `raw -> prepare -> apply`. Soporta `--statuses` (default `missing_metric`), scope temporal, `--include-ready`, `--queue-limit`, y gate `--strict-actionable`; además reporta checks de completitud por fuente (`packets_complete_for_actionable_sources`) y preview de KPIs faltantes. `justfile` agrega lane `parl-export-sanction-procedural-official-review-raw-packets-from-kpi-gap-queue` + variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_RAW_PACKETS_*`, lo integra en `parl-sanction-data-catalog-pipeline`, y `parl-test-sanction-data-catalog` sube a `Ran 44` con `tests/test_export_sanction_procedural_official_review_raw_packets_from_kpi_gap_queue.py`. Corridas `20260224T113504Z` (directa) y `20260224T113514Z` (vía `just`) sobre `2025-12-31/year`: `queue_rows_seen_total=12`, `sources_actionable_total=4`, `packets_emitted_total=4`, `sources_skipped_missing_template_total=0`; cada paquete queda con `3` KPIs pendientes (`kpi:formal_annulment_rate`, `kpi:recurso_estimation_rate`, `kpi:resolution_delay_p90_days`). Evidencia: `docs/etl/sprints/AI-OPS-188/reports/sanction-procedural-official-review-raw-packets-from-kpi-gap-queue.md`, `docs/etl/sprints/AI-OPS-188/evidence/sanction_procedural_official_review_raw_packets_20260224T113504Z.json`, `docs/etl/sprints/AI-OPS-188/evidence/sanction_procedural_official_review_raw_packets_via_just_20260224T113514Z.json`, `docs/etl/sprints/AI-OPS-188/exports/sanction_procedural_official_review_raw_packets_20260224T113504Z/es-sanctions-contencioso-sentencias__2025-12-31__year.csv`, `docs/etl/sprints/AI-OPS-188/exports/sanction_procedural_official_review_raw_packets_20260224T113504Z/es-sanctions-defensor-pueblo-quejas__2025-12-31__year.csv`, `docs/etl/sprints/AI-OPS-188/exports/sanction_procedural_official_review_raw_packets_20260224T113504Z/es-sanctions-teac-resolutions__2025-12-31__year.csv`, `docs/etl/sprints/AI-OPS-188/exports/sanction_procedural_official_review_raw_packets_20260224T113504Z/es-sanctions-tear-resolutions__2025-12-31__year.csv`, `docs/etl/sprints/AI-OPS-188/evidence/just_parl_export_sanction_procedural_official_review_raw_packets_from_kpi_gap_queue_20260224T113514Z.txt`, `docs/etl/sprints/AI-OPS-188/evidence/just_parl_test_sanction_data_catalog_20260224T113522Z.txt`, `docs/etl/sprints/AI-OPS-188/evidence/just_parl_sanction_data_catalog_pipeline_20260224T113526Z.txt`.
- AI-OPS-189 continúa `Scenario A` cerrando la brecha entre paquetes por fuente y carga automática: se añade `scripts/run_sanction_procedural_official_review_raw_packets_cycle.py` para ejecutar en una sola corrida `packets-dir -> raw merge -> raw/prepare/readiness/apply`, reutilizando el ciclo estricto existente y validando cobertura esperada de paquetes contra la cola KPI. El lane incorpora gates operativos (`--strict-actionable`, `--strict-packet-coverage`, passthrough `--strict-raw/--strict-prepare/--strict-readiness`) y skips reproducibles (`no_actionable_packets`, `missing_packet_files`, `invalid_packet_headers`, `no_packet_rows`). `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_RAW_PACKETS_CYCLE_*`, lanes `parl-run-sanction-procedural-official-review-raw-packets-cycle` + `...-dry-run`, integra el dry-run en `parl-sanction-data-catalog-pipeline`, y `parl-test-sanction-data-catalog` sube a `Ran 47` con `tests/test_run_sanction_procedural_official_review_raw_packets_cycle.py`. Corridas `20260224T114727Z` (directa) y `20260224T114738Z` (vía `just`) detectan `4/4` paquetes (`packet_rows_loaded_total=4`) y ejecutan ciclo sobre plantillas vacías (`raw=degraded`, `rows_ready=0`), mientras el fixture contractual estricto `20260224T114814Z` confirma pass-path (`raw=ok`, `prepare=ok`, `readiness=ok`, `rows_ready=12` en dry-run). Evidencia: `docs/etl/sprints/AI-OPS-189/reports/sanction-procedural-official-review-raw-packets-cycle-lane.md`, `docs/etl/sprints/AI-OPS-189/evidence/sanction_procedural_official_review_raw_packets_cycle_20260224T114727Z.json`, `docs/etl/sprints/AI-OPS-189/evidence/sanction_procedural_official_review_raw_packets_cycle_via_just_20260224T114738Z.json`, `docs/etl/sprints/AI-OPS-189/evidence/sanction_procedural_official_review_raw_packets_cycle_fixture_20260224T114814Z.json`, `docs/etl/sprints/AI-OPS-189/evidence/sanction_procedural_official_review_raw_packets_cycle_packets_20260224T114727Z.json`, `docs/etl/sprints/AI-OPS-189/evidence/sanction_procedural_official_review_raw_packets_cycle_cycle_20260224T114727Z.json`, `docs/etl/sprints/AI-OPS-189/evidence/just_parl_run_sanction_procedural_official_review_raw_packets_cycle_dry_run_20260224T114738Z.txt`, `docs/etl/sprints/AI-OPS-189/evidence/just_parl_test_sanction_data_catalog_20260224T114746Z.txt`, `docs/etl/sprints/AI-OPS-189/evidence/just_parl_sanction_data_catalog_pipeline_20260224T114750Z.txt`, `docs/etl/sprints/AI-OPS-189/exports/sanction_procedural_official_review_raw_from_packets_20260224T114727Z.csv`, `docs/etl/sprints/AI-OPS-189/exports/sanction_procedural_official_review_raw_from_packets_via_just_20260224T114738Z.csv`, `docs/etl/sprints/AI-OPS-189/exports/sanction_procedural_official_review_raw_from_packets_fixture_20260224T114814Z.csv`.
- AI-OPS-190 continúa `Scenario A` añadiendo visibilidad operativa previa a la carga: se incorpora `scripts/report_sanction_procedural_official_review_raw_packets_progress.py` para evaluar por fuente si los paquetes raw están realmente listos (`ready`) o bloqueados por campos faltantes/errores (`missing_packet_file`, `invalid_headers`, `empty_packet`, `multiple_rows`, `invalid_row`), usando el mismo contrato de validación raw (`build_apply_rows`) antes de ejecutar el ciclo. El lane exporta diagnóstico por fila (`missing_required_fields`, `row_reject_reasons`, `row_reject_priority`, `ready_for_transform`) y soporta gates `--strict-actionable`/`--strict-ready`. `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_RAW_PACKETS_PROGRESS_*`, lane `parl-report-sanction-procedural-official-review-raw-packets-progress`, la integra en `parl-sanction-data-catalog-pipeline`, y `parl-test-sanction-data-catalog` sube a `Ran 50` con `tests/test_report_sanction_procedural_official_review_raw_packets_progress.py`. Corrida `20260224T115621Z` sobre `AI-OPS-188/latest` (`period=2026-02-12/year`) muestra `packets_expected_total=4`, cobertura de archivos completa (`4/4`) pero `packets_ready_total=0` (`invalid_row=4`, faltan `evidence_*` y métricas raw en cada fuente); fixture contractual `20260224T115600Z` con `--strict-ready` confirma pass-path `4/4 ready`. Evidencia: `docs/etl/sprints/AI-OPS-190/reports/sanction-procedural-official-review-raw-packets-progress-lane.md`, `docs/etl/sprints/AI-OPS-190/evidence/sanction_procedural_official_review_raw_packets_progress_latest.json`, `docs/etl/sprints/AI-OPS-190/exports/sanction_procedural_official_review_raw_packets_progress_latest.csv`, `docs/etl/sprints/AI-OPS-190/evidence/sanction_procedural_official_review_raw_packets_progress_latest_period_20260224T115621Z.json`, `docs/etl/sprints/AI-OPS-190/exports/sanction_procedural_official_review_raw_packets_progress_latest_period_20260224T115621Z.csv`, `docs/etl/sprints/AI-OPS-190/evidence/sanction_procedural_official_review_raw_packets_progress_fixture_20260224T115600Z.json`, `docs/etl/sprints/AI-OPS-190/exports/sanction_procedural_official_review_raw_packets_progress_fixture_20260224T115600Z.csv`, `docs/etl/sprints/AI-OPS-190/evidence/just_parl_report_sanction_procedural_official_review_raw_packets_progress_20260224T115636Z.txt`, `docs/etl/sprints/AI-OPS-190/evidence/just_parl_sanction_data_catalog_pipeline_20260224T115636Z.txt`.
- AI-OPS-191 continúa `Scenario A` habilitando avance parcial controlado en la carga oficial: se añade `scripts/run_sanction_procedural_official_review_ready_packets_cycle.py` para ejecutar el ciclo de carga únicamente con paquetes `ready`, manteniendo bloqueo explícito en los aún incompletos. El lane reusa el diagnóstico de readiness por paquete, selecciona subset listo (`ready_for_transform=true`), fusiona raw solo de fuentes listas y ejecuta `raw -> prepare -> readiness -> apply` con gates opcionales (`--strict-actionable`, `--strict-min-ready` + `--min-ready-packets`, passthrough `--strict-raw/--strict-prepare/--strict-readiness`) y skips reproducibles (`no_actionable_packets`, `no_ready_packets`, `ready_packets_below_minimum`). `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_READY_PACKETS_CYCLE_*`, lanes `parl-run-sanction-procedural-official-review-ready-packets-cycle` + `...-dry-run`, integra el dry-run en `parl-sanction-data-catalog-pipeline`, y `parl-test-sanction-data-catalog` sube a `Ran 53` con `tests/test_run_sanction_procedural_official_review_ready_packets_cycle.py`. Corrida `20260224T120343Z`: staging (`AI-OPS-188/latest`, `2026-02-12/year`) queda en skip explícito (`ready=0/4`, `skip_reason=no_ready_packets`), mientras fixture contractual (`AI-OPS-189`) valida pass-path estricto en dry-run (`ready_selected=4`, `raw=ok`, `prepare=ok`, `readiness=ok`, `rows_ready=12`). Evidencia: `docs/etl/sprints/AI-OPS-191/reports/sanction-procedural-official-review-ready-packets-cycle-lane.md`, `docs/etl/sprints/AI-OPS-191/evidence/sanction_procedural_official_review_ready_packets_cycle_20260224T120343Z.json`, `docs/etl/sprints/AI-OPS-191/evidence/sanction_procedural_official_review_ready_packets_cycle_progress_20260224T120343Z.json`, `docs/etl/sprints/AI-OPS-191/evidence/sanction_procedural_official_review_ready_packets_cycle_cycle_20260224T120343Z.json`, `docs/etl/sprints/AI-OPS-191/evidence/sanction_procedural_official_review_ready_packets_cycle_fixture_20260224T120343Z.json`, `docs/etl/sprints/AI-OPS-191/evidence/sanction_procedural_official_review_ready_packets_cycle_progress_fixture_20260224T120343Z.json`, `docs/etl/sprints/AI-OPS-191/evidence/sanction_procedural_official_review_ready_packets_cycle_cycle_fixture_20260224T120343Z.json`, `docs/etl/sprints/AI-OPS-191/evidence/just_parl_run_sanction_procedural_official_review_ready_packets_cycle_dry_run_20260224T120359Z.txt`, `docs/etl/sprints/AI-OPS-191/evidence/just_parl_sanction_data_catalog_pipeline_20260224T120359Z.txt`, `docs/etl/sprints/AI-OPS-191/evidence/just_parl_test_sanction_data_catalog_20260224T120359Z.txt`, `docs/etl/sprints/AI-OPS-191/exports/sanction_procedural_official_review_raw_from_ready_packets_20260224T120343Z.csv`, `docs/etl/sprints/AI-OPS-191/exports/sanction_procedural_official_review_raw_from_ready_packets_fixture_20260224T120343Z.csv`.
- AI-OPS-192 continúa `Scenario A` operacionalizando la remediación de captura oficial con backlog priorizado: se incorpora `scripts/export_sanction_procedural_official_review_packet_fix_queue.py` para exportar una cola de “paquetes no listos” con prioridad y siguiente acción por fuente, a partir del reporte de readiness (`build_raw_packets_progress_report`). La cola añade `queue_key` estable, `priority`, `next_action`, `packet_status`, `missing_required_fields`, `row_reject_reasons`, `kpis_missing*`, y soporta gate `--strict-empty` para exigir cola vacía. `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_*`, lane `parl-export-sanction-procedural-official-review-packet-fix-queue`, la integra en `parl-sanction-data-catalog-pipeline`, y `parl-test-sanction-data-catalog` sube a `Ran 56` con `tests/test_export_sanction_procedural_official_review_packet_fix_queue.py`. Corrida `20260224T120848Z`: staging (`AI-OPS-188/latest`, `2026-02-12/year`) devuelve `queue_rows_total=4` (`invalid_row=4`) con acción `complete_evidence_and_raw_count_fields_then_recheck`; fixture contractual (`AI-OPS-189`) valida `queue_rows_total=0` (`fix_queue_empty=true`). Evidencia: `docs/etl/sprints/AI-OPS-192/reports/sanction-procedural-official-review-packet-fix-queue-lane.md`, `docs/etl/sprints/AI-OPS-192/evidence/sanction_procedural_official_review_packet_fix_queue_20260224T120848Z.json`, `docs/etl/sprints/AI-OPS-192/exports/sanction_procedural_official_review_packet_fix_queue_20260224T120848Z.csv`, `docs/etl/sprints/AI-OPS-192/evidence/sanction_procedural_official_review_packet_fix_queue_fixture_20260224T120848Z.json`, `docs/etl/sprints/AI-OPS-192/exports/sanction_procedural_official_review_packet_fix_queue_fixture_20260224T120848Z.csv`, `docs/etl/sprints/AI-OPS-192/evidence/just_parl_export_sanction_procedural_official_review_packet_fix_queue_20260224T120902Z.txt`, `docs/etl/sprints/AI-OPS-192/evidence/just_parl_sanction_data_catalog_pipeline_20260224T120902Z.txt`, `docs/etl/sprints/AI-OPS-192/evidence/just_parl_test_sanction_data_catalog_20260224T120902Z.txt`.
- AI-OPS-193 continúa `Scenario A` cerrando el loop operativo entre remediación y carga incremental: se añade `scripts/run_sanction_procedural_official_review_packet_fix_ready_cycle.py` para ejecutar en una sola corrida `packet-fix-queue -> ready-packets-cycle`, bloqueando/skippeando de forma explícita cuando no hay paquetes listos y avanzando automáticamente cuando los hay. `justfile` incorpora lanes `parl-run-sanction-procedural-official-review-packet-fix-ready-cycle` + `...-dry-run` (variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_READY_CYCLE_*`) y lo integra en `parl-sanction-data-catalog-pipeline`; `parl-test-sanction-data-catalog` sube a `Ran 59` con `tests/test_run_sanction_procedural_official_review_packet_fix_ready_cycle.py`. Corridas `20260224T122017Z` (staging `AI-OPS-188/latest`, `2026-02-12/year`) y `20260224T122029Z` (fixture `AI-OPS-189`, `2025-12-31/year`) confirman ambos caminos: staging queda en `fix_queue.status=degraded`, `queue_rows_total=4`, `ready_packets_selected_total=0`, `skip_reason=no_ready_packets`; fixture pasa en strict dry-run con `fix_queue.status=ok`, `queue_rows_total=0`, `ready_packets_selected_total=4`, `raw=ok`, `prepare=ok`, `readiness=ok`, `rows_ready=12`. Integración validada con `just parl-sanction-data-catalog-pipeline` (`20260224T122047Z`). Evidencia: `docs/etl/sprints/AI-OPS-193/reports/sanction-procedural-official-review-packet-fix-ready-cycle-lane.md`, `docs/etl/sprints/AI-OPS-193/evidence/sanction_procedural_official_review_packet_fix_ready_cycle_20260224T122017Z.json`, `docs/etl/sprints/AI-OPS-193/evidence/sanction_procedural_official_review_packet_fix_ready_cycle_fix_queue_20260224T122017Z.json`, `docs/etl/sprints/AI-OPS-193/evidence/sanction_procedural_official_review_packet_fix_ready_cycle_progress_20260224T122017Z.json`, `docs/etl/sprints/AI-OPS-193/evidence/sanction_procedural_official_review_packet_fix_ready_cycle_ready_cycle_20260224T122017Z.json`, `docs/etl/sprints/AI-OPS-193/exports/sanction_procedural_official_review_packet_fix_queue_20260224T122017Z.csv`, `docs/etl/sprints/AI-OPS-193/evidence/just_parl_run_sanction_procedural_official_review_packet_fix_ready_cycle_dry_run_20260224T122017Z.txt`, `docs/etl/sprints/AI-OPS-193/evidence/sanction_procedural_official_review_packet_fix_ready_cycle_fixture_20260224T122029Z.json`, `docs/etl/sprints/AI-OPS-193/evidence/sanction_procedural_official_review_packet_fix_ready_cycle_fix_queue_fixture_20260224T122029Z.json`, `docs/etl/sprints/AI-OPS-193/evidence/sanction_procedural_official_review_packet_fix_ready_cycle_progress_fixture_20260224T122029Z.json`, `docs/etl/sprints/AI-OPS-193/evidence/sanction_procedural_official_review_packet_fix_ready_cycle_ready_cycle_fixture_20260224T122029Z.json`, `docs/etl/sprints/AI-OPS-193/exports/sanction_procedural_official_review_packet_fix_queue_fixture_20260224T122029Z.csv`, `docs/etl/sprints/AI-OPS-193/evidence/just_parl_run_sanction_procedural_official_review_packet_fix_ready_cycle_dry_run_fixture_20260224T122029Z.txt`, `docs/etl/sprints/AI-OPS-193/evidence/just_parl_test_sanction_data_catalog_20260224T122034Z.txt`, `docs/etl/sprints/AI-OPS-193/evidence/just_parl_sanction_data_catalog_pipeline_20260224T122047Z.txt`.
- AI-OPS-194 continúa `Scenario A` añadiendo observabilidad append-only para el backlog de remediación de paquetes: se incorporan `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat.py` y `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_window.py` para registrar latidos JSONL reproducibles del estado de `packet-fix` y validar tendencia en ventana (`failed/degraded/nonempty_queue/malformed`) con thresholds configurables. `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_*`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat` y `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-window`, los integra en `parl-sanction-data-catalog-pipeline`, y `parl-test-sanction-data-catalog` sube a `Ran 63` con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat.py` + `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_window.py`. Corrida `20260224T123410Z`: heartbeat `status=degraded` (`queue_rows_total=4`, `packets_ready_total=0`, `packets_not_ready_total=4`, `strict_fail_reasons=[]`) y ventana `status=ok` (`entries_in_window=2`, `failed_in_window=0`, `degraded_in_window=2`, `nonempty_queue_runs_in_window=2`, `strict_fail_reasons=[]`); pipeline integrado en verde con los lanes nuevos. Evidencia: `docs/etl/sprints/AI-OPS-194/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-lane.md`, `docs/etl/sprints/AI-OPS-194/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_20260224T123410Z.json`, `docs/etl/sprints/AI-OPS-194/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_window_20260224T123410Z.json`, `docs/etl/sprints/AI-OPS-194/evidence/just_parl_test_sanction_data_catalog_20260224T123410Z.txt`, `docs/etl/sprints/AI-OPS-194/evidence/just_parl_sanction_data_catalog_pipeline_20260224T123410Z.txt`.
- AI-OPS-195 continúa `Scenario A` endureciendo la operación de heartbeat con retención reproducible: se añaden `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction.py` (compacción determinista por tiers `recent/mid/old` preservando incidentes) y `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window.py` (paridad raw-vs-compacted en ventana). `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_*`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window`, integración en `parl-sanction-data-catalog-pipeline`, y cobertura con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction.py` + `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window.py`. Corrida `20260224T124757Z`: heartbeat `status=degraded` (`queue_rows_total=4`, `history_rows_after=6`), ventana raw `status=ok` (`entries_in_window=6`, `degraded_in_window=6`, `nonempty_queue_runs_in_window=6`), compaction `status=degraded` (`entries_total=6`, `selected_entries=6`, `dropped_entries=0`) y compaction-window `status=ok` (`missing_in_compacted_in_window=0`, `strict_fail_reasons=[]`); pipeline integrado en verde. Evidencia: `docs/etl/sprints/AI-OPS-195/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-lane.md`, `docs/etl/sprints/AI-OPS-195/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_20260224T124757Z.json`, `docs/etl/sprints/AI-OPS-195/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_window_20260224T124757Z.json`, `docs/etl/sprints/AI-OPS-195/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_20260224T124757Z.json`, `docs/etl/sprints/AI-OPS-195/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_20260224T124757Z.json`.
- AI-OPS-196 continúa `Scenario A` añadiendo un contrato digest compacto para la paridad de compacción: se incorpora `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest.py` para resumir `compaction-window` en un artefacto estable (`status/risk_level/risk_reasons/key_metrics`) y validable en strict. `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_*`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest`, e integración del check en `parl-sanction-data-catalog-pipeline`; `parl-test-sanction-data-catalog` sube a `Ran 70` con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest.py`. Corrida `20260224T124757Z`: digest `status=ok`, `risk_level=green`, `risk_reasons=[]`, `strict_fail_reasons=[]`, `raw_window_coverage_pct=100.0`, `incident_coverage_pct=100.0`; pipeline y suite completos en verde. Evidencia: `docs/etl/sprints/AI-OPS-196/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-lane.md`, `docs/etl/sprints/AI-OPS-196/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_20260224T124757Z.json`, `docs/etl/sprints/AI-OPS-196/evidence/just_parl_test_sanction_data_catalog_20260224T124757Z.txt`, `docs/etl/sprints/AI-OPS-196/evidence/just_parl_sanction_data_catalog_pipeline_20260224T124757Z.txt`.
- AI-OPS-197 continúa `Scenario A` con observabilidad temporal sobre el digest de paridad: se añaden `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat.py` (append-only + dedupe por `heartbeat_id`) y `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_window.py` (ventana strict sobre `ok/degraded/failed` y `risk_level`). `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_*`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-window`, integración en `parl-sanction-data-catalog-pipeline`, y cobertura con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat.py` + `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_window.py`; `parl-test-sanction-data-catalog` sube a `Ran 75`. Corrida `20260224T125555Z`: digest `status=ok` (`window_raw_entries=8`, `missing_in_compacted_in_window=0`, `incident_missing_in_compacted=0`), heartbeat `status=ok` (`appended=true`, `history_size_before=1`, `history_size_after=2`, `validation_errors=[]`) y ventana heartbeat `status=ok` (`entries_in_window=2`, `status_counts.ok=2`, `risk_level_counts.green=2`, `strict_fail_reasons=[]`); pipeline integrado en verde. Evidencia: `docs/etl/sprints/AI-OPS-197/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-lane.md`, `docs/etl/sprints/AI-OPS-197/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_20260224T125555Z.json`, `docs/etl/sprints/AI-OPS-197/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_20260224T125555Z.json`, `docs/etl/sprints/AI-OPS-197/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_window_20260224T125555Z.json`, `docs/etl/sprints/AI-OPS-197/evidence/just_parl_test_sanction_data_catalog_20260224T125555Z.txt`, `docs/etl/sprints/AI-OPS-197/evidence/just_parl_sanction_data_catalog_pipeline_20260224T125555Z.txt`.
- AI-OPS-198 continúa `Scenario A` añadiendo retención determinista sobre la serie temporal del digest: se incorporan `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction.py` (compacción por tiers `recent/mid/old` preservando incidentes para la serie `digest_heartbeat`) y `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window.py` (paridad strict raw-vs-compacted para esa misma serie). `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_*`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window`, integración en `parl-sanction-data-catalog-pipeline`, y cobertura con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction.py` + `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window.py`; `parl-test-sanction-data-catalog` sube a `Ran 80`. Corrida `20260224T130421Z`: compaction `status=degraded` (`entries_total=3`, `selected_entries=3`, `dropped_entries=0`, `strict_fail_reasons=[]`) y compaction-window `status=ok` (`window_raw_entries=3`, `missing_in_compacted_in_window=0`, `incident_missing_in_compacted=0`, `strict_fail_reasons=[]`); pipeline integrado en verde. Evidencia: `docs/etl/sprints/AI-OPS-198/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-lane.md`, `docs/etl/sprints/AI-OPS-198/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_20260224T130421Z.json`, `docs/etl/sprints/AI-OPS-198/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_20260224T130421Z.json`, `docs/etl/sprints/AI-OPS-198/evidence/just_parl_test_sanction_data_catalog_20260224T130421Z.txt`, `docs/etl/sprints/AI-OPS-198/evidence/just_parl_sanction_data_catalog_pipeline_20260224T130421Z.txt`.
- AI-OPS-199 continúa `Scenario A` añadiendo un digest compacto strict sobre la paridad del heartbeat ya compactado: se incorpora `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest.py` para resumir en un contrato estable (`status`, `risk_level`, `risk_reasons`, `strict_fail_reasons`, `key_metrics`) la salud de `compaction-window` del digest-heartbeat y bloquear en `--strict` ante desviaciones. `justfile` agrega la variable `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_OUT`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest`, integración del check en `parl-sanction-data-catalog-pipeline`, y cobertura con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest.py`; `parl-test-sanction-data-catalog` sube a `Ran 83`. Corrida `20260224T131205Z`: digest `status=ok`, `risk_level=green`, `risk_reasons=[]`, `strict_fail_reasons=[]`, `window_raw_entries=5`, `missing_in_compacted_in_window=0`, `incident_missing_in_compacted=0`, `raw_window_coverage_pct=100.0`; pipeline y tracker gate integrados en verde. Evidencia: `docs/etl/sprints/AI-OPS-199/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-lane.md`, `docs/etl/sprints/AI-OPS-199/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_20260224T131205Z.json`, `docs/etl/sprints/AI-OPS-199/evidence/just_parl_check_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_20260224T131205Z.txt`, `docs/etl/sprints/AI-OPS-199/evidence/just_parl_test_sanction_data_catalog_20260224T131205Z.txt`, `docs/etl/sprints/AI-OPS-199/evidence/just_parl_sanction_data_catalog_pipeline_20260224T131205Z.txt`, `docs/etl/sprints/AI-OPS-199/evidence/just_etl_tracker_gate_20260224T131516Z.txt`.
- AI-OPS-200 continúa `Scenario A` añadiendo observabilidad temporal append-only al digest compacto de AI-OPS-199: se incorpora `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat.py` para generar heartbeat deduplicado por `heartbeat_id` sobre la señal compacta (`status/risk_level/reasons/key_metrics`) y mantener trazabilidad incremental (`history_size_before/after`, `appended`, `duplicate_detected`) bajo `--strict`. `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_*`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat`, integración del check en `parl-sanction-data-catalog-pipeline`, y cobertura con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat.py`; `parl-test-sanction-data-catalog` sube a `Ran 85`. Corrida `20260224T132030Z`: heartbeat `status=ok`, `risk_level=green`, `strict_fail_reasons=[]`, `window_raw_entries=8`, `missing_in_compacted_in_window=0`, `history_size_before=1`, `history_size_after=2`, `appended=true`; pipeline y tracker gate integrados en verde. Evidencia: `docs/etl/sprints/AI-OPS-200/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-lane.md`, `docs/etl/sprints/AI-OPS-200/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_20260224T132030Z.json`, `docs/etl/sprints/AI-OPS-200/evidence/just_parl_check_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_20260224T132030Z.txt`, `docs/etl/sprints/AI-OPS-200/evidence/just_parl_test_sanction_data_catalog_20260224T132030Z.txt`, `docs/etl/sprints/AI-OPS-200/evidence/just_parl_sanction_data_catalog_pipeline_20260224T132030Z.txt`, `docs/etl/sprints/AI-OPS-200/evidence/just_etl_tracker_gate_20260224T132337Z.txt`.
- AI-OPS-201 continúa `Scenario A` añadiendo un gate temporal estricto sobre el heartbeat compacto de AI-OPS-200: se incorpora `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_window.py` para validar `last N` filas del heartbeat deduplicado con umbrales explícitos de `failed/degraded` y fail-fast en `--strict`. `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_WINDOW_*`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-window` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-window`, integra el check en `parl-sanction-data-catalog-pipeline`, y añade cobertura con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_window.py`; `parl-test-sanction-data-catalog` sube a `Ran 88`. Corrida `20260224T132835Z`: ventana `status=ok`, `strict_fail_reasons=[]`, `entries_in_window=2`, `status_counts.ok=2`, `status_counts.failed=0`, `status_counts.degraded=0`, `risk_level_counts.green=2`, `latest.status=ok`; pipeline y tracker gate integrados en verde. Evidencia: `docs/etl/sprints/AI-OPS-201/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-window-lane.md`, `docs/etl/sprints/AI-OPS-201/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_window_20260224T132835Z.json`, `docs/etl/sprints/AI-OPS-201/evidence/just_parl_check_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_window_20260224T132835Z.txt`, `docs/etl/sprints/AI-OPS-201/evidence/just_parl_test_sanction_data_catalog_20260224T132835Z.txt`, `docs/etl/sprints/AI-OPS-201/evidence/just_parl_sanction_data_catalog_pipeline_20260224T132835Z.txt`, `docs/etl/sprints/AI-OPS-201/evidence/just_etl_tracker_gate_20260224T132835Z.txt`.
- AI-OPS-202 continúa `Scenario A` añadiendo retención determinista y paridad strict sobre la serie de continuidad compacta: se incorporan `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction.py` (compacción por tiers `recent/mid/old` sobre el heartbeat deduplicado de AI-OPS-200/201) y `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window.py` (paridad strict raw-vs-compacted para esa misma serie). `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_*`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window`, los integra en `parl-sanction-data-catalog-pipeline`, y añade cobertura con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction.py` + `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window.py`; `parl-test-sanction-data-catalog` sube a `Ran 93`. Corrida `20260224T133440Z`: compaction `status=degraded` esperado por historial corto (`entries_total=3`, `selected_entries=3`, `dropped_entries=0`, `strict_fail_reasons=[]`) y compaction-window `status=ok` (`window_raw_entries=3`, `present_in_compacted_in_window=3`, `missing_in_compacted_in_window=0`, `latest_present_ok=true`, `strict_fail_reasons=[]`); pipeline y tracker gate integrados en verde. Evidencia: `docs/etl/sprints/AI-OPS-202/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-lane.md`, `docs/etl/sprints/AI-OPS-202/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_20260224T133440Z.json`, `docs/etl/sprints/AI-OPS-202/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_20260224T133440Z.json`, `docs/etl/sprints/AI-OPS-202/evidence/just_parl_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_20260224T133440Z.txt`, `docs/etl/sprints/AI-OPS-202/evidence/just_parl_check_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_20260224T133440Z.txt`, `docs/etl/sprints/AI-OPS-202/evidence/just_parl_test_sanction_data_catalog_20260224T133440Z.txt`, `docs/etl/sprints/AI-OPS-202/evidence/just_parl_sanction_data_catalog_pipeline_20260224T133440Z.txt`, `docs/etl/sprints/AI-OPS-202/evidence/just_etl_tracker_gate_20260224T133440Z.txt`.
- AI-OPS-203 continúa `Scenario A` añadiendo digest compacto strict sobre la nueva capa de compacción AI-OPS-202: se incorpora `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest.py` para resumir la salud de `compaction-window` en contrato estable (`status`, `risk_level`, `risk_reasons`, `strict_fail_reasons`, `key_metrics`) y bloquear en `--strict` ante desvíos. `justfile` agrega la variable `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_OUT`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest`, integración del check en `parl-sanction-data-catalog-pipeline`, y cobertura con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest.py`; `parl-test-sanction-data-catalog` sube a `Ran 96`. Corrida `20260224T133909Z`: digest `status=ok`, `risk_level=green`, `risk_reasons=[]`, `strict_fail_reasons=[]`, `entries_total_raw=4`, `entries_total_compacted=4`, `window_raw_entries=4`, `missing_in_compacted_in_window=0`, `raw_window_coverage_pct=100.0`; pipeline y tracker gate integrados en verde. Evidencia: `docs/etl/sprints/AI-OPS-203/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-lane.md`, `docs/etl/sprints/AI-OPS-203/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_20260224T133909Z.json`, `docs/etl/sprints/AI-OPS-203/evidence/just_parl_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_20260224T133909Z.txt`, `docs/etl/sprints/AI-OPS-203/evidence/just_parl_check_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_20260224T133909Z.txt`, `docs/etl/sprints/AI-OPS-203/evidence/just_parl_test_sanction_data_catalog_20260224T133909Z.txt`, `docs/etl/sprints/AI-OPS-203/evidence/just_parl_sanction_data_catalog_pipeline_20260224T133909Z.txt`, `docs/etl/sprints/AI-OPS-203/evidence/just_etl_tracker_gate_20260224T133909Z.txt`.
- AI-OPS-204 continúa `Scenario A` añadiendo continuidad temporal append-only sobre el digest compacto AI-OPS-203: se incorpora `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat.py` para registrar latidos deduplicados (`heartbeat_id`) de la señal `status/risk_level/reasons/key_metrics` y aplicar gate `--strict` en la misma ejecución. `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_*`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat`, integración del check en `parl-sanction-data-catalog-pipeline`, y cobertura con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat.py`; `parl-test-sanction-data-catalog` sube a `Ran 98`. Corrida `20260224T134528Z`: heartbeat `status=ok`, `risk_level=green`, `strict_fail_reasons=[]`, `window_raw_entries=5`, `missing_in_compacted_in_window=0`, `history_size_before=1`, `history_size_after=1`, `appended=false`, `duplicate_detected=true`; pipeline y tracker gate integrados en verde. Evidencia: `docs/etl/sprints/AI-OPS-204/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-lane.md`, `docs/etl/sprints/AI-OPS-204/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_20260224T134528Z.json`, `docs/etl/sprints/AI-OPS-204/evidence/just_parl_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_20260224T134528Z.txt`, `docs/etl/sprints/AI-OPS-204/evidence/just_parl_check_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_20260224T134528Z.txt`, `docs/etl/sprints/AI-OPS-204/evidence/just_parl_test_sanction_data_catalog_20260224T134528Z.txt`, `docs/etl/sprints/AI-OPS-204/evidence/just_parl_sanction_data_catalog_pipeline_20260224T134528Z.txt`, `docs/etl/sprints/AI-OPS-204/evidence/just_etl_tracker_gate_20260224T134528Z.txt`.
- AI-OPS-205 continúa `Scenario A` añadiendo gate temporal estricto sobre la continuidad digest-heartbeat de AI-OPS-204: se incorpora `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_window.py` para validar la ventana `last N` del heartbeat deduplicado con umbrales explícitos de `failed/degraded` y fail-fast en `--strict`. `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_WINDOW_*`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-window` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-window`, integra el check en `parl-sanction-data-catalog-pipeline`, y añade cobertura con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_window.py`; `parl-test-sanction-data-catalog` sube a `Ran 101`. Corrida `20260224T135142Z`: ventana `status=ok`, `strict_fail_reasons=[]`, `entries_in_window=2`, `status_counts.ok=2`, `status_counts.failed=0`, `status_counts.degraded=0`, `risk_level_counts.green=2`, `latest.status=ok`; pipeline y tracker gate integrados en verde. Evidencia: `docs/etl/sprints/AI-OPS-205/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-window-lane.md`, `docs/etl/sprints/AI-OPS-205/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_window_20260224T135142Z.json`, `docs/etl/sprints/AI-OPS-205/evidence/just_parl_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_window_20260224T135142Z.txt`, `docs/etl/sprints/AI-OPS-205/evidence/just_parl_check_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_window_20260224T135142Z.txt`, `docs/etl/sprints/AI-OPS-205/evidence/just_parl_test_sanction_data_catalog_20260224T135142Z.txt`, `docs/etl/sprints/AI-OPS-205/evidence/just_parl_sanction_data_catalog_pipeline_20260224T135142Z.txt`, `docs/etl/sprints/AI-OPS-205/evidence/just_etl_tracker_gate_20260224T135142Z.txt`.
- AI-OPS-206 continúa `Scenario A` añadiendo compacción determinista + paridad strict sobre la continuidad digest-heartbeat de AI-OPS-204/205: se incorporan `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction.py` (retención por tiers `recent/mid/old`) y `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window.py` (paridad raw-vs-compacted en ventana con fail-fast en `--strict`). `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_*`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window`, integración en `parl-sanction-data-catalog-pipeline`, y cobertura con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction.py` + `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window.py`; `parl-test-sanction-data-catalog` sube a `Ran 106`. Corrida `20260224T135943Z`: compaction `status=degraded` esperado por historial corto (`entries_total=4`, `selected_entries=4`, `dropped_entries=0`, `strict_fail_reasons=[]`) y compaction-window `status=ok` (`window_raw_entries=4`, `present_in_compacted_in_window=4`, `missing_in_compacted_in_window=0`, `latest_present_ok=true`, `strict_fail_reasons=[]`); pipeline y tracker gate integrados en verde (`mismatches=0`, `done_zero_real=0`). Evidencia: `docs/etl/sprints/AI-OPS-206/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-lane.md`, `docs/etl/sprints/AI-OPS-206/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_20260224T135943Z.json`, `docs/etl/sprints/AI-OPS-206/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_20260224T135943Z.json`, `docs/etl/sprints/AI-OPS-206/evidence/just_parl_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_20260224T135943Z.txt`, `docs/etl/sprints/AI-OPS-206/evidence/just_parl_check_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_20260224T135943Z.txt`, `docs/etl/sprints/AI-OPS-206/evidence/just_parl_test_sanction_data_catalog_20260224T135943Z.txt`, `docs/etl/sprints/AI-OPS-206/evidence/just_parl_sanction_data_catalog_pipeline_20260224T135943Z.txt`, `docs/etl/sprints/AI-OPS-206/evidence/just_etl_tracker_gate_20260224T135943Z.txt`.
- AI-OPS-207 continúa `Scenario A` añadiendo un digest compacto strict sobre la nueva continuidad compactada AI-OPS-206: se incorpora `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest.py` para resumir la salud de `compaction-window` en un contrato estable (`status`, `risk_level`, `risk_reasons`, `strict_fail_reasons`, `key_metrics`) y bloquear en `--strict` ante desvíos. `justfile` agrega la variable `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_OUT`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest`, integración del check en `parl-sanction-data-catalog-pipeline`, y cobertura con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest.py`; `parl-test-sanction-data-catalog` sube a `Ran 109`. Corrida `20260224T140703Z`: digest `status=ok`, `risk_level=green`, `strict_fail_reasons=[]`, `entries_total_raw=5`, `entries_total_compacted=5`, `window_raw_entries=5`, `missing_in_compacted_in_window=0`, `raw_window_coverage_pct=100.0`; pipeline y tracker gate integrados en verde. Evidencia: `docs/etl/sprints/AI-OPS-207/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-lane.md`, `docs/etl/sprints/AI-OPS-207/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_20260224T140703Z.json`, `docs/etl/sprints/AI-OPS-207/evidence/just_parl_check_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_20260224T140703Z.txt`, `docs/etl/sprints/AI-OPS-207/evidence/just_parl_test_sanction_data_catalog_20260224T140703Z.txt`, `docs/etl/sprints/AI-OPS-207/evidence/just_parl_sanction_data_catalog_pipeline_20260224T140703Z.txt`, `docs/etl/sprints/AI-OPS-207/evidence/just_etl_tracker_gate_20260224T140703Z.txt`.
- AI-OPS-208 continúa `Scenario A` añadiendo continuidad temporal append-only sobre el digest compacto AI-OPS-207: se incorpora `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat.py` para registrar latidos deduplicados (`heartbeat_id`) de la señal `status/risk_level/reasons/key_metrics` y aplicar gate `--strict` en la misma ejecución. `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_*`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat`, integración del check en `parl-sanction-data-catalog-pipeline`, y cobertura con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat.py`; `parl-test-sanction-data-catalog` sube a `Ran 111`. Corrida `20260224T141158Z`: heartbeat `status=ok`, `risk_level=green`, `strict_fail_reasons=[]`, `history_size_before=0`, `history_size_after=1`, `appended=true`, `duplicate_detected=false`, `window_raw_entries=5`, `missing_in_compacted_in_window=0`; pipeline y tracker gate integrados en verde (`mismatches=0`, `done_zero_real=0`). Evidencia: `docs/etl/sprints/AI-OPS-208/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-lane.md`, `docs/etl/sprints/AI-OPS-208/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_20260224T141158Z.json`, `docs/etl/sprints/AI-OPS-208/evidence/just_parl_check_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_20260224T141158Z.txt`, `docs/etl/sprints/AI-OPS-208/evidence/just_parl_test_sanction_data_catalog_20260224T141158Z.txt`, `docs/etl/sprints/AI-OPS-208/evidence/just_parl_sanction_data_catalog_pipeline_20260224T141158Z.txt`, `docs/etl/sprints/AI-OPS-208/evidence/just_etl_tracker_gate_20260224T141158Z.txt`.
- AI-OPS-209 continúa `Scenario A` añadiendo gate temporal estricto sobre la continuidad digest-heartbeat de AI-OPS-208: se incorpora `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_window.py` para validar la ventana `last N` del heartbeat deduplicado con umbrales explícitos de `failed/degraded` y fail-fast en `--strict`. `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_WINDOW_*`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-window` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-window`, integra el check en `parl-sanction-data-catalog-pipeline`, y añade cobertura con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_window.py`; `parl-test-sanction-data-catalog` sube a `Ran 114`. Corrida `20260224T141714Z`: ventana `status=ok`, `strict_fail_reasons=[]`, `entries_in_window=2`, `status_counts.ok=2`, `status_counts.failed=0`, `status_counts.degraded=0`, `risk_level_counts.green=2`, `latest.status=ok`; pipeline y tracker gate integrados en verde (`mismatches=0`, `done_zero_real=0`). Evidencia: `docs/etl/sprints/AI-OPS-209/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-window-lane.md`, `docs/etl/sprints/AI-OPS-209/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_window_20260224T141714Z.json`, `docs/etl/sprints/AI-OPS-209/evidence/just_parl_check_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_window_20260224T141714Z.txt`, `docs/etl/sprints/AI-OPS-209/evidence/just_parl_test_sanction_data_catalog_20260224T141714Z.txt`, `docs/etl/sprints/AI-OPS-209/evidence/just_parl_sanction_data_catalog_pipeline_20260224T141714Z.txt`, `docs/etl/sprints/AI-OPS-209/evidence/just_etl_tracker_gate_20260224T141714Z.txt`.
- AI-OPS-210 continúa `Scenario A` añadiendo compacción determinista + paridad strict sobre la continuidad digest-heartbeat de AI-OPS-208/209: se incorporan `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction.py` (retención por tiers `recent/mid/old`) y `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window.py` (paridad raw-vs-compacted en ventana con fail-fast en `--strict`). `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_*`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window`, integra ambos en `parl-sanction-data-catalog-pipeline`, y añade cobertura con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction.py` + `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window.py`; `parl-test-sanction-data-catalog` sube a `Ran 119`. Corrida `20260224T142419Z`: compaction `status=degraded` esperado (`entries_total=3`, `selected_entries=3`, `dropped_entries=0`, `strict_fail_reasons=[]`) y compaction-window `status=ok` (`entries_total_raw=3`, `entries_total_compacted=3`, `window_raw_entries=3`, `missing_in_compacted_in_window=0`, `latest_present_ok=true`, `strict_fail_reasons=[]`); pipeline y tracker gate integrados en verde (`mismatches=0`, `done_zero_real=0`). Evidencia: `docs/etl/sprints/AI-OPS-210/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-lane.md`, `docs/etl/sprints/AI-OPS-210/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_20260224T142419Z.json`, `docs/etl/sprints/AI-OPS-210/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_20260224T142419Z.json`, `docs/etl/sprints/AI-OPS-210/evidence/just_parl_check_ai_ops_210_20260224T142419Z.txt`, `docs/etl/sprints/AI-OPS-210/evidence/just_parl_test_sanction_data_catalog_20260224T142419Z.txt`, `docs/etl/sprints/AI-OPS-210/evidence/just_parl_sanction_data_catalog_pipeline_20260224T142419Z.txt`, `docs/etl/sprints/AI-OPS-210/evidence/just_etl_tracker_gate_20260224T142419Z.txt`.
- AI-OPS-211 continúa `Scenario A` añadiendo digest compacto strict sobre la continuidad compaction-window de AI-OPS-210: se incorpora `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest.py`, que consolida señal de paridad en contrato bajo ruido (`status`, `risk_level`, `risk_reasons`, `strict_fail_reasons`, `key_metrics`). `justfile` agrega variable `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_OUT`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest`, integra el check en `parl-sanction-data-catalog-pipeline`, y añade cobertura con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest.py`; `parl-test-sanction-data-catalog` sube a `Ran 123`. Durante la corrida se corrige además un falso fail strict en `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction.py` (solo exigir `dropped_entries>0` cuando `drop_candidates_total>0`) y se agrega regresión `test_compaction_all_incidents_can_keep_all_without_drop_failure`. Corrida `20260224T143642Z`: digest `status=ok`, `risk_level=green`, `strict_fail_reasons=[]`, `entries_total_raw=4`, `entries_total_compacted=4`, `window_raw_entries=4`, `missing_in_compacted_in_window=0`; pipeline y tracker gate integrados en verde (`mismatches=0`, `done_zero_real=0`). Evidencia: `docs/etl/sprints/AI-OPS-211/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-lane.md`, `docs/etl/sprints/AI-OPS-211/evidence/sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_20260224T143642Z.json`, `docs/etl/sprints/AI-OPS-211/evidence/just_parl_check_ai_ops_211_20260224T143642Z.txt`, `docs/etl/sprints/AI-OPS-211/evidence/just_parl_test_sanction_data_catalog_20260224T143642Z_rerun2.txt`, `docs/etl/sprints/AI-OPS-211/evidence/just_parl_sanction_data_catalog_pipeline_20260224T143642Z_rerun1.txt`, `docs/etl/sprints/AI-OPS-211/evidence/just_etl_tracker_gate_20260224T143642Z.txt`.
- AI-OPS-212 continúa `Scenario A` añadiendo continuidad heartbeat append-only sobre el digest compacto AI-OPS-211: se incorpora `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat.py` para registrar latidos deduplicados (`heartbeat_id`) con validación estricta en la misma ejecución. `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_*`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat`, integra el report lane en `parl-sanction-data-catalog-pipeline`, y añade cobertura con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat.py`; `parl-test-sanction-data-catalog` sube a `Ran 125`. Corrida `20260224T144655Z`: heartbeat `status=ok`, `risk_level=green`, `validation_errors=[]`, `strict_fail_count=0`, dedupe confirmado en check replay (`duplicate_detected=true`, `history_before=1`, `history_after=1`) y pipeline integrado en verde; tracker gate en verde (`mismatches=0`, `done_zero_real=0`). Evidencia: `docs/etl/sprints/AI-OPS-212/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-lane.md`, `docs/etl/sprints/AI-OPS-212/evidence/ai_ops_212_digest_heartbeat_20260224T144655Z.json`, `docs/etl/sprints/AI-OPS-212/evidence/just_parl_check_ai_ops_212_20260224T144655Z.txt`, `docs/etl/sprints/AI-OPS-212/evidence/just_parl_test_sanction_data_catalog_20260224T144655Z.txt`, `docs/etl/sprints/AI-OPS-212/evidence/just_parl_sanction_data_catalog_pipeline_20260224T144655Z.txt`, `docs/etl/sprints/AI-OPS-212/evidence/just_etl_tracker_gate_20260224T144655Z.txt`.
- AI-OPS-213 continúa `Scenario A` añadiendo gate temporal estricto sobre la continuidad heartbeat de AI-OPS-212: se incorpora `scripts/report_sanction_procedural_official_review_packet_fix_queue_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_compaction_window_digest_heartbeat_window.py` para validar la ventana `last N` del heartbeat deduplicado con umbrales explícitos de `failed/degraded` y fail-fast en `--strict` sobre la señal compacta anterior. `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_WINDOW_*`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-window` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-window`, integra el check en `parl-sanction-data-catalog-pipeline`, y añade cobertura con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_ai_ops_213_heartbeat_window.py` (alias corto por límite de longitud de nombre de archivo); `parl-test-sanction-data-catalog` sube a `Ran 128`. Corrida `20260224T145439Z`: ventana `status=ok`, `strict_fail_reasons=[]`, `entries_total=2`, `entries_in_window=2`, `status_counts.ok=2`, `status_counts.failed=0`, `status_counts.degraded=0`, `risk_level_counts.green=2`, `latest.status=ok`; pipeline y tracker gate en verde (`mismatches=0`, `done_zero_real=0`). Evidencia: `docs/etl/sprints/AI-OPS-213/reports/sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-window-lane.md`, `docs/etl/sprints/AI-OPS-213/evidence/ai_ops_213_heartbeat_window_20260224T145439Z.json`, `docs/etl/sprints/AI-OPS-213/evidence/ai_ops_213_heartbeat_window_latest.json`, `docs/etl/sprints/AI-OPS-213/evidence/just_parl_report_ai_ops_213_20260224T145439Z.txt`, `docs/etl/sprints/AI-OPS-213/evidence/just_parl_check_ai_ops_213_20260224T145439Z.txt`, `docs/etl/sprints/AI-OPS-213/evidence/just_parl_test_sanction_data_catalog_20260224T145439Z.txt`, `docs/etl/sprints/AI-OPS-213/evidence/just_parl_sanction_data_catalog_pipeline_20260224T145439Z.txt`, `docs/etl/sprints/AI-OPS-213/evidence/just_etl_tracker_gate_20260224T145439Z.txt`.
- AI-OPS-214 continúa `Scenario A` añadiendo compacción determinista + paridad strict sobre la continuidad heartbeat AI-OPS-212/213: se incorporan `scripts/report_sanction_procedural_official_review_packet_fix_queue_ai_ops_214_heartbeat_compaction.py` (retención por tiers `recent/mid/old`) y `scripts/report_sanction_procedural_official_review_packet_fix_queue_ai_ops_214_heartbeat_compaction_window.py` (paridad raw-vs-compacted en ventana con fail-fast en `--strict`) usando alias corto por límite de longitud de nombre de archivo. `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_WINDOW_DIGEST_HEARTBEAT_COMPACT_*`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction` + `parl-check-sanction-procedural-official-review-packet-fix-queue-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window-digest-heartbeat-compaction-window`, integra ambos en `parl-sanction-data-catalog-pipeline`, y `parl-test-sanction-data-catalog` sube a `Ran 133` con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_ai_ops_214_heartbeat_compaction.py` + `tests/test_report_sanction_procedural_official_review_packet_fix_queue_ai_ops_214_heartbeat_compaction_window.py`. Corrida `20260224T150319Z`/`20260224T150329Z`: compaction `status=degraded` esperado (`entries_total=3`, `selected_entries=3`, `dropped_entries=0`, `strict_fail_reasons=[]`) y compaction-window `status=ok` (`entries_total_raw=3`, `entries_total_compacted=3`, `window_raw_entries=3`, `missing_in_compacted_in_window=0`, `latest_present_ok=true`, `strict_fail_reasons=[]`); pipeline en verde y tracker gate post-doc en verde (`mismatches=0`, `done_zero_real=0`). Evidencia: `docs/etl/sprints/AI-OPS-214/reports/sanction-procedural-official-review-packet-fix-queue-ai-ops-214-heartbeat-compaction-lane.md`, `docs/etl/sprints/AI-OPS-214/evidence/ai_ops_214_heartbeat_compaction_latest.json`, `docs/etl/sprints/AI-OPS-214/evidence/ai_ops_214_heartbeat_compaction_window_latest.json`, `docs/etl/sprints/AI-OPS-214/evidence/ai_ops_214_heartbeat_compaction_20260224T150343Z.json`, `docs/etl/sprints/AI-OPS-214/evidence/ai_ops_214_heartbeat_compaction_window_20260224T150343Z.json`, `docs/etl/sprints/AI-OPS-214/evidence/just_parl_report_ai_ops_214_20260224T150319Z.txt`, `docs/etl/sprints/AI-OPS-214/evidence/just_parl_check_ai_ops_214_20260224T150319Z.txt`, `docs/etl/sprints/AI-OPS-214/evidence/just_parl_test_sanction_data_catalog_20260224T150303Z.txt`, `docs/etl/sprints/AI-OPS-214/evidence/just_parl_sanction_data_catalog_pipeline_20260224T150329Z.txt`, `docs/etl/sprints/AI-OPS-214/evidence/just_etl_tracker_gate_post_docs_tracker_20260224T150601Z.txt`.
- AI-OPS-215 continúa `Scenario A` añadiendo digest compacto strict sobre la paridad compaction-window de AI-OPS-214: se incorpora `scripts/report_sanction_procedural_official_review_packet_fix_queue_ai_ops_215_digest.py` (alias corto por límite de longitud de nombre de archivo), reutilizando el contrato base de digest para consolidar señal de bajo ruido (`status`, `risk_level`, `risk_reasons`, `strict_fail_reasons`, `key_metrics`) a partir de `ai_ops_214_heartbeat_compaction_window_latest.json`. `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_AI_OPS_215_DIGEST_IN` + `..._OUT`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-ai-ops-215-digest` + `parl-check-sanction-procedural-official-review-packet-fix-queue-ai-ops-215-digest`, integra el check en `parl-sanction-data-catalog-pipeline`, y `parl-test-sanction-data-catalog` sube a `Ran 136` con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_ai_ops_215_digest.py`. Corrida `20260224T151207Z`/`20260224T151217Z`: digest `status=ok`, `risk_level=green`, `risk_reasons=[]`, `strict_fail_reasons=[]`, con primera corrida `entries_total_raw=4`/`entries_total_compacted=4`/`window_raw_entries=4` y replay integrado en pipeline `entries_total_raw=5`/`entries_total_compacted=5`/`window_raw_entries=5`; en ambos casos `missing_in_compacted_in_window=0` y `raw_window_coverage_pct=100.0`. Pipeline y tracker gate en verde (`mismatches=0`, `done_zero_real=0`) y post-doc tracker gate también en verde. Evidencia: `docs/etl/sprints/AI-OPS-215/reports/sanction-procedural-official-review-packet-fix-queue-ai-ops-215-digest-lane.md`, `docs/etl/sprints/AI-OPS-215/evidence/ai_ops_215_digest_latest.json`, `docs/etl/sprints/AI-OPS-215/evidence/ai_ops_215_digest_20260224T151207Z.json`, `docs/etl/sprints/AI-OPS-215/evidence/ai_ops_215_digest_20260224T151217Z.json`, `docs/etl/sprints/AI-OPS-215/evidence/just_parl_report_ai_ops_215_20260224T151207Z.txt`, `docs/etl/sprints/AI-OPS-215/evidence/just_parl_check_ai_ops_215_20260224T151207Z.txt`, `docs/etl/sprints/AI-OPS-215/evidence/just_parl_test_sanction_data_catalog_20260224T151152Z.txt`, `docs/etl/sprints/AI-OPS-215/evidence/just_parl_sanction_data_catalog_pipeline_20260224T151217Z.txt`, `docs/etl/sprints/AI-OPS-215/evidence/just_etl_tracker_gate_20260224T151217Z.txt`, `docs/etl/sprints/AI-OPS-215/evidence/just_etl_tracker_gate_post_docs_tracker_20260224T151733Z.txt`.
- AI-OPS-216 continúa `Scenario A` añadiendo continuidad heartbeat append-only sobre el digest compacto AI-OPS-215: se incorpora `scripts/report_sanction_procedural_official_review_packet_fix_queue_ai_ops_216_digest_heartbeat.py` (alias corto por límite de longitud de nombre de archivo) para registrar latidos deduplicados (`heartbeat_id`) sobre `ai_ops_215_digest_latest.json`, con validación strict de contrato y salida reproducible (`history_size_before/after`, `appended`, `duplicate_detected`, `validation_errors`, `heartbeat.*`). `justfile` agrega variables `SANCTION_PROCEDURAL_OFFICIAL_REVIEW_PACKET_FIX_QUEUE_AI_OPS_216_DIGEST_HEARTBEAT_DIGEST_JSON` + `..._PATH` + `..._OUT`, lanes `parl-report-sanction-procedural-official-review-packet-fix-queue-ai-ops-216-digest-heartbeat` + `parl-check-sanction-procedural-official-review-packet-fix-queue-ai-ops-216-digest-heartbeat`, integra el check en `parl-sanction-data-catalog-pipeline`, y `parl-test-sanction-data-catalog` sube a `Ran 138` con `tests/test_report_sanction_procedural_official_review_packet_fix_queue_ai_ops_216_digest_heartbeat.py`. Corrida `20260224T152411Z`/`20260224T152416Z`: heartbeat `status=ok`, `risk_level=green`, `validation_errors=[]`, `strict_fail_count=0`; check dedupe confirma `duplicate_detected=true` (`history_size_before=1`, `history_size_after=1`). Replay integrado en pipeline `20260224T152431Z` agrega una fila (`history_size_before=1`, `history_size_after=2`, `window_raw_entries=6`, `raw_window_coverage_pct=100.0`) manteniendo `status=ok`. Pipeline y tracker gate en verde (`mismatches=0`, `done_zero_real=0`). Evidencia: `docs/etl/sprints/AI-OPS-216/reports/sanction-procedural-official-review-packet-fix-queue-ai-ops-216-digest-heartbeat-lane.md`, `docs/etl/sprints/AI-OPS-216/evidence/ai_ops_216_digest_heartbeat_latest.json`, `docs/etl/sprints/AI-OPS-216/evidence/ai_ops_216_digest_heartbeat_20260224T152411Z.json`, `docs/etl/sprints/AI-OPS-216/evidence/ai_ops_216_digest_heartbeat_20260224T152416Z.json`, `docs/etl/sprints/AI-OPS-216/evidence/just_parl_report_ai_ops_216_20260224T152411Z.txt`, `docs/etl/sprints/AI-OPS-216/evidence/just_parl_check_ai_ops_216_20260224T152416Z.txt`, `docs/etl/sprints/AI-OPS-216/evidence/just_parl_test_sanction_data_catalog_20260224T152421Z.txt`, `docs/etl/sprints/AI-OPS-216/evidence/just_parl_sanction_data_catalog_pipeline_20260224T152431Z.txt`, `docs/etl/sprints/AI-OPS-216/evidence/just_etl_tracker_gate_20260224T152440Z.txt`.
