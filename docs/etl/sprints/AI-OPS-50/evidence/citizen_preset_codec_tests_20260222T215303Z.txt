node --test tests/test_citizen_preset_codec.js tests/test_report_citizen_preset_fixture_contract.js tests/test_report_citizen_preset_codec_parity.js tests/test_report_citizen_preset_codec_sync_state.js tests/test_report_citizen_preset_contract_bundle.js tests/test_report_citizen_preset_contract_bundle_history.js tests/test_report_citizen_preset_contract_bundle_history_window.js tests/test_report_citizen_preset_contract_bundle_history_compaction.js tests/test_report_citizen_preset_contract_bundle_history_slo.js
TAP version 13
# Subtest: preset codec encodes and decodes with normalization
ok 1 - preset codec encodes and decodes with normalization
  ---
  duration_ms: 1.443792
  ...
# Subtest: readPresetFromHash follows fixture matrix contract
ok 2 - readPresetFromHash follows fixture matrix contract
  ---
  duration_ms: 0.450833
  ...
# Subtest: buildAlignmentPresetShareUrl follows fixture roundtrip contract
ok 3 - buildAlignmentPresetShareUrl follows fixture roundtrip contract
  ---
  duration_ms: 0.52475
  ...
# Subtest: decodePresetPayload returns empty object when fields are unsupported
ok 4 - decodePresetPayload returns empty object when fields are unsupported
  ---
  duration_ms: 0.113458
  ...
# Subtest: preset codec parity reporter passes strict mode on identical files
ok 5 - preset codec parity reporter passes strict mode on identical files
  ---
  duration_ms: 56.710458
  ...
# Subtest: preset codec parity reporter fails strict mode on mismatch and exposes first diff
ok 6 - preset codec parity reporter fails strict mode on mismatch and exposes first diff
  ---
  duration_ms: 50.300583
  ...
# Subtest: preset codec sync-state reporter passes strict mode when already synchronized
ok 7 - preset codec sync-state reporter passes strict mode when already synchronized
  ---
  duration_ms: 56.852625
  ...
# Subtest: preset codec sync-state reporter fails strict mode when published copy is stale
ok 8 - preset codec sync-state reporter fails strict mode when published copy is stale
  ---
  duration_ms: 50.079792
  ...
# Subtest: preset contract bundle passes strict mode when all subcontracts pass
ok 9 - preset contract bundle passes strict mode when all subcontracts pass
  ---
  duration_ms: 162.697292
  ...
# Subtest: preset contract bundle fails strict mode when published asset is stale
ok 10 - preset contract bundle fails strict mode when published asset is stale
  ---
  duration_ms: 124.084042
  ...
# Subtest: preset contract bundle history reporter appends baseline without regression
ok 11 - preset contract bundle history reporter appends baseline without regression
  ---
  duration_ms: 55.53975
  ...
# Subtest: preset contract bundle history reporter fails strict on regression
ok 12 - preset contract bundle history reporter fails strict on regression
  ---
  duration_ms: 79.835584
  ...
# Subtest: history compaction reporter keeps incident entries and writes compacted JSONL
ok 13 - history compaction reporter keeps incident entries and writes compacted JSONL
  ---
  duration_ms: 56.662708
  ...
# Subtest: history compaction reporter fails strict when compaction does not drop rows above threshold
ok 14 - history compaction reporter fails strict when compaction does not drop rows above threshold
  ---
  duration_ms: 49.6465
  ...
# Subtest: history SLO reporter passes strict on clean streak with zero regressions
ok 15 - history SLO reporter passes strict on clean streak with zero regressions
  ---
  duration_ms: 56.28625
  ...
# Subtest: history SLO reporter fails strict when regression and latest dirty break thresholds
ok 16 - history SLO reporter fails strict when regression and latest dirty break thresholds
  ---
  duration_ms: 49.656542
  ...
# Subtest: bundle history window reporter passes strict when window has no regressions
ok 17 - bundle history window reporter passes strict when window has no regressions
  ---
  duration_ms: 55.681042
  ...
# Subtest: bundle history window reporter fails strict when window contains regressions
ok 18 - bundle history window reporter fails strict when window contains regressions
  ---
  duration_ms: 49.5565
  ...
# Subtest: preset fixture reporter passes strict mode for canonical fixture
ok 19 - preset fixture reporter passes strict mode for canonical fixture
  ---
  duration_ms: 57.919666
  ...
# Subtest: preset fixture reporter surfaces failed ids in strict drift run
ok 20 - preset fixture reporter surfaces failed ids in strict drift run
  ---
  duration_ms: 49.823
  ...
1..20
# tests 20
# suites 0
# pass 20
# fail 0
# cancelled 0
# skipped 0
# todo 0
# duration_ms 355.225542
