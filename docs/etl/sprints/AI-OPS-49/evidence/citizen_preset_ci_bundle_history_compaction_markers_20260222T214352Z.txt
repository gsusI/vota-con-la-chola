.github/workflows/etl-tracker-gate.yml:25:          node --test tests/test_citizen_preset_codec.js tests/test_report_citizen_preset_fixture_contract.js tests/test_report_citizen_preset_codec_parity.js tests/test_report_citizen_preset_codec_sync_state.js tests/test_report_citizen_preset_contract_bundle.js tests/test_report_citizen_preset_contract_bundle_history.js tests/test_report_citizen_preset_contract_bundle_history_window.js tests/test_report_citizen_preset_contract_bundle_history_compaction.js
.github/workflows/etl-tracker-gate.yml:77:          node scripts/report_citizen_preset_contract_bundle_history_compaction.js \
.github/workflows/etl-tracker-gate.yml:142:          name: citizen-preset-contract-bundle-history-compaction
docs/etl/README.md:41:- Reporte de compactación de histórico (cadencia 1/5/20 configurable): `just citizen-report-preset-contract-bundle-history-compact` (JSON con `entries_total/selected/dropped`, `tiers`, `incidents_*`, `strict_fail_reasons`; compacted JSONL configurable en `CITIZEN_PRESET_BUNDLE_HISTORY_COMPACT_PATH`).
docs/etl/README.md:42:- CI del contrato preset: `.github/workflows/etl-tracker-gate.yml` incluye job `citizen-preset-contract` (tests + reportes estrictos + artifacts `citizen-preset-contract`, `citizen-preset-codec-parity`, `citizen-preset-codec-sync`, `citizen-preset-contract-bundle`, `citizen-preset-contract-bundle-history`, `citizen-preset-contract-bundle-history-window` y `citizen-preset-contract-bundle-history-compaction`).
docs/etl/README.md:268:just citizen-report-preset-contract-bundle-history-compact
tests/test_report_citizen_preset_contract_bundle_history_compaction.js:9:  const script = path.join(__dirname, "..", "scripts", "report_citizen_preset_contract_bundle_history_compaction.js");
justfile:105:citizen_preset_bundle_history_compact_path := env_var_or_default("CITIZEN_PRESET_BUNDLE_HISTORY_COMPACT_PATH", "docs/etl/runs/citizen_preset_contract_bundle_history.compacted.jsonl")
justfile:106:citizen_preset_bundle_history_compact_recent := env_var_or_default("CITIZEN_PRESET_BUNDLE_HISTORY_COMPACT_RECENT", "20")
justfile:107:citizen_preset_bundle_history_compact_mid_span := env_var_or_default("CITIZEN_PRESET_BUNDLE_HISTORY_COMPACT_MID_SPAN", "100")
justfile:108:citizen_preset_bundle_history_compact_mid_every := env_var_or_default("CITIZEN_PRESET_BUNDLE_HISTORY_COMPACT_MID_EVERY", "5")
justfile:109:citizen_preset_bundle_history_compact_old_every := env_var_or_default("CITIZEN_PRESET_BUNDLE_HISTORY_COMPACT_OLD_EVERY", "20")
justfile:110:citizen_preset_bundle_history_compact_min_raw := env_var_or_default("CITIZEN_PRESET_BUNDLE_HISTORY_COMPACT_MIN_RAW", "25")
justfile:111:citizen_preset_bundle_history_compact_out := env_var_or_default("CITIZEN_PRESET_BUNDLE_HISTORY_COMPACT_OUT", "")
justfile:749:  node --test tests/test_citizen_preset_codec.js tests/test_report_citizen_preset_fixture_contract.js tests/test_report_citizen_preset_codec_parity.js tests/test_report_citizen_preset_codec_sync_state.js tests/test_report_citizen_preset_contract_bundle.js tests/test_report_citizen_preset_contract_bundle_history.js tests/test_report_citizen_preset_contract_bundle_history_window.js tests/test_report_citizen_preset_contract_bundle_history_compaction.js
justfile:782:citizen-report-preset-contract-bundle-history-compact:
justfile:787:  node scripts/report_citizen_preset_contract_bundle_history_compaction.js --history-jsonl "{{citizen_preset_bundle_history_path}}" --keep-recent "{{citizen_preset_bundle_history_compact_recent}}" --keep-mid-span "{{citizen_preset_bundle_history_compact_mid_span}}" --keep-mid-every "{{citizen_preset_bundle_history_compact_mid_every}}" --keep-old-every "{{citizen_preset_bundle_history_compact_old_every}}" --min-raw-for-dropped-check "{{citizen_preset_bundle_history_compact_min_raw}}" --strict ${compact_arg} ${out_arg}
