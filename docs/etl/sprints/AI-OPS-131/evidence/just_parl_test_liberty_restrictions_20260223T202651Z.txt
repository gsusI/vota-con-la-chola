python3 -m unittest tests/test_validate_liberty_restrictions_seed.py tests/test_import_liberty_restrictions_seed.py tests/test_report_liberty_restrictions_status.py tests/test_report_liberty_focus_scope_guard.py tests/test_report_liberty_restrictions_status_heartbeat.py tests/test_report_liberty_restrictions_status_heartbeat_window.py tests/test_validate_liberty_proportionality_seed.py tests/test_import_liberty_proportionality_seed.py tests/test_report_liberty_proportionality_status.py tests/test_report_liberty_direct_accountability_scores.py tests/test_validate_liberty_enforcement_seed.py tests/test_import_liberty_enforcement_seed.py tests/test_report_liberty_enforcement_variation_status.py tests/test_validate_liberty_indirect_accountability_seed.py tests/test_import_liberty_indirect_accountability_seed.py tests/test_report_liberty_indirect_accountability_status.py tests/test_validate_liberty_delegated_enforcement_seed.py tests/test_import_liberty_delegated_enforcement_seed.py tests/test_report_liberty_delegated_enforcement_status.py tests/test_export_liberty_restrictions_snapshot.py tests/test_publish_liberty_atlas_artifacts.py tests/test_report_liberty_atlas_changelog_continuity.py tests/test_report_liberty_atlas_release_heartbeat.py tests/test_report_liberty_atlas_release_heartbeat_window.py
...........{
  "generated_at": "2026-02-23T20:26:52+00:00",
  "strict": true,
  "input": {
    "status_json": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmps0p_q3d0/status.json",
    "changed_paths_file": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmps0p_q3d0/changed_paths.txt"
  },
  "status_doc_status": "degraded",
  "focus_gate_passed": false,
  "focus_gate_state": "degraded",
  "changed_paths_total": 2,
  "allowed_paths_total": 1,
  "non_rights_paths_total": 1,
  "changed_paths": [
    "ui/citizen/index.html",
    "scripts/report_liberty_restrictions_status.py"
  ],
  "allowed_paths": [
    {
      "path": "scripts/report_liberty_restrictions_status.py",
      "reason": "rights_prefix"
    }
  ],
  "non_rights_paths": [
    {
      "path": "ui/citizen/index.html",
      "reason": "outside_rights_scope"
    }
  ],
  "checks": {
    "status_json_exists_ok": true,
    "status_json_valid_ok": true,
    "changed_paths_file_exists_ok": true,
    "focus_gate_known_ok": true,
    "degraded_scope_ok": false
  },
  "strict_fail_reasons": [
    "non_rights_changes_under_degraded_focus"
  ],
  "status": "failed"
}
{
  "generated_at": "2026-02-23T20:26:52+00:00",
  "strict": true,
  "input": {
    "status_json": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmppy07tm9t/status.json",
    "changed_paths_file": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmppy07tm9t/changed_paths.txt"
  },
  "status_doc_status": "degraded",
  "focus_gate_passed": false,
  "focus_gate_state": "degraded",
  "changed_paths_total": 3,
  "allowed_paths_total": 3,
  "non_rights_paths_total": 0,
  "changed_paths": [
    "scripts/report_liberty_restrictions_status.py",
    "tests/test_report_liberty_restrictions_status.py",
    "docs/roadmap-tecnico.md"
  ],
  "allowed_paths": [
    {
      "path": "scripts/report_liberty_restrictions_status.py",
      "reason": "rights_prefix"
    },
    {
      "path": "tests/test_report_liberty_restrictions_status.py",
      "reason": "rights_prefix"
    },
    {
      "path": "docs/roadmap-tecnico.md",
      "reason": "always_allowed"
    }
  ],
  "non_rights_paths": [],
  "checks": {
    "status_json_exists_ok": true,
    "status_json_valid_ok": true,
    "changed_paths_file_exists_ok": true,
    "focus_gate_known_ok": true,
    "degraded_scope_ok": true
  },
  "strict_fail_reasons": [],
  "status": "degraded"
}
{
  "generated_at": "2026-02-23T20:26:52+00:00",
  "strict": true,
  "input": {
    "status_json": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpcmsjdm07/status.json",
    "changed_paths_file": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpcmsjdm07/changed_paths.txt"
  },
  "status_doc_status": "ok",
  "focus_gate_passed": null,
  "focus_gate_state": "unknown",
  "changed_paths_total": 1,
  "allowed_paths_total": 1,
  "non_rights_paths_total": 0,
  "changed_paths": [
    "scripts/report_liberty_restrictions_status.py"
  ],
  "allowed_paths": [
    {
      "path": "scripts/report_liberty_restrictions_status.py",
      "reason": "rights_prefix"
    }
  ],
  "non_rights_paths": [],
  "checks": {
    "status_json_exists_ok": true,
    "status_json_valid_ok": true,
    "changed_paths_file_exists_ok": true,
    "focus_gate_known_ok": false,
    "degraded_scope_ok": true
  },
  "strict_fail_reasons": [
    "focus_gate_unknown"
  ],
  "status": "failed"
}
{
  "generated_at": "2026-02-23T20:26:52+00:00",
  "strict": true,
  "input": {
    "status_json": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpvdf2urmq/status.json",
    "changed_paths_file": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpvdf2urmq/changed_paths.txt"
  },
  "status_doc_status": "ok",
  "focus_gate_passed": true,
  "focus_gate_state": "ok",
  "changed_paths_total": 1,
  "allowed_paths_total": 0,
  "non_rights_paths_total": 1,
  "changed_paths": [
    "ui/citizen/index.html"
  ],
  "allowed_paths": [],
  "non_rights_paths": [
    {
      "path": "ui/citizen/index.html",
      "reason": "outside_rights_scope"
    }
  ],
  "checks": {
    "status_json_exists_ok": true,
    "status_json_valid_ok": true,
    "changed_paths_file_exists_ok": true,
    "focus_gate_known_ok": true,
    "degraded_scope_ok": true
  },
  "strict_fail_reasons": [],
  "status": "ok"
}
{
  "generated_at": "2026-02-23T20:26:52+00:00",
  "strict": true,
  "input_path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmplhq43j2i/status_ok.json",
  "heartbeat_path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmplhq43j2i/heartbeat.jsonl",
  "history_size_before": 0,
  "history_size_after": 1,
  "history_malformed_lines_before": 0,
  "appended": true,
  "duplicate_detected": false,
  "validation_errors": [],
  "strict_fail_reasons": [],
  "heartbeat": {
    "run_at": "2026-02-23T19:00:00+00:00",
    "heartbeat_id": "2026-02-23T19:00:00+00:00|ok|1.000000|1.000000|1.000000|1.000000|1.000000|1|8|8|",
    "status_path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmplhq43j2i/status_ok.json",
    "status_generated_at": "2026-02-23T19:00:00+00:00",
    "status": "ok",
    "norms_total": 8,
    "fragments_total": 8,
    "assessments_total": 8,
    "norms_classified_pct": 1.0,
    "fragments_with_irlc_pct": 1.0,
    "fragments_with_accountability_pct": 1.0,
    "fragments_with_dual_coverage_pct": 1.0,
    "right_categories_with_data_pct": 1.0,
    "focus_gate_passed": true,
    "norms_classified_gate_passed": true,
    "fragments_irlc_gate_passed": true,
    "fragments_accountability_gate_passed": true,
    "rights_with_data_gate_passed": true,
    "strict_fail_count": 0,
    "strict_fail_reasons": []
  },
  "status": "ok"
}
{
  "generated_at": "2026-02-23T20:26:52+00:00",
  "strict": true,
  "input_path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmplhq43j2i/status_ok.json",
  "heartbeat_path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmplhq43j2i/heartbeat.jsonl",
  "history_size_before": 1,
  "history_size_after": 1,
  "history_malformed_lines_before": 0,
  "appended": false,
  "duplicate_detected": true,
  "validation_errors": [],
  "strict_fail_reasons": [],
  "heartbeat": {
    "run_at": "2026-02-23T19:00:00+00:00",
    "heartbeat_id": "2026-02-23T19:00:00+00:00|ok|1.000000|1.000000|1.000000|1.000000|1.000000|1|8|8|",
    "status_path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmplhq43j2i/status_ok.json",
    "status_generated_at": "2026-02-23T19:00:00+00:00",
    "status": "ok",
    "norms_total": 8,
    "fragments_total": 8,
    "assessments_total": 8,
    "norms_classified_pct": 1.0,
    "fragments_with_irlc_pct": 1.0,
    "fragments_with_accountability_pct": 1.0,
    "fragments_with_dual_coverage_pct": 1.0,
    "right_categories_with_data_pct": 1.0,
    "focus_gate_passed": true,
    "norms_classified_gate_passed": true,
    "fragments_irlc_gate_passed": true,
    "fragments_accountability_gate_passed": true,
    "rights_with_data_gate_passed": true,
    "strict_fail_count": 0,
    "strict_fail_reasons": []
  },
  "status": "ok"
}
{
  "generated_at": "2026-02-23T20:26:52+00:00",
  "strict": true,
  "input_path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpwhscp5rj/status_degraded.json",
  "heartbeat_path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpwhscp5rj/heartbeat.jsonl",
  "history_size_before": 0,
  "history_size_after": 1,
  "history_malformed_lines_before": 0,
  "appended": true,
  "duplicate_detected": false,
  "validation_errors": [],
  "strict_fail_reasons": [],
  "heartbeat": {
    "run_at": "2026-02-23T19:00:00+00:00",
    "heartbeat_id": "2026-02-23T19:00:00+00:00|degraded|0.750000|0.750000|0.750000|0.750000|0.750000|0|8|8|",
    "status_path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpwhscp5rj/status_degraded.json",
    "status_generated_at": "2026-02-23T19:00:00+00:00",
    "status": "degraded",
    "norms_total": 8,
    "fragments_total": 8,
    "assessments_total": 8,
    "norms_classified_pct": 0.75,
    "fragments_with_irlc_pct": 0.75,
    "fragments_with_accountability_pct": 0.75,
    "fragments_with_dual_coverage_pct": 0.75,
    "right_categories_with_data_pct": 0.75,
    "focus_gate_passed": false,
    "norms_classified_gate_passed": false,
    "fragments_irlc_gate_passed": false,
    "fragments_accountability_gate_passed": false,
    "rights_with_data_gate_passed": false,
    "strict_fail_count": 0,
    "strict_fail_reasons": []
  },
  "status": "degraded"
}....
{
  "generated_at": "2026-02-23T20:26:52+00:00",
  "strict": true,
  "input_path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpzc3sn1bm/status_failed.json",
  "heartbeat_path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpzc3sn1bm/heartbeat.jsonl",
  "history_size_before": 0,
  "history_size_after": 1,
  "history_malformed_lines_before": 0,
  "appended": true,
  "duplicate_detected": false,
  "validation_errors": [],
  "strict_fail_reasons": [
    "heartbeat_status_failed",
    "liberty_status_failed"
  ],
  "heartbeat": {
    "run_at": "2026-02-23T19:00:00+00:00",
    "heartbeat_id": "2026-02-23T19:00:00+00:00|failed|0.750000|0.750000|0.750000|0.750000|0.750000|0|8|8|liberty_status_failed",
    "status_path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpzc3sn1bm/status_failed.json",
    "status_generated_at": "2026-02-23T19:00:00+00:00",
    "status": "failed",
    "norms_total": 8,
    "fragments_total": 8,
    "assessments_total": 8,
    "norms_classified_pct": 0.75,
    "fragments_with_irlc_pct": 0.75,
    "fragments_with_accountability_pct": 0.75,
    "fragments_with_dual_coverage_pct": 0.75,
    "right_categories_with_data_pct": 0.75,
    "focus_gate_passed": false,
    "norms_classified_gate_passed": false,
    "fragments_irlc_gate_passed": false,
    "fragments_accountability_gate_passed": false,
    "rights_with_data_gate_passed": false,
    "strict_fail_count": 1,
    "strict_fail_reasons": [
      "liberty_status_failed"
    ]
  },
  "status": "failed"
}
{
  "generated_at": "2026-02-23T20:26:52+00:00",
  "strict": true,
  "heartbeat_path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmp6k3ckd7f/heartbeat.jsonl",
  "window_last": 2,
  "thresholds": {
    "max_failed": 0,
    "max_failed_rate_pct": 0.0,
    "max_focus_gate_failed": 0,
    "max_focus_gate_failed_rate_pct": 0.0,
    "max_norms_classified_gate_failed": 0,
    "max_fragments_irlc_gate_failed": 0,
    "max_fragments_accountability_gate_failed": 0,
    "max_rights_with_data_gate_failed": 0
  },
  "entries_total": 2,
  "entries_in_window": 2,
  "malformed_entries_in_window": 0,
  "status_counts": {
    "ok": 1,
    "degraded": 1,
    "failed": 0
  },
  "failed_in_window": 0,
  "failed_rate_pct": 0.0,
  "degraded_in_window": 1,
  "degraded_rate_pct": 50.0,
  "focus_gate_failed_in_window": 1,
  "focus_gate_failed_rate_pct": 50.0,
  "norms_classified_gate_failed_in_window": 1,
  "fragments_irlc_gate_failed_in_window": 0,
  "fragments_accountability_gate_failed_in_window": 0,
  "rights_with_data_gate_failed_in_window": 0,
  "first_failed_run_at": "",
  "last_failed_run_at": "",
  "first_focus_gate_failed_run_at": "2026-02-23T19:02:00+00:00",
  "last_focus_gate_failed_run_at": "2026-02-23T19:02:00+00:00",
  "latest": {
    "run_at": "2026-02-23T19:02:00+00:00",
    "heartbeat_id": "2026-02-23T19:02:00+00:00|degraded|2",
    "status": "degraded",
    "line_no": 2,
    "malformed_line": false,
    "status_generated_at": "2026-02-23T19:02:00+00:00",
    "focus_gate_passed": false,
    "norms_classified_gate_passed": false,
    "fragments_irlc_gate_passed": true,
    "fragments_accountability_gate_passed": true,
    "rights_with_data_gate_passed": true
  },
  "failed_streak_latest": 0,
  "degraded_streak_latest": 1,
  "checks": {
    "window_nonempty_ok": true,
    "malformed_entries_ok": true,
    "max_failed_ok": true,
    "max_failed_rate_ok": true,
    "max_focus_gate_failed_ok": false,
    "max_focus_gate_failed_rate_ok": false,
    "max_norms_classified_gate_failed_ok": false,
    "max_fragments_irlc_gate_failed_ok": true,
    "max_fragments_accountability_gate_failed_ok": true,
    "max_rights_with_data_gate_failed_ok": true,
    "latest_not_failed_ok": true,
    "latest_focus_gate_passed_ok": false,
    "latest_norms_classified_gate_ok": false,
    "latest_fragments_irlc_gate_ok": true,
    "latest_fragments_accountability_gate_ok": true,
    "latest_rights_with_data_gate_ok": true
  },
  "strict_fail_reasons": [
    "max_focus_gate_failed_exceeded",
    "max_focus_gate_failed_rate_exceeded",
    "max_norms_classified_gate_failed_exceeded",
    "latest_focus_gate_failed",
    "latest_norms_classified_gate_failed"
  ],
  "status": "failed"
}
{
  "generated_at": "2026-02-23T20:26:53+00:00",
  "strict": true,
  "heartbeat_path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpu9ubiro5/heartbeat.jsonl",
  "window_last": 2,
  "thresholds": {
    "max_failed": 0,
    "max_failed_rate_pct": 0.0,
    "max_focus_gate_failed": 1,
    "max_focus_gate_failed_rate_pct": 100.0,
    "max_norms_classified_gate_failed": 0,
    "max_fragments_irlc_gate_failed": 0,
    "max_fragments_accountability_gate_failed": 0,
    "max_rights_with_data_gate_failed": 0
  },
  "entries_total": 2,
  "entries_in_window": 2,
  "malformed_entries_in_window": 0,
  "status_counts": {
    "ok": 1,
    "degraded": 1,
    "failed": 0
  },
  "failed_in_window": 0,
  "failed_rate_pct": 0.0,
  "degraded_in_window": 1,
  "degraded_rate_pct": 50.0,
  "focus_gate_failed_in_window": 1,
  "focus_gate_failed_rate_pct": 50.0,
  "norms_classified_gate_failed_in_window": 0,
  "fragments_irlc_gate_failed_in_window": 0,
  "fragments_accountability_gate_failed_in_window": 0,
  "rights_with_data_gate_failed_in_window": 1,
  "first_failed_run_at": "",
  "last_failed_run_at": "",
  "first_focus_gate_failed_run_at": "2026-02-23T19:02:00+00:00",
  "last_focus_gate_failed_run_at": "2026-02-23T19:02:00+00:00",
  "latest": {
    "run_at": "2026-02-23T19:02:00+00:00",
    "heartbeat_id": "2026-02-23T19:02:00+00:00|degraded|2",
    "status": "degraded",
    "line_no": 2,
    "malformed_line": false,
    "status_generated_at": "2026-02-23T19:02:00+00:00",
    "focus_gate_passed": false,
    "norms_classified_gate_passed": true,
    "fragments_irlc_gate_passed": true,
    "fragments_accountability_gate_passed": true,
    "rights_with_data_gate_passed": false
  },
  "failed_streak_latest": 0,
  "degraded_streak_latest": 1,
  "checks": {
    "window_nonempty_ok": true,
    "malformed_entries_ok": true,
    "max_failed_ok": true,
    "max_failed_rate_ok": true,
    "max_focus_gate_failed_ok": true,
    "max_focus_gate_failed_rate_ok": true,
    "max_norms_classified_gate_failed_ok": true,
    "max_fragments_irlc_gate_failed_ok": true,
    "max_fragments_accountability_gate_failed_ok": true,
    "max_rights_with_data_gate_failed_ok": false,
    "latest_not_failed_ok": true,
    "latest_focus_gate_passed_ok": false,
    "latest_norms_classified_gate_ok": true,
    "latest_fragments_irlc_gate_ok": true,
    "latest_fragments_accountability_gate_ok": true,
    "latest_rights_with_data_gate_ok": false
  },
  "strict_fail_reasons": [
    "max_rights_with_data_gate_failed_exceeded",
    "latest_focus_gate_failed",
    "latest_rights_with_data_gate_failed"
  ],
  "status": "failed"
}
{
  "generated_at": "2026-02-23T20:26:53+00:00",
  "strict": true,
  "heartbeat_path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmp9tttmzie/heartbeat.jsonl",
  "window_last": 3,
  "thresholds": {
    "max_failed": 0,
    "max_failed_rate_pct": 0.0,
    "max_focus_gate_failed": 0,
    "max_focus_gate_failed_rate_pct": 0.0,
    "max_norms_classified_gate_failed": 0,
    "max_fragments_irlc_gate_failed": 0,
    "max_fragments_accountability_gate_failed": 0,
    "max_rights_with_data_gate_failed": 0
  },
  "entries_total": 3,
  "entries_in_window": 3,
  "malformed_entries_in_window": 0,
  "status_counts": {
    "ok": 3,
    "degraded": 0,
    "failed": 0
  },
  "failed_in_window": 0,
  "failed_rate_pct": 0.0,
  "degraded_in_window": 0,
  "degraded_rate_pct": 0.0,
  "focus_gate_failed_in_window": 0,
  "focus_gate_failed_rate_pct": 0.0,
  "norms_classified_gate_failed_in_window": 0,
  "fragments_irlc_gate_failed_in_window": 0,
  "fragments_accountability_gate_failed_in_window": 0,
  "rights_with_data_gate_failed_in_window": 0,
  "first_failed_run_at": "",
  "last_failed_run_at": "",
  "first_focus_gate_failed_run_at": "",
  "last_focus_gate_failed_run_at": "",
  "latest": {
    "run_at": "2026-02-23T19:03:00+00:00",
    "heartbeat_id": "2026-02-23T19:03:00+00:00|ok|3",
    "status": "ok",
    "line_no": 3,
    "malformed_line": false,
    "status_generated_at": "2026-02-23T19:03:00+00:00",
    "focus_gate_passed": true,
    "norms_classified_gate_passed": true,
    "fragments_irlc_gate_passed": true,
    "fragments_accountability_gate_passed": true,
    "rights_with_data_gate_passed": true
  },
  "failed_streak_latest": 0,
  "degraded_streak_latest": 0,
  "checks": {
    "window_nonempty_ok": true,
    "malformed_entries_ok": true,
    "max_failed_ok": true,
    "max_failed_rate_ok": true,
    "max_focus_gate_failed_ok": true,
    "max_focus_gate_failed_rate_ok": true,
    "max_norms_classified_gate_failed_ok": true,
    "max_fragments_irlc_gate_failed_ok": true,
    "max_fragments_accountability_gate_failed_ok": true,
    "max_rights_with_data_gate_failed_ok": true,
    "latest_not_failed_ok": true,
    "latest_focus_gate_passed_ok": true,
    "latest_norms_classified_gate_ok": true,
    "latest_fragments_irlc_gate_ok": true,
    "latest_fragments_accountability_gate_ok": true,
    "latest_rights_with_data_gate_ok": true
  },
  "strict_fail_reasons": [],
  "status": "ok"
}.........................s......
{"error": "window_last must be >= 1"}
{
  "generated_at": "2026-02-23T20:26:54+00:00",
  "strict": true,
  "input": {
    "published_release_json": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpg8cx1hz4/published.json",
    "gh_pages_release_json": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpg8cx1hz4/gh.json",
    "continuity_json": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpg8cx1hz4/continuity.json",
    "heartbeat_jsonl": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpg8cx1hz4/heartbeat.jsonl"
  },
  "history_size_before": 0,
  "history_size_after": 1,
  "history_malformed_lines_before": 0,
  "appended": true,
  "duplicate_detected": false,
  "validation_errors": [],
  "strict_fail_reasons": [
    "published_gh_pages_drift_detected",
    "gh_pages_hf_drift_detected"
  ],
  "warnings": [],
  "heartbeat": {
    "run_at": "2026-02-23T20:26:54+00:00",
    "heartbeat_id": "2026-02-23T20:26:54+00:00|2026-02-23|1f9f45a713ae219639138361684ccb159f6104017410c5f22142e3b525b599d6|bd0b196a559a20ad93ef83265903458fda5123dd3cce52502d97ad1fba504aa4|1f9f45a713ae219639138361684ccb159f6104017410c5f22142e3b525b599d6|2",
    "status": "failed",
    "snapshot_date_expected": "2026-02-23",
    "max_snapshot_age_days": 14,
    "allow_hf_unavailable": false,
    "published": {
      "source": "published",
      "status": "ok",
      "snapshot_date": "2026-02-23",
      "entry_id": "snap-2026-02-23",
      "history_latest_entry_id": "snap-2026-02-23",
      "schema_version": "liberty_restrictions_snapshot_v1",
      "snapshot_restrictions_total": 8,
      "snapshot_age_days": 0,
      "fingerprint": "1f9f45a713ae219639138361684ccb159f6104017410c5f22142e3b525b599d6"
    },
    "gh_pages": {
      "source": "gh_pages",
      "status": "ok",
      "snapshot_date": "2026-02-23",
      "entry_id": "snap-2026-02-23-gh",
      "history_latest_entry_id": "snap-2026-02-23-gh",
      "schema_version": "liberty_restrictions_snapshot_v1",
      "snapshot_restrictions_total": 8,
      "snapshot_age_days": 0,
      "fingerprint": "bd0b196a559a20ad93ef83265903458fda5123dd3cce52502d97ad1fba504aa4"
    },
    "hf": {
      "source": "file:/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpg8cx1hz4/hf.json",
      "dataset_repo": "",
      "latest_url": "",
      "latest_snapshot_date": "",
      "url": "",
      "available": true,
      "fetch_error": "",
      "release": {
        "source": "hf",
        "status": "ok",
        "snapshot_date": "2026-02-23",
        "entry_id": "snap-2026-02-23",
        "history_latest_entry_id": "snap-2026-02-23",
        "schema_version": "liberty_restrictions_snapshot_v1",
        "snapshot_restrictions_total": 8,
        "snapshot_age_days": 0,
        "fingerprint": "1f9f45a713ae219639138361684ccb159f6104017410c5f22142e3b525b599d6"
      }
    },
    "continuity": {
      "path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpg8cx1hz4/continuity.json",
      "status": "ok",
      "latest_snapshot_date": "2026-02-23",
      "latest_entry_id": "snap-2026-02-23",
      "previous_snapshot_chain_ok": true,
      "strict_fail_reasons": []
    },
    "checks": {
      "published_release_ok": true,
      "gh_pages_release_ok": true,
      "continuity_ok": true,
      "published_gh_parity_ok": false,
      "hf_available": true,
      "hf_release_ok_or_allowed": true,
      "published_hf_parity_ok": true,
      "gh_pages_hf_parity_ok": false,
      "expected_snapshot_match_ok": true,
      "stale_snapshot_ok": true,
      "continuity_entry_matches_published_ok": true
    },
    "stale_surfaces": [],
    "stale_alerts_count": 0,
    "drift_alerts_count": 2,
    "hf_unavailable": false,
    "warning_count": 0,
    "warnings": [],
    "strict_fail_count": 2,
    "strict_fail_reasons": [
      "published_gh_pages_drift_detected",
      "gh_pages_hf_drift_detected"
    ]
  },
  "status": "failed"
}
{
  "generated_at": "2026-02-23T20:26:54+00:00",
  "strict": true,
  "input": {
    "published_release_json": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmp9wh3o8pj/published.json",
    "gh_pages_release_json": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmp9wh3o8pj/gh.json",
    "continuity_json": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmp9wh3o8pj/continuity.json",
    "heartbeat_jsonl": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmp9wh3o8pj/heartbeat.jsonl"
  },
  "history_size_before": 0,
  "history_size_after": 1,
  "history_malformed_lines_before": 0,
  "appended": true,
  "duplicate_detected": false,
  "validation_errors": [],
  "strict_fail_reasons": [
    "published_hf_drift_detected",
    "gh_pages_hf_drift_detected",
    "snapshot_date_mismatch:hf",
    "stale_snapshot:published",
    "stale_snapshot:gh_pages"
  ],
  "warnings": [],
  "heartbeat": {
    "run_at": "2026-02-23T20:26:56+00:00",
    "heartbeat_id": "2026-02-23T20:26:56+00:00|2025-01-01|3908af053a30251b5f89c7c223e84ed0fbb0228ceafe89767fc787d8b9043c98|3908af053a30251b5f89c7c223e84ed0fbb0228ceafe89767fc787d8b9043c98|6aec7d7cf05b8dd35411981e842adfdccbd6534c0ffc4fbd6754428c59008596|5",
    "status": "failed",
    "snapshot_date_expected": "2025-01-01",
    "max_snapshot_age_days": 1,
    "allow_hf_unavailable": true,
    "published": {
      "source": "published",
      "status": "ok",
      "snapshot_date": "2025-01-01",
      "entry_id": "snap-2025-01-01",
      "history_latest_entry_id": "snap-2025-01-01",
      "schema_version": "liberty_restrictions_snapshot_v1",
      "snapshot_restrictions_total": 8,
      "snapshot_age_days": 418,
      "fingerprint": "3908af053a30251b5f89c7c223e84ed0fbb0228ceafe89767fc787d8b9043c98"
    },
    "gh_pages": {
      "source": "gh_pages",
      "status": "ok",
      "snapshot_date": "2025-01-01",
      "entry_id": "snap-2025-01-01",
      "history_latest_entry_id": "snap-2025-01-01",
      "schema_version": "liberty_restrictions_snapshot_v1",
      "snapshot_restrictions_total": 8,
      "snapshot_age_days": 418,
      "fingerprint": "3908af053a30251b5f89c7c223e84ed0fbb0228ceafe89767fc787d8b9043c98"
    },
    "hf": {
      "source": "https://huggingface.co/datasets/JesusIC/vota-con-la-chola-data/resolve/main/snapshots/2026-02-23/published/liberty-restrictions-atlas-release-2026-02-23.json",
      "dataset_repo": "JesusIC/vota-con-la-chola-data",
      "latest_url": "https://huggingface.co/datasets/JesusIC/vota-con-la-chola-data/resolve/main/latest.json",
      "latest_snapshot_date": "2026-02-23",
      "url": "https://huggingface.co/datasets/JesusIC/vota-con-la-chola-data/resolve/main/snapshots/2026-02-23/published/liberty-restrictions-atlas-release-2026-02-23.json",
      "available": true,
      "fetch_error": "",
      "release": {
        "source": "hf",
        "status": "ok",
        "snapshot_date": "2026-02-23",
        "entry_id": "2026-02-23||4d5769bf5cecf40fa62cf888de39d92f18c30b87f78afdafc1c91045c2789bef",
        "history_latest_entry_id": "2026-02-23||4d5769bf5cecf40fa62cf888de39d92f18c30b87f78afdafc1c91045c2789bef",
        "schema_version": "liberty_restrictions_snapshot_v1",
        "snapshot_restrictions_total": 8,
        "snapshot_age_days": 0,
        "fingerprint": "6aec7d7cf05b8dd35411981e842adfdccbd6534c0ffc4fbd6754428c59008596"
      }
    },
    "continuity": {
      "path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmp9wh3o8pj/continuity.json",
      "status": "ok",
      "latest_snapshot_date": "2025-01-01",
      "latest_entry_id": "snap-2025-01-01",
      "previous_snapshot_chain_ok": true,
      "strict_fail_reasons": []
    },
    "checks": {
      "published_release_ok": true,
      "gh_pages_release_ok": true,
      "continuity_ok": true,
      "published_gh_parity_ok": true,
      "hf_available": true,
      "hf_release_ok_or_allowed": true,
      "published_hf_parity_ok": false,
      "gh_pages_hf_parity_ok": false,
      "expected_snapshot_match_ok": false,
      "stale_snapshot_ok": false,
      "continuity_entry_matches_published_ok": true
    },
    "stale_surfaces": [
      "published",
      "gh_pages"
    ],
    "stale_alerts_count": 2,
    "drift_alerts_count": 2,
    "hf_unavailable": false,
    "warning_count": 0,
    "warnings": [],
    "strict_fail_count": 5,
    "strict_fail_reasons": [
      "published_hf_drift_detected",
      "gh_pages_hf_drift_detected",
      "snapshot_date_mismatch:hf",
      "stale_snapshot:published",
      "stale_snapshot:gh_pages"
    ]
  },
  "status": "failed"
}.....
----------------------------------------------------------------------
Ran 52 tests in 4.300s

OK (skipped=1)

{
  "generated_at": "2026-02-23T20:26:56+00:00",
  "strict": true,
  "input": {
    "published_release_json": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpa9zrhprw/published.json",
    "gh_pages_release_json": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpa9zrhprw/gh.json",
    "continuity_json": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpa9zrhprw/continuity.json",
    "heartbeat_jsonl": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpa9zrhprw/heartbeat.jsonl"
  },
  "history_size_before": 0,
  "history_size_after": 1,
  "history_malformed_lines_before": 0,
  "appended": true,
  "duplicate_detected": false,
  "validation_errors": [],
  "strict_fail_reasons": [],
  "warnings": [],
  "heartbeat": {
    "run_at": "2026-02-23T20:26:56+00:00",
    "heartbeat_id": "2026-02-23T20:26:56+00:00|2026-02-23|1f9f45a713ae219639138361684ccb159f6104017410c5f22142e3b525b599d6|1f9f45a713ae219639138361684ccb159f6104017410c5f22142e3b525b599d6|1f9f45a713ae219639138361684ccb159f6104017410c5f22142e3b525b599d6|0",
    "status": "ok",
    "snapshot_date_expected": "2026-02-23",
    "max_snapshot_age_days": 14,
    "allow_hf_unavailable": false,
    "published": {
      "source": "published",
      "status": "ok",
      "snapshot_date": "2026-02-23",
      "entry_id": "snap-2026-02-23",
      "history_latest_entry_id": "snap-2026-02-23",
      "schema_version": "liberty_restrictions_snapshot_v1",
      "snapshot_restrictions_total": 8,
      "snapshot_age_days": 0,
      "fingerprint": "1f9f45a713ae219639138361684ccb159f6104017410c5f22142e3b525b599d6"
    },
    "gh_pages": {
      "source": "gh_pages",
      "status": "ok",
      "snapshot_date": "2026-02-23",
      "entry_id": "snap-2026-02-23",
      "history_latest_entry_id": "snap-2026-02-23",
      "schema_version": "liberty_restrictions_snapshot_v1",
      "snapshot_restrictions_total": 8,
      "snapshot_age_days": 0,
      "fingerprint": "1f9f45a713ae219639138361684ccb159f6104017410c5f22142e3b525b599d6"
    },
    "hf": {
      "source": "file:/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpa9zrhprw/hf.json",
      "dataset_repo": "",
      "latest_url": "",
      "latest_snapshot_date": "",
      "url": "",
      "available": true,
      "fetch_error": "",
      "release": {
        "source": "hf",
        "status": "ok",
        "snapshot_date": "2026-02-23",
        "entry_id": "snap-2026-02-23",
        "history_latest_entry_id": "snap-2026-02-23",
        "schema_version": "liberty_restrictions_snapshot_v1",
        "snapshot_restrictions_total": 8,
        "snapshot_age_days": 0,
        "fingerprint": "1f9f45a713ae219639138361684ccb159f6104017410c5f22142e3b525b599d6"
      }
    },
    "continuity": {
      "path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpa9zrhprw/continuity.json",
      "status": "ok",
      "latest_snapshot_date": "2026-02-23",
      "latest_entry_id": "snap-2026-02-23",
      "previous_snapshot_chain_ok": true,
      "strict_fail_reasons": []
    },
    "checks": {
      "published_release_ok": true,
      "gh_pages_release_ok": true,
      "continuity_ok": true,
      "published_gh_parity_ok": true,
      "hf_available": true,
      "hf_release_ok_or_allowed": true,
      "published_hf_parity_ok": true,
      "gh_pages_hf_parity_ok": true,
      "expected_snapshot_match_ok": true,
      "stale_snapshot_ok": true,
      "continuity_entry_matches_published_ok": true
    },
    "stale_surfaces": [],
    "stale_alerts_count": 0,
    "drift_alerts_count": 0,
    "hf_unavailable": false,
    "warning_count": 0,
    "warnings": [],
    "strict_fail_count": 0,
    "strict_fail_reasons": []
  },
  "status": "ok"
}
{
  "generated_at": "2026-02-23T20:26:56+00:00",
  "strict": true,
  "heartbeat_path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmp_pa1e8y3/heartbeat.jsonl",
  "window_last": 2,
  "thresholds": {
    "max_failed": 0,
    "max_degraded": 0,
    "max_stale_alerts": 0,
    "max_drift_alerts": 0,
    "max_hf_unavailable": 0
  },
  "entries_total": 2,
  "entries_in_window": 2,
  "malformed_entries_in_window": 0,
  "status_counts": {
    "ok": 1,
    "degraded": 0,
    "failed": 1
  },
  "failed_in_window": 1,
  "failed_rate_pct": 50.0,
  "degraded_in_window": 0,
  "degraded_rate_pct": 0.0,
  "stale_alerts_in_window": 1,
  "drift_alerts_in_window": 1,
  "hf_unavailable_in_window": 1,
  "latest": {
    "run_at": "2026-02-23T19:02:00+00:00",
    "heartbeat_id": "2026-02-23T19:02:00+00:00|failed|2",
    "status": "failed",
    "line_no": 2,
    "malformed_line": false,
    "snapshot_date_expected": "2026-02-23",
    "stale_alerts_count": 1,
    "drift_alerts_count": 1,
    "hf_unavailable": true,
    "checks": {
      "continuity_ok": false,
      "published_gh_parity_ok": false,
      "expected_snapshot_match_ok": false
    }
  },
  "checks": {
    "window_nonempty_ok": true,
    "malformed_entries_ok": true,
    "max_failed_ok": false,
    "max_degraded_ok": true,
    "max_stale_alerts_ok": false,
    "max_drift_alerts_ok": false,
    "max_hf_unavailable_ok": false,
    "latest_not_failed_ok": false,
    "latest_no_stale_alerts_ok": false,
    "latest_no_drift_alerts_ok": false,
    "latest_continuity_ok": false,
    "latest_published_gh_parity_ok": false,
    "latest_expected_snapshot_match_ok": false
  },
  "strict_fail_reasons": [
    "max_failed_exceeded",
    "max_stale_alerts_exceeded",
    "max_drift_alerts_exceeded",
    "max_hf_unavailable_exceeded",
    "latest_status_failed",
    "latest_stale_alert_present",
    "latest_drift_alert_present",
    "latest_continuity_not_ok",
    "latest_published_gh_parity_not_ok",
    "latest_expected_snapshot_mismatch"
  ],
  "status": "failed"
}
{
  "generated_at": "2026-02-23T20:26:56+00:00",
  "strict": true,
  "heartbeat_path": "/Users/jesus/Library/CloudStorage/GoogleDrive-gsus123456@gmail.com/My Drive/CdC/Obsidian Vault/vota-con-la-chola/tmp/aiops131/tmpe6axlwn_/heartbeat.jsonl",
  "window_last": 2,
  "thresholds": {
    "max_failed": 0,
    "max_degraded": 0,
    "max_stale_alerts": 0,
    "max_drift_alerts": 0,
    "max_hf_unavailable": 0
  },
  "entries_total": 2,
  "entries_in_window": 2,
  "malformed_entries_in_window": 0,
  "status_counts": {
    "ok": 2,
    "degraded": 0,
    "failed": 0
  },
  "failed_in_window": 0,
  "failed_rate_pct": 0.0,
  "degraded_in_window": 0,
  "degraded_rate_pct": 0.0,
  "stale_alerts_in_window": 0,
  "drift_alerts_in_window": 0,
  "hf_unavailable_in_window": 0,
  "latest": {
    "run_at": "2026-02-23T19:02:00+00:00",
    "heartbeat_id": "2026-02-23T19:02:00+00:00|ok|2",
    "status": "ok",
    "line_no": 2,
    "malformed_line": false,
    "snapshot_date_expected": "2026-02-23",
    "stale_alerts_count": 0,
    "drift_alerts_count": 0,
    "hf_unavailable": false,
    "checks": {
      "continuity_ok": true,
      "published_gh_parity_ok": true,
      "expected_snapshot_match_ok": true
    }
  },
  "checks": {
    "window_nonempty_ok": true,
    "malformed_entries_ok": true,
    "max_failed_ok": true,
    "max_degraded_ok": true,
    "max_stale_alerts_ok": true,
    "max_drift_alerts_ok": true,
    "max_hf_unavailable_ok": true,
    "latest_not_failed_ok": true,
    "latest_no_stale_alerts_ok": true,
    "latest_no_drift_alerts_ok": true,
    "latest_continuity_ok": true,
    "latest_published_gh_parity_ok": true,
    "latest_expected_snapshot_match_ok": true
  },
  "strict_fail_reasons": [],
  "status": "ok"
}
{"error": "window_last must be >= 1"}
