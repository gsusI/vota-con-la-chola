out_arg=""; if [ -n "docs/etl/sprints/AI-OPS-105/evidence/citizen_concern_pack_outcomes_heartbeat_compaction_window_20260223T154953Z.json" ]; then out_arg="--out docs/etl/sprints/AI-OPS-105/evidence/citizen_concern_pack_outcomes_heartbeat_compaction_window_20260223T154953Z.json"; fi; python3 scripts/report_citizen_concern_pack_outcomes_heartbeat_compaction_window.py --heartbeat-jsonl "docs/etl/sprints/AI-OPS-105/evidence/citizen_concern_pack_outcomes_heartbeat_20260223T154953Z.jsonl" --compacted-jsonl "docs/etl/sprints/AI-OPS-105/evidence/citizen_concern_pack_outcomes_heartbeat_compacted_20260223T154953Z.jsonl" --last "20" --strict ${out_arg}
{
  "generated_at": "2026-02-23T15:49:53+00:00",
  "strict": true,
  "heartbeat_path": "docs/etl/sprints/AI-OPS-105/evidence/citizen_concern_pack_outcomes_heartbeat_20260223T154953Z.jsonl",
  "compacted_path": "docs/etl/sprints/AI-OPS-105/evidence/citizen_concern_pack_outcomes_heartbeat_compacted_20260223T154953Z.jsonl",
  "window_last": 20,
  "entries_total_raw": 1,
  "entries_total_compacted": 1,
  "window_raw_entries": 1,
  "window_raw_malformed_entries": 0,
  "compacted_malformed_entries": 0,
  "raw_window_status_counts": {
    "ok": 1,
    "degraded": 0,
    "failed": 0
  },
  "raw_window_incidents": 0,
  "raw_window_failed": 0,
  "raw_window_degraded": 0,
  "raw_window_strict_rows": 0,
  "raw_window_contract_incomplete_rows": 0,
  "raw_window_weak_pack_followthrough_violations": 0,
  "raw_window_unknown_pack_select_share_violations": 0,
  "present_in_compacted_in_window": 1,
  "missing_in_compacted_in_window": 0,
  "incident_present_in_compacted": 0,
  "incident_missing_in_compacted": 0,
  "failed_present_in_compacted": 0,
  "degraded_present_in_compacted": 0,
  "strict_rows_present_in_compacted": 0,
  "contract_incomplete_present_in_compacted": 0,
  "contract_incomplete_missing_in_compacted": 0,
  "weak_pack_followthrough_violations_present_in_compacted": 0,
  "weak_pack_followthrough_violations_missing_in_compacted": 0,
  "unknown_pack_select_share_violations_present_in_compacted": 0,
  "unknown_pack_select_share_violations_missing_in_compacted": 0,
  "malformed_present_in_compacted": 0,
  "raw_window_coverage_pct": 100.0,
  "incident_coverage_pct": 0.0,
  "latest_raw": {
    "id": "2026-02-23T15:49:53+00:00|ok|2026-02-23T15:49:53+00:00|24|7|7|1.000000|0.083333|20|5|0.300000|0.200000|1||",
    "heartbeat_id": "2026-02-23T15:49:53+00:00|ok|2026-02-23T15:49:53+00:00|24|7|7|1.000000|0.083333|20|5|0.300000|0.200000|1||",
    "run_at": "2026-02-23T15:49:53+00:00",
    "line_no": 1,
    "status": "ok",
    "malformed_line": false,
    "contract_complete": true,
    "weak_pack_followthrough_violation": false,
    "unknown_pack_select_share_violation": false,
    "present_in_compacted": true
  },
  "missing_raw_ids_sample": [],
  "missing_incident_ids_sample": [],
  "checks": {
    "window_nonempty_ok": true,
    "raw_window_malformed_ok": true,
    "compacted_malformed_ok": true,
    "latest_present_ok": true,
    "incident_parity_ok": true,
    "failed_parity_ok": true,
    "degraded_parity_ok": true,
    "strict_rows_parity_ok": true,
    "contract_incomplete_parity_ok": true,
    "weak_pack_followthrough_violations_parity_ok": true,
    "unknown_pack_select_share_violations_parity_ok": true,
    "malformed_parity_ok": true
  },
  "strict_fail_reasons": [],
  "status": "ok"
}
